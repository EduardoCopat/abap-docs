


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenabap sxml lib parse iterative - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sxml-library-token-based-parsing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenabap sxml lib parse iterative
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#procedure-principles" class="md-nav__link">
    Procedure (Principles)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#methods-and-attributes-for-token-based-parsing" class="md-nav__link">
    Methods and Attributes for Token-Based Parsing
  </a>
  
    <nav class="md-nav" aria-label="Methods and Attributes for Token-Based Parsing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods-for-token-based-parsing" class="md-nav__link">
    Methods for token-based parsing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attributes-for-token-based-parsing" class="md-nav__link">
    Attributes for token-based parsing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abenabap_sxml_lib_parse_iterative.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_data_communication" class="blue">Data Interfaces and Communication Interfaces</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_xml" class="blue">ABAP and XML</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_xml_libs" class="blue">Class Libraries for XML</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sxml_lib" class="blue">sXML Library</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sxml_lib_parse" class="blue">sXML Library - Parse</a>&#xA0;</small></p>
<h1 id="sxml-library-token-based-parsing">sXML Library, Token-Based Parsing</h1>
<p>In token-based parsing, the parser iterates across all nodes (tokens) in the tree structure of the XML
data, one after the other. By default, the iterator passes across all subnode branches until the final
node. The parser pauses after every iteration step on a node whose properties are available in the attributes
of the XML reader. If the parser pauses on the node for an opened element, the list of the XML attributes there can be accessed.</p>
<ul>

<li><a href="#@@ITOC@@PROCEDUREPRINCIPLES_1" class="blue">Procedure (Principles)</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@METHODSANDATTRIBUTESFORTOKENBASEDPARSING_2" class="blue">Methods and Attributes for Token-Based Parsing</a></li>

</ul>

<ul class="circlem2">

<li><a href="#@@ITOC@@METHODSFORTOKENBASEDPARSING_3" class="blue">Methods for token-based parsing</a></li>

</ul>

<ul class="circlem2">

<li><a href="#@@ITOC@@ATTRIBUTESFORTOKENBASEDPARSING_4" class="blue">Attributes for token-based parsing</a></li>

</ul>

<p><a name="@@ITOC@@PROCEDUREPRINCIPLES_1"></a>
Other versions: 
 <s><i>7.31</i></s> | <b>7.40</b> | <a href="../../7.54/abenabap_sxml_lib_parse_iterative">7.54</a></p>
<h2 id="procedure-principles">Procedure (Principles)</h2>
<p>An XML reader is created using the factory method CREATE of the class in question and by passing the source <code style="display: inline;"><span class="qtext">xml</span></code> to the XML data, for example:</p>
<dd>
<code style="display: inline;"><span class="qtext">DATA(reader) = cl_sxml_string_reader=&gt;create( xml ).</span></code>
</dd>

<p>The static type of the reference variables is then the interface <span class="lnkgrey">IF_SXML_READER</span> and its methods and attributes can be addressed directly.</p>
<p>In the simplest parsing case, the method NEXT_NODE is applied as many times as it takes to reach the end of the XML:</p>
<dd>
<code style="display: inline;"><span class="qtext">reader-&gt;next_node( ).</span></code>
</dd>

<p>Once the method is called, the attributes of the reader with the required properties of the node can
be accessed directly. If the parser pauses on the node of an opened element, the method  NEXT_ATTRIBUTE can be used to iterate across the list of attributes of an XML element:</p>
<dd>
<code style="display: inline;"><span class="qtext">reader-&gt;next_attribute( ).</span></code>
</dd>

<p>After this method, the attributes of the reader object contain the name and the value of the current XML attribute. The end of the data is displayed by the value of the constants IF_SXML_NODE=&gt;CO_NT_FINAL in the attribute NODE_TYPE. Any
<a href="../abenabap_sxml_lib_exceptions" class="blue">exceptions</a> should be caught and handled in a <code style="display: inline;"><span class="qtext">TRY</span></code> control structure.</p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>See <a href="../abensxml_parsing_abexa" class="blue">Token-Based Parsing</a>.</p>
<p><a name="@@ITOC@@METHODSANDATTRIBUTESFORTOKENBASEDPARSING_2"></a>
</div></p>
<h2 id="methods-and-attributes-for-token-based-parsing">Methods and Attributes for Token-Based Parsing</h2>
<p><a name="@@ITOC@@METHODSFORTOKENBASEDPARSING_3"></a></p>
<h3 id="methods-for-token-based-parsing">Methods for token-based parsing</h3>
<p>Alongside the simple iteration across nodes and attributes, the interfaces <span class="lnkgrey">IF_SXML_READER</span> offers several other methods for token-based parsing, summarized as follows:</p>
<ul>

<li>Methods for parsing across nodes</li>

</ul>

<ul class="circlem2">

<li>NEXT_NODE - Moves the parser to the next node</li>

</ul>

<ul class="circlem2">

<li>CURRENT_NODE - Moves the parser back to the node for the opened element of the current node, if available. This method is ignored by value nodes or closed elements.</li>

</ul>

<ul class="circlem2">

<li>PUSH_NODE - Moves the parser back to the node for the opened element of the direct parent node.</li>

</ul>

<ul class="circlem2">

<li>SKIP_NODE - Parses all nodes from a node for an opened element to the associated closed element.
The parser then pauses on the closed element. If required, the current node and all subnodes are passed to an XML writer. This method is ignored by value nodes or closed elements.</li>

</ul>

<ul>

<li>Methods for reading the attribute list</li>

</ul>

<ul class="circlem2">

<li>NEXT_ATTRIBUTE - Reads the next attribute in the list</li>

</ul>

<ul class="circlem2">

<li>NEXT_ATTRIBUTE_VALUE - Sets the attribute VALUE or VALUE_RAW of the read explicitly to the value of the current attribute</li>

</ul>

<ul class="circlem2">

<li>GET_ATTRIBUTE_VALUE - Sets the attribute VALUE of the reader to the value of a specific attribute</li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>Token-based parsing parsing is designed mainly for forwards interaction through the XML data. Free navigation, as possible in
<a href="../abenabap_ixml_lib" class="blue">iXML Library</a> in DOM, is not recommended here. The method
PUSH_BACK makes it possible to move back a step, but does not restore the reader to the state it had
when it reached the node using NEXT_NODE. After a PUSH_BACK, the parsed node does not always produced the same result as the last time. In particular, subnodes already parsed could be skipped.</li>

<p></ul>
<ul></p>
<li>If an XML element has several attributes with the same name, the system uses all of these attributes - in the order in which they appear (see <span class="lnkgrey">Example</span>).</li>

<p></ul>
<ul></p>
<li>The method CURRENT_NODE is most useful when reading an attribute list, so jump back to the start.</li>

<p></ul>
<ul></p>
<li>Apart from simply skipping nodes, the method SKIP_NODE can also be used to check the subtrees or
the full tree for errors or to copy trees. In particular, the format of the copied tree or subtree can be transformed into a different format (see
<a href="../abensxml_format_trafos_abexa" class="blue">Example</a>).</li>

<p></ul>
</div></p>
<h3 id="examples">Examples</h3>
<ul>

<li>See <a href="../abensxml_parsing_steps_abexa" class="blue">Steps in Token-Based Parsing</a>.</li>

<p></ul>
<ul></p>
<li>See <a href="../abensxml_parsing_methods_abexa" class="blue">Methods for Token-Based Parsing</a>.</li>

<p></ul>
<a name="@@ITOC@@ATTRIBUTESFORTOKENBASEDPARSING_4"></a></p>
<h3 id="attributes-for-token-based-parsing">Attributes for token-based parsing</h3>
<p>The attributes of the reader with the properties of the current node are:</p>
<ul>

<li>NODE_TYPE - Node type in accordance with the constants of the interface <span class="lnkgrey">IF_SXML_NODE</span></li>

</ul>

<ul>

<li>PREFIX - Namespace prefix</li>

</ul>

<ul>

<li>NAME - Element name</li>

</ul>

<ul>

<li>NSURI - Namespace</li>

</ul>

<ul>

<li>VALUE_TYPE - Type of the value in accordance with the constants of the interface <span class="lnkgrey">IF_SXML_VALUE</span>:</li>

</ul>

<ul class="circlem2">

<li>CO_VT_TEXT - Text data in the attribute VALUE</li>

</ul>

<ul class="circlem2">

<li>CO_VT_TEXT - Raw data in the attribute VALUE_RAW</li>

</ul>

<ul>

<li>VALUE - Character-like value (if text data)</li>

</ul>

<ul>

<li>VALUE_RAW - Byte-like value (if raw data)</li>

</ul>

<p>The value of the constants IF_SXML_NODE=&gt;CO_NT_FINAL in the attribute NODE_TYPE indicate that the end of the XML data was reached.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>When parsing, the attributes of a reader are only overwritten by non-initial content. If the parser
is set to a literal element without a name, for example, the preceding content of the attribute NAME
is kept. This applies particularly to the attribute VALUE, which is not initialized if a node does not have a value.</li>

<p></ul>
<ul></p>
<li>The attributes are declared in the interface IF_SXML_READER. In a reader class, they can also be addressed using alias names.</li>

</ul>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>