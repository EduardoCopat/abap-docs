


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapimport directory - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#import-directory" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapimport directory
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-fields" class="md-nav__link">
    System Fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abapimport_directory.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abendata_cluster" class="blue">Data Clusters</a>&#xA0;</small></p>
<h1 id="import-directory">IMPORT DIRECTORY</h1>
<p><a href="../abapimport_directory_shortref" class="blue">Short Reference</a>  </p>
<p><a name="@@IMPORT DIRECTORY@@!ABAP_STATEMENT!@@"></a>
<a name="@@INTO@@IMPORT DIRECTORY@@"></a>
<a name="@@FROM DATABASE@@IMPORT DIRECTORY@@"></a>
<a name="@@TO@@IMPORT DIRECTORY@@"></a>
<a name="@@CLIENT@@IMPORT DIRECTORY@@"></a>
<a name="@@ID@@IMPORT DIRECTORY@@"></a>
Other versions: 
 <a href="../../7.31/abapimport_directory">7.31</a> | <b>7.40</b> | <a href="../../7.54/abapimport_directory">7.54</a></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">IMPORT DIRECTORY INTO itab</span> <br><span class="qtext">&#xA0;&#xA0;FROM DATABASE dbtab(ar) [TO wa] [CLIENT cl] ID id.</span> 
</code></pre></p>
<h3 id="effect">Effect</h3>
<p>This statement passes a table of contents of all data objects of a
<a href="../abendata_cluster_glosry" class="grey" title="Glossary Entry">data cluster</a> that was
written to the database table <code style="display: inline;"><span class="qtext">dbtab</span></code> in the area <code style="display: inline;"><span class="qtext">ar</span></code>
and under the ID specified in <code style="display: inline;"><span class="qtext">id</span></code> using the statement <code style="display: inline;"><span class="qtext">EXPORT</span></code> to the internal table <code style="display: inline;"><span class="qtext">itab</span></code>. The database table <code style="display: inline;"><span class="qtext">dbtab</span></code> must be
<a href="../abenexport_data_cluster_indx" class="blue">set up</a> in the same way as described for
the <a href="../abapexport_data_cluster_medium" class="blue"><code style="display: inline;"><span class="qtext">EXPORT</span></code></a> statement (INDX-like). <code style="display: inline;"><span class="qtext">id</span></code> expects a
<a href="../abenflat_glosry" class="grey" title="Glossary Entry">flat</a>
<a href="../abencharlike_data_object_glosry" class="grey" title="Glossary Entry">character-like data
object</a> that contains the ID of the data cluster and the two-character area <code style="display: inline;"><span class="qtext">ar</span></code>
must be specified directly. The additions <code style="display: inline;"><span class="qtext">TO</span></code> and <code style="display: inline;"><span class="qtext">CLIENT</span></code>
have the same relevance as described in the statement <a href="../abapimport_medium" class="blue"><code style="display: inline;"><span class="qtext">IMPORT</span></code></a> for important data from the data cluster.</p>
<p>For <code style="display: inline;"><span class="qtext">itab</span></code>, index tables whose row type matches the structure <span class="lnkgrey">CDIR</span>
in ABAP Dictionary are allowed. The following table shows the components of the structure CDIR and their relevance.</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Type</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME</td>
<td>CHAR(30)</td>
<td>Name of the parameter under which a data object was saved.</td>
</tr>
<tr>
<td>OTYPE:</td>
<td>CHAR(1)</td>
<td>General type of the data object saved. Possible values: <span class="qtext400">&quot;F&quot;</span> for elementary, flat data objects, <span class="qtext400">&quot;G&quot;</span> for strings, <span class="qtext400">&quot;R&quot;</span> for<a href="../abenflat_structure_glosry" class="grey" title="Glossary Entry">flat structures</a>, <span class="qtext400">&quot;S&quot;</span> for<a href="../abendeep_structure_glosry" class="grey" title="Glossary Entry">deep structures</a>, <span class="qtext400">&quot;T&quot;</span> for internal tables with flat row type and <span class="qtext400">&quot;C&quot;</span> for tables with a deep row type.</td>
</tr>
<tr>
<td>FTYPE</td>
<td>CHAR(1)</td>
<td>More specific type of the data object saved. For elementary data objects and internal tables witha elementary row type, the data or row type is returned in accordance with the table of return valuesfrom <a href="../abapdescribe_field" class="blue"><code style="display: inline;"><span class="qtext">DESCRIBE FIELD ... TYPE</span></code></a>(&quot;a&quot;, &quot;b&quot;, &quot;C&quot;, &quot;D&quot;, &quot;e&quot;, &quot;F&quot;, &quot;g&quot;, &quot;I&quot;, &quot;N&quot;, &quot;P&quot;, &quot;s&quot;, &quot;T&quot;, &quot;X&quot;, &quot;y&quot;). In the case of flat structures and internal tables with flat structured row types, <span class="qtext400">&quot;C&quot;</span> is returned. In the case of<a href="../abendeep_glosry" class="grey" title="Glossary Entry">deep</a> structures and internal tableswith deep structured row types, &quot;v&quot; is returned. In the case of a table that has an internal table as a row type, &quot;h&quot; is returned.</td>
</tr>
<tr>
<td>TFILL</td>
<td>INT4</td>
<td>Length filled of the saved data object. For strings the length of the content in bytes is returned and for internal tables the number of rows is returned. The value 0 is returned for other data objects.</td>
</tr>
<tr>
<td>FLENG</td>
<td>INT2</td>
<td>Length of saved data object or saved table row in bytes. The value 8 is returned for strings.</td>
</tr>
</tbody>
</table>
<h3 id="system-fields">System Fields</h3>
<table>
<thead>
<tr>
<th>sy-subrc</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>The specified data cluster was found and a list of the exported data objects was passed to the internal table <code style="display: inline;"><span class="qtext">itab</span></code>.</td>
</tr>
<tr>
<td>4</td>
<td>The specified data cluster was not found.</td>
</tr>
</tbody>
</table>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Saving three data objects in a data cluster and reading the directory. The content of the table <code style="display: inline;"><span class="qtext">itab</span></code> in a Unicode system is as follows:</p>
<table>
<thead>
<tr>
<th>NAME</th>
<th>OTYPE:</th>
<th>FTYPE</th>
<th>TFILL</th>
<th>FLENG</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">&quot;PAR1&quot;</span></td>
<td><span class="qtext400">&quot;F&quot;</span></td>
<td><span class="qtext400">&quot;a&quot;</span></td>
<td>0</td>
<td>8</td>
</tr>
<tr>
<td><span class="qtext400">&quot;PAR2&quot;</span></td>
<td><span class="qtext400">&quot;T&quot;</span></td>
<td><span class="qtext400">&quot;I&quot;</span></td>
<td>10</td>
<td>4</td>
</tr>
<tr>
<td><span class="qtext400">&quot;PAR3&quot;</span></td>
<td><span class="qtext400">&quot;R&quot;</span></td>
<td><span class="qtext400">&quot;C&quot;</span></td>
<td>0</td>
<td>168</td>
</tr>
</tbody>
</table>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span><span class="p">:</span> <span class="nv">f1</span> <span class="k">TYPE </span><span class="nv">decfloat16</span><span class="p">,</span> 
      <span class="nv">f2</span> <span class="k">TYPE TABLE OF</span> <span class="nv">i</span><span class="p">,</span> 
      <span class="nv">f3</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="p">.</span> 

<span class="k">DATA</span> <span class="nv">itab</span> <span class="k">TYPE STANDARD TABLE OF</span> <span class="nv">cdir</span><span class="p">.</span> 

<span class="nv">f2</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="k">FOR</span> <span class="nv">j</span> <span class="o">=</span> <span class="mi">1</span> <span class="nv">UNTIL</span> <span class="nv">j</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="p">(</span> <span class="nv">j</span> <span class="p">)</span> <span class="p">).</span> 

<span class="k">EXPORT</span> <span class="nv">par1</span> <span class="o">=</span> <span class="nv">f1</span> 
       <span class="nv">par2</span> <span class="o">=</span> <span class="nv">f2</span> 
       <span class="nv">par3</span> <span class="o">=</span> <span class="nv">f3</span> <span class="k">TO DATABASE</span> <span class="nv">demo_indx_table</span><span class="p">(</span><span class="nv">hk</span><span class="p">)</span> <span class="k">ID</span> <span class="s1">&#39;HK&#39;</span><span class="p">.</span> 

<span class="k">IMPORT</span> <span class="k">DIRECTORY</span> <span class="k">INTO</span> <span class="nv">itab</span> <span class="k">FROM DATABASE</span> <span class="nv">demo_indx_table</span><span class="p">(</span><span class="nv">hk</span><span class="p">)</span> <span class="k">ID</span> <span class="s1">&#39;HK&#39;</span><span class="p">.</span> 
</code></pre></div>
</div></p>
<h3 id="exceptions">Exceptions</h3>
<p><br style="display: block">
<div markdown="span" class="admonition tip">
<p class="admonition-title">Non-Catchable Exceptions</p>
<ul></p>
<li>
<span class="italic">Cause:</span> Target table has an invalid structure. <br><span class="italic">Runtime Error:</span> <code style="display: inline;"><span class="qtext">IMPORT_DIR_WRONG_TABLE_STRUC</span></code> <br>
</li>

</ul>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>