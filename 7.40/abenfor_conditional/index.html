


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenfor conditional - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#for-conditional-iteration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenfor conditional
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abenfor_conditional.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_flow_logic" class="blue">Program Flow Logic</a>&#xA0;&#x2192;&#xA0;
<a href="../abeniteration_expressions" class="blue">Iteration Expressions</a>&#xA0;&#x2192;&#xA0;
<a href="../abenfor" class="blue">FOR - Iteration Expressions</a>&#xA0;</small></p>
<h1 id="for-conditional-iteration">FOR - Conditional Iteration</h1>
<p><a name="@@ITOC@@SYNTAX_1"></a>
Other versions: 
 <s><i>7.31</i></s> | <b>7.40</b> | <a href="../../7.54/abenfor_conditional">7.54</a></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext"> ... FOR var = lhs [THEN expr] UNTIL|WHILE <a href="../abenlogexp" class="blue">log_exp</a> [<a href="../abaplet" class="blue">let_exp</a>] ...</span>
</code></pre></p>
<h3 id="effect">Effect</h3>
<p>This syntax form of an <a href="../abeniteration_expression_glosry" class="grey" title="Glossary Entry">iteration expression</a> executes a conditional iteration.</p>
<ul>

<li>When this syntax is used in a constructor expression with the reduction operator <a href="../abenconstructor_expression_reduce" class="blue">
<code style="display: inline;"><span class="qtext">REDUCE</span></code></a>, the reduction result is created in the iteration steps.</li>

</ul>

<ul>

<li>If this syntax is used in a constructor expression with the instancing operator <a href="../abennew_constructor_params_itab" class="blue">
<code style="display: inline;"><span class="qtext">NEW</span></code></a> or with the value operator <a href="../abenvalue_constructor_params_itab" class="blue">
<code style="display: inline;"><span class="qtext">VALUE</span></code></a> for internal tables, then new table rows are created in the iteration steps und added to the tabular result.</li>

</ul>

<p>The parameters and arguments of the iteration expression must be specified as follows:</p>
<ul>

<li>First a local auxiliary variable <code style="display: inline;"><span class="qtext">var</span></code> must be declared as an iteration
variable and a start value <code style="display: inline;"><span class="qtext">lhs</span></code> with <code style="display: inline;"><span class="qtext">=</span></code> must be
assigned to this auxiliary variable. The same applies to the namespace and visibility of <code style="display: inline;"><span class="qtext">var</span></code>as
applies to the auxiliary fields declared in a <a href="../abaplet" class="blue"><code style="display: inline;"><span class="qtext">LET</span></code>
expression</a>. The syntax of the declaration is exactly the same as in a <a href="../abaplet" class="blue"><code style="display: inline;"><span class="qtext">LET</span></code> expression</a> and it follows the rules that apply here.</li>

</ul>

<ul>

<li>The next position depends on the data type of the iteration variable <code style="display: inline;"><span class="qtext">var</span></code>:</li>

</ul>

<ul class="circlem2">

<li>If the iteration variable <code style="display: inline;"><span class="qtext">var</span></code> does not have a
<a href="../abennumeric_data_type_glosry" class="grey" title="Glossary Entry">numerical data type</a>
and is not of type <code style="display: inline;"><span class="qtext">d</span></code> or <code style="display: inline;"><span class="qtext">t</span></code>, then an expression
<code style="display: inline;"><span class="qtext">expr</span></code> is specified after <code style="display: inline;"><span class="qtext">THEN</span></code>. The result of this
expression can be converted into a data type of <code style="display: inline;"><span class="qtext">var</span></code>. The expression is calculated for every iteration and its result is assigned to the iteration variable <code style="display: inline;"><span class="qtext">var</span></code>. This is a
<a href="../abengeneral_expr_position_glosry" class="grey" title="Glossary Entry">general expression position</a>.</li>

</ul>

<ul class="circlem2">

<li>If the iteration variable <code style="display: inline;"><span class="qtext">var</span></code> has a
<a href="../abennumeric_data_type_glosry" class="grey" title="Glossary Entry">numerical data type</a>,
or the variable is of type <code style="display: inline;"><span class="qtext">d</span></code> or <code style="display: inline;"><span class="qtext">t</span></code>, <code style="display: inline;"><span class="qtext">THEN expr</span></code> is optional. If <code style="display: inline;"><span class="qtext">THEN expr</span></code> is not explicitly specified, <span class="qtext">THEN var +
1</span> is implicitly added or the value of the iteration variable is increased by 1 for every iteration.</li>

</ul>

<ul>

<li>Next a termination condition <code style="display: inline;"><span class="qtext">log_exp</span></code> must be specified after <code style="display: inline;"><span class="qtext">UNTIL</span></code> or <code style="display: inline;"><span class="qtext">WHILE</span></code>. <code style="display: inline;"><span class="qtext">log_exp</span></code> is any
<a href="../abenlogical_expression_glosry" class="grey" title="Glossary Entry">logical expression</a> whose operands can be all visible data objects and any possible calls at this place.</li>

</ul>

<ul class="circlem2">

<li>If the termination condition is specified after <code style="display: inline;"><span class="qtext">UNTIL</span></code>, the logical expression
<code style="display: inline;"><span class="qtext">log_exp</span></code> is evaluated after every iteration step. If the result of the logical expression is true, the iteration is ended. At least one iteration step is executed.</li>

</ul>

<ul class="circlem2">

<li>If the termination condition is specified after <code style="display: inline;"><span class="qtext">WHILE</span></code>, the logical expression
<code style="display: inline;"><span class="qtext">log_exp</span></code> is evaluated after every iteration step. If the result of the logical
expression is false, the iteration is ended. If the result of the logical expression is false even before the first iteration step, no iteration steps are executed.</li>

</ul>

<ul>

<li>A <code style="display: inline;"><span class="qtext">LET</span></code> expression <a href="../abaplet" class="blue"> <code style="display: inline;"><span class="qtext">let_exp</span></code></a>
can be specified (optional) at the end to define local auxiliary fields. The auxiliary fields are used in every iteration step and can be used to construct the result.</li>

</ul>

<p>The variables declared in <code style="display: inline;"><span class="qtext">FOR</span></code> expressions are local. The local data from
all outer <code style="display: inline;"><span class="qtext">FOR</span></code> expressions can be used when their values are defined. The
iteration variable and auxiliary variables can be used after the <code style="display: inline;"><span class="qtext">FOR</span></code> expression; either in additional subexpressions or to construct the result.</p>
<p>The system field <code style="display: inline;"><span class="qtext">sy-index</span></code> is not set by a <code style="display: inline;"><span class="qtext">FOR</span></code> expression.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>Usually the expression <code style="display: inline;"><span class="qtext">expr</span></code> (after <code style="display: inline;"><span class="qtext">THEN</span></code>) and
the termination condition <code style="display: inline;"><span class="qtext">log_exp</span></code> (after <code style="display: inline;"><span class="qtext">UNTIL</span></code>
or <code style="display: inline;"><span class="qtext">WHILE</span></code>) depend on the iteration variable <code style="display: inline;"><span class="qtext">var</span></code>.
However this not mandatory. The value of the iteration variable or the termination condition can also be determined in other ways. For example, status changes can be retrieved using method calls.</li>

<p></ul>
<ul></p>
<li>Usually a termination condition after <code style="display: inline;"><span class="qtext">UNTIL</span></code> is preferable to a termination
condition after <code style="display: inline;"><span class="qtext">WHILE</span></code> in all cases where the termination condition does not have to be checked before the first iteration step.</li>

<p></ul>
<ul></p>
<li>In many cases, iteration expressions for conditional iterations can replace <a href="../abapdo" class="blue">
<code style="display: inline;"><span class="qtext">DO</span></code></a> and <a href="../abapwhile" class="blue"><code style="display: inline;"><span class="qtext">WHILE</span></code></a> loops, which construct values and internal tables.</li>

<p></ul>
<ul></p>
<li>Multiple sequential <code style="display: inline;"><span class="qtext">FOR</span></code> expressions with different variants (including the
<a href="../abenfor_itab" class="blue">tabular iterations</a>) can be specified in a constructor expression. These expressions then work in the same way as nested loops.</li>

<p></ul>
<ul></p>
<li>The <a href="../abenprofile_parameter_glosry" class="grey" title="Glossary Entry">profile parameter</a>
<span class="lnkgrey">rdisp/max_wprun_time</span> limits the maximum execution time of an ABAP program.
If this runtime is exceeded because the termination condition does not occur in time, the program is ended by the runtime environment.</li>

<p></ul>
<ul></p>
<li>Unlike in a <a href="../abaplet" class="blue"> <code style="display: inline;"><span class="qtext">LET</span></code> expression</a> expression, a local field symbol cannot be declared instead of the iteration variable <code style="display: inline;"><span class="qtext">var</span></code>.</li>

<p></ul>
</div></p>
<h3 id="examples">Examples</h3>
<p>See <a href="../abeniteration_expressions_abexas" class="blue">Examples of Iteration Expressions</a>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>