


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abendataset auth self - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#validation-of-file-names" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abendataset auth self
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-logical-file-names" class="md-nav__link">
    Using Logical File Names
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-physical-file-names" class="md-nav__link">
    Using Physical File Names
  </a>
  
    <nav class="md-nav" aria-label="Using Physical File Names">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#self-programmed-validation" class="md-nav__link">
    Self-Programmed Validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation-with-logical-file-names" class="md-nav__link">
    Validation with logical file names
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abendataset_auth_self.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_files" class="blue">ABAP File Interface</a>&#xA0;&#x2192;&#xA0;
<a href="../abendataset_auth" class="blue">Authorization for File Access</a>&#xA0;</small></p>
<h1 id="validation-of-file-names">Validation of File Names</h1>
<p>Alongside the <a href="../abenfile_interface_authority" class="blue">automatic authorization checks</a>, it may be necessary to validate field names before they are used to prevent
<a href="../abendirectory_traversal_glosry" class="grey" title="Glossary Entry">directory traversals</a>. This is particularly important if</p>
<ul>

<li>the automatic authorization checks are not enough, for example because the database table SPTH or the authorizations for the authorization objectS_DATASET have not been defined in full.</li>

</ul>

<ul>

<li>programs with <a href="../abenphysical_filename_glosry" class="grey" title="Glossary Entry">physical file names</a> are used, and these file names are provided using external interfaces such as APIs or UI.</li>

</ul>

<p>However if logical file names are consistently used, there is no need for validation.</p>
<ul>

<li><a href="#@@ITOC@@USINGLOGICALFILENAMES_1" class="blue">Using Logical File Names</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@USINGPHYSICALFILENAMES_2" class="blue">Using Physical File Names</a></li>

</ul>

<ul class="circlem2">

<li><a href="#@@ITOC@@SELFPROGRAMMEDVALIDATION_3" class="blue">Self-Programmed Validation</a></li>

</ul>

<ul class="circlem2">

<li><a href="#@@ITOC@@VALIDATIONWITHLOGICALFILENAMES_4" class="blue">Validation with logical file names</a></li>

</ul>

<p><a name="@@ITOC@@USINGLOGICALFILENAMES_1"></a>
Other versions: 
 <a href="../../7.31/abendataset_auth_self">7.31</a> | <b>7.40</b> | <a href="../../7.54/abendataset_auth_self">7.54</a></p>
<h2 id="using-logical-file-names">Using Logical File Names</h2>
<p>File names do not usually need to be validated if a program is consistent in using only
<a href="../abenlogical_filename_glosry" class="grey" title="Glossary Entry">logical file names</a>
created by the system administrator in the transactions <span class="lnkgrey">FILE</span> or <span class="lnkgrey">SF01</span>.
Next, the set of logical file names available to an application defines the set of possible physical
file names. The associated physical file names are not edited explicitly in the program. Instead, the
function module <span class="lnkgrey">FILE_GET_NAME</span> is used to generate the physical file name from the logical file name directly before it is used in a
<a href="../abenfile_interface_statements" class="blue">statement of the file interface</a> and used for file access.</p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following program works with a logical file name in field <code style="display: inline;"><span class="qtext">log_name</span></code>. The
function module FILE_GET_NAME uses this file name to generate a platform-specific physical file name
in <code style="display: inline;"><span class="qtext">phys_name</span></code> (for use in statement <code style="display: inline;"><span class="qtext">OPEN DATASET</span></code>).
As the value <code style="display: inline;"><span class="qtext">abap_true</span></code> is passed to parameter INCLUDING_DIR, the physical file name is absolute; in other words, it contains an absolute path.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span><span class="p">:</span> <span class="nv">log_name</span>  <span class="k">TYPE </span><span class="nv">filename</span><span class="o">-</span><span class="nv">fileintern</span><span class="p">,</span> 
      <span class="nv">phys_name</span> <span class="k">TYPE </span><span class="nv">string</span><span class="p">.</span> 

<span class="p">...</span> 

<span class="k">CALL FUNCTION</span> <span class="s1">&#39;FILE_GET_NAME&#39;</span> 
  <span class="k">EXPORTING</span> 
    <span class="nv">logical_filename</span> <span class="o">=</span> <span class="nv">log_name</span> 
    <span class="nv">including_dir</span>    <span class="o">=</span> <span class="nv">abap_true</span> 
  <span class="k">IMPORTING</span> 
    <span class="nv">file_name</span>        <span class="o">=</span> <span class="nv">phys_name</span> 
  <span class="k">EXCEPTIONS</span> 
    <span class="nv">file_not_found</span>   <span class="o">=</span> <span class="mi">2</span> 
    <span class="k">OTHERS</span>           <span class="o">=</span> <span class="mi">4</span><span class="p">.</span> 
<span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">.</span> 
  <span class="k">MESSAGE</span> <span class="k">ID</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgid</span> <span class="nv">TYPE</span> <span class="s1">&#39;I&#39;</span> <span class="k">NUMBER</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgno</span> 
                     <span class="k">WITH</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgv1</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgv2</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgv3</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgv4</span> 
                      <span class="nv">DISPLAY</span> <span class="k">LIKE </span><span class="nv">sy</span><span class="o">-</span><span class="nv">msgty</span><span class="p">.</span> 
  <span class="k">RETURN</span><span class="p">.</span> 
<span class="k">ENDIF</span><span class="p">.</span> 

<span class="k">OPEN DATASET</span> <span class="nv">phys_name</span> <span class="k">FOR</span> <span class="nv">OUTPUT</span> <span class="k">IN</span> <span class="nv">TEXT</span> <span class="nv">MODE</span> <span class="nv">ENCODING</span> <span class="nv">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="p">.</span> 

<span class="p">...</span> 
</code></pre></div>
<a name="@@ITOC@@USINGPHYSICALFILENAMES_2"></a>
</div></p>
<h2 id="using-physical-file-names">Using Physical File Names</h2>
<p>If a program uses <a href="../abenphysical_filename_glosry" class="grey" title="Glossary Entry">physical file names</a>, then the name almost always needs to be validated.</p>
<p><a name="@@ITOC@@SELFPROGRAMMEDVALIDATION_3"></a></p>
<h3 id="self-programmed-validation">Self-Programmed Validation</h3>
<p>If valid directories and file names are defined precisely (as is often the case in programs from the technical infrastructure), this type of validation can be skipped. The following can be used, for example:</p>
<ul>

<li>Methods from <a href="../abenabap_data_string" class="blue">character string processing</a>,</li>

</ul>

<ul>

<li>Methods from class <span class="lnkgrey">CL_ABAP_DYN_PRG</span> for checkingwhitelists,</li>

</ul>

<ul>

<li>Methods in the class <span class="lnkgrey">CL_FS_PATH</span></li>

</ul>

<p>However, a validation that you have programmed yourself (especially when using character string processing) is only for simple cases. For all other cases, validation with logical file names is usually recommended.</p>
<p><a name="@@ITOC@@VALIDATIONWITHLOGICALFILENAMES_4"></a></p>
<h3 id="validation-with-logical-file-names">Validation with logical file names</h3>
<p>In many cases, directories and file names are generic, and are predefined by the system administrator
when configuring the system. They can be modified or enhanced while the system is running. In these cases, the concept of logical file names should be employed when handling physical file names explicitly.</p>
<p>In addition to the case above, where a program uses only logical file names, the associations between
logical and physical file names can also be useful when handling physical file names for validation
purposes. As long as the list of logical file names is complete, the function module <span class="lnkgrey">FILE_VALIDATE_NAME</span>
can be called before a file is accessed. This module checks whether the physical file name is associated
with a logical file name or whether the directory is valid. In this way, the function module checks whether the physical file exists in the set defined by the logical file names.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>The function module FILE_VALIDATE_NAME always checks absolute file names with specified paths. If a
relative file name is passed for checking, the default path is implicitly added as a prefix to <span class="lnkgrey">DIR_HOME</span> in accordance with the
<a href="../abenprofile_parameter_glosry" class="grey" title="Glossary Entry">profile parameter</a>.</p>
<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Validation of a directory. For a directory, the logical file name contained in <code style="display: inline;"><span class="qtext">log_name</span></code>
must have been created in the format <span class="qtext400">DIR</span> using transaction <span class="lnkgrey">FILE</span>.
The function module FILE_GET_NAME provides the platform-specific path for this directory. For a directory,
the value <code style="display: inline;"><span class="qtext">abap_true</span></code> must be passed to parameter INCLUDING_DIR, otherwise
the function module is terminated with an exception. Method IS_RELATIVE of class <span class="lnkgrey">CL_FS_PATH</span>
checks whether a file name entered by a user is relative or contains an absolute path. A relative file
name is chained with the path to an absolute file name in <code style="display: inline;"><span class="qtext">phys_name</span></code>. An existing
absolute file name is applied without being modified. Finally, <code style="display: inline;"><span class="qtext">phys_name</span></code>
with FILE_VALIDATE_NAME is validated by checking the directory of <code style="display: inline;"><span class="qtext">log_name</span></code>.
This check is also necessary when creating a chain from the path and relative file name. This is because
the specified relative file name can contains parts such as <span class="qtext400">..\</span>, which can point to path locations outside of the permitted directory.</p>
<div class="highlight"><pre><span></span><code><span class="k">DATA</span><span class="p">:</span> <span class="nv">file</span> <span class="k">TYPE </span><span class="nv">string</span><span class="p">,</span> 
      <span class="nv">log_name</span>  <span class="k">TYPE </span><span class="nv">filename</span><span class="o">-</span><span class="nv">fileintern</span><span class="p">,</span> 
      <span class="nv">path</span>      <span class="k">TYPE </span><span class="nv">string</span><span class="p">.</span> 

<span class="k">CALL FUNCTION</span> <span class="s1">&#39;FILE_GET_NAME&#39;</span> 
  <span class="k">EXPORTING</span> 
    <span class="nv">logical_filename</span> <span class="o">=</span> <span class="nv">log_name</span> 
    <span class="nv">including_dir</span>    <span class="o">=</span> <span class="nv">abap_true</span> 
  <span class="k">IMPORTING</span> 
    <span class="nv">file_name</span>        <span class="o">=</span> <span class="nv">path</span> 
  <span class="k">EXCEPTIONS</span> 
    <span class="nv">file_not_found</span>   <span class="o">=</span> <span class="mi">2</span> 
    <span class="k">OTHERS</span>           <span class="o">=</span> <span class="mi">4</span><span class="p">.</span> 
<span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">.</span> 
  <span class="k">MESSAGE</span> <span class="k">ID</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgid</span> <span class="nv">TYPE</span> <span class="s1">&#39;I&#39;</span> <span class="k">NUMBER</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgno</span> <span class="nv">DISPLAY</span> <span class="k">LIKE </span><span class="nv">sy</span><span class="o">-</span><span class="nv">msgty</span><span class="p">.</span> 
  <span class="k">RETURN</span><span class="p">.</span> 
<span class="k">ENDIF</span><span class="p">.</span> 

<span class="nv">cl_demo_input</span><span class="o">=&gt;</span><span class="nf">request</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">file</span> <span class="p">).</span> 

<span class="k">DATA</span><span class="p">(</span><span class="nv">phys_name</span><span class="p">)</span> <span class="o">=</span> <span class="nv">COND</span> <span class="nv">string</span><span class="p">(</span> 
  <span class="k">WHEN</span> <span class="nv">cl_fs_path</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="nv">file</span> <span class="p">)</span><span class="o">-&gt;</span><span class="nf">is_relative</span><span class="p">(</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">abap_true</span> <span class="nv">THEN</span> 
    <span class="nv">path</span> <span class="o">&amp;&amp;</span> <span class="nv">file</span> 
  <span class="k">ELSE</span> 
    <span class="nv">file</span> <span class="p">).</span> 

<span class="k">CALL FUNCTION</span> <span class="s1">&#39;FILE_VALIDATE_NAME&#39;</span> 
  <span class="k">EXPORTING</span> 
    <span class="nv">logical_filename</span>           <span class="o">=</span> <span class="nv">log_name</span> 
  <span class="k">CHANGING</span> 
    <span class="nv">physical_filename</span>          <span class="o">=</span> <span class="nv">phys_name</span> 
  <span class="k">EXCEPTIONS</span> 
    <span class="nv">logical_filename_not_found</span> <span class="o">=</span> <span class="mi">1</span> 
    <span class="nv">validation_failed</span>          <span class="o">=</span> <span class="mi">2</span> 
    <span class="k">OTHERS</span>                     <span class="o">=</span> <span class="mi">4</span><span class="p">.</span> 

<span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">.</span> 
  <span class="k">MESSAGE</span> <span class="k">ID</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgid</span> <span class="nv">TYPE</span> <span class="s1">&#39;I&#39;</span> <span class="k">NUMBER</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgno</span> 
                     <span class="k">WITH</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgv1</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgv2</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgv3</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">msgv4</span> 
                      <span class="nv">DISPLAY</span> <span class="k">LIKE </span><span class="nv">sy</span><span class="o">-</span><span class="nv">msgty</span><span class="p">.</span> 
  <span class="k">RETURN</span><span class="p">.</span> 
<span class="k">ENDIF</span><span class="p">.</span> 

<span class="k">OPEN DATASET</span> <span class="nv">phys_name</span> <span class="k">FOR</span> <span class="nv">OUTPUT</span> <span class="k">IN</span> <span class="nv">TEXT</span> <span class="nv">MODE</span> <span class="nv">ENCODING</span> <span class="nv">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="p">.</span>
</code></pre></div>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>