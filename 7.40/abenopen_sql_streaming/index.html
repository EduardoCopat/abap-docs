


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenopen sql streaming - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#open-sql-streaming" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenopen sql streaming
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#system-classes-and-system-interfaces-for-reader-and-writer-streams" class="md-nav__link">
    System Classes and System Interfaces for Reader and Writer Streams
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-methods" class="md-nav__link">
    Important Methods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-sources-and-data-sinks" class="md-nav__link">
    Data Sources and Data Sinks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-data-streams-for-lobs" class="md-nav__link">
    Creating Data Streams for LOBs
  </a>
  
    <nav class="md-nav" aria-label="Creating Data Streams for LOBs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reader-streams" class="md-nav__link">
    Reader Streams
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writer-streams" class="md-nav__link">
    Writer Streams
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#closing-data-streams-for-lobs" class="md-nav__link">
    Closing Data Streams for LOBs
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abenopen_sql_streaming.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Accesses</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopensql" class="blue">Open SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abenstreams_locators" class="blue">Open SQL - Streaming and Locators</a>&#xA0;</small></p>
<h1 id="open-sql-streaming">Open SQL - Streaming</h1>
<p>Open SQL supports <a href="../abenstreaming_glosry" class="grey" title="Glossary Entry">streaming</a> for <a href="../abenlob_glosry" class="grey" title="Glossary Entry">LOBs</a> in database tables.</p>
<p><a name="@@ITOC@@SYSTEMCLASSESANDSYSTEMINTERFACESFORREADERANDWRITERSTREAMS_1"></a>
Other versions: 
 <a href="../../7.31/abenopen_sql_streaming">7.31</a> | <b>7.40</b> | <a href="../../7.54/abenopen_sql_streaming">7.54</a></p>
<h2 id="system-classes-and-system-interfaces-for-reader-and-writer-streams">System Classes and System Interfaces for Reader and Writer Streams</h2>
<p>The <a href="../abensystem_class_glosry" class="grey" title="Glossary Entry">system classes</a> for the various types of
<a href="../abendata_stream_glosry" class="grey" title="Glossary Entry">data streams</a> are:</p>
<ul>

<li><span class="lnkgrey">CL_ABAP_DB_C_READER</span> for character-like reader streams. The
<a href="../abendata_source_glosry" class="grey" title="Glossary Entry">data source</a> is a <a href="../abenclob_glosry" class="grey" title="Glossary Entry">CLOB</a>.</li>

</ul>

<ul>

<li><span class="lnkgrey">CL_ABAP_DB_X_READER</span> for binary reader streams. The
<a href="../abendata_source_glosry" class="grey" title="Glossary Entry">data source</a> is a <a href="../abenblob_glosry" class="grey" title="Glossary Entry">BLOB</a>.</li>

</ul>

<ul>

<li><span class="lnkgrey">CL_ABAP_DB_C_WRITER</span> for character-like writer streams. The
<a href="../abendata_source_glosry" class="grey" title="Glossary Entry">data sink</a> is a <a href="../abenclob_glosry" class="grey" title="Glossary Entry">CLOB</a>.</li>

</ul>

<ul>

<li><span class="lnkgrey">CL_ABAP_DB_X_WRITER</span> for binary writer streams. The
<a href="../abendata_source_glosry" class="grey" title="Glossary Entry">data sink</a> is a <a href="../abenblob_glosry" class="grey" title="Glossary Entry">BLOB</a>.</li>

</ul>

<p>The special interfaces</p>
<ul>

<li><span class="lnkgrey">IF_ABAP_DB_READER</span></li>

</ul>

<ul>

<li><span class="lnkgrey">IF_ABAP_DB_WRITER</span></li>

</ul>

<p>are used to access the reader and writer streams independently of the
<a href="../abenstream_type_glosry" class="grey" title="Glossary Entry">stream
type</a>. For further resource-independent classes and interfaces, as well as for the hierarchy of the object types, see the figure and explanation under
<a href="../abenstreaming" class="blue">Streaming</a>.</p>
<p><a name="@@ITOC@@IMPORTANTMETHODS_2"></a></p>
<h2 id="important-methods">Important Methods</h2>
<p>The methods for streaming in Open SQL are the same as for general <a href="../abenstreaming" class="blue">streaming</a>.</p>
<p><a name="@@ITOC@@DATASOURCESANDDATASINKS_3"></a></p>
<h2 id="data-sources-and-data-sinks">Data Sources and Data Sinks</h2>
<p>Any <a href="../abenlob_glosry" class="grey" title="Glossary Entry">LOBs</a> declared in database tables can be considered as data sources or data sinks. The instances of the classes above are
<a href="../abendata_stream_glosry" class="grey" title="Glossary Entry">data streams</a> joined to LOBs. These are
<a href="../abenlob_handle_glosry" class="grey" title="Glossary Entry">LOB handles</a> and implement the
<a href="../abenlob_interfaces" class="blue">corresponding interfaces</a>. Usage in Open SQL involves reference variables which point to the relevant LOB handles.</p>
<p><a name="@@ITOC@@CREATINGDATASTREAMSFORLOBS_4"></a></p>
<h2 id="creating-data-streams-for-lobs">Creating Data Streams for LOBs</h2>
<p><a name="@@ITOC@@READERSTREAMS_5"></a></p>
<h3 id="reader-streams">Reader Streams</h3>
<p>A reader stream that is bound to anLOB (that is, an instance of the class CL_ABAP_DB_C_READER or CL_ABAP_DB_X_READER)
can only be created if, in the <a href="../abapinto_clause" class="blue"><code style="display: inline;"><span class="qtext">INTO</span></code></a>
clause of the statement <a href="../abapinto_clause" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code></a>, a LOB from the results set is assigned to a reference variable for a reader stream.</p>
<p>Refer to <a href="../abenselect_into_lob_handles" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code> - LOB Handles</a>.</p>
<p><a name="@@ITOC@@WRITERSTREAMS_6"></a></p>
<h3 id="writer-streams">Writer Streams</h3>
<p>A writer stream that is bound to an LOB (that is, an instance of the class CL_ABAP_DB_C_WRITER or CL_ABAP_DB_X_WRITER)
can only be created if a reference variabe for a reader stream is specified as a source in the statements
<a href="../abapinsert_dbtab" class="blue"><code style="display: inline;"><span class="qtext">INSERT</span></code></a>, <a href="../abapupdate" class="blue">
<code style="display: inline;"><span class="qtext">UPDATE</span></code></a>, or <a href="../abapmodify_dbtab" class="blue"><code style="display: inline;"><span class="qtext">MODIFY</span></code></a>.</p>
<p>See <a href="../abeninsert_update_modify_lob" class="blue"><code style="display: inline;"><span class="qtext">INSERT</span></code>, <code style="display: inline;"><span class="qtext">UPDATE</span></code>, <code style="display: inline;"><span class="qtext">MODIFY dbtab</span></code> - LOB Handles</a>.</p>
<p><a name="@@ITOC@@CLOSINGDATASTREAMSFORLOBS_7"></a></p>
<h2 id="closing-data-streams-for-lobs">Closing Data Streams for LOBs</h2>
<p>Since the number of data streams open at one time is limited to 16, they should be closed as soon as
possible using the CLOSE method. Regardless of this, reader streams are closed implicitly at the end
of a <code style="display: inline;"><span class="qtext">SELECT</span></code> loop and at the end of a database LUW. An open writer stream can be closed implicitly only by using a
<a href="../abendatabase_rollback_glosry" class="grey" title="Glossary Entry">database rollback</a>.
<a href="../abendatabase_commit_glosry" class="grey" title="Glossary Entry">Database commit</a>s for open writer streams, on the other hand, produce the runtime error <code style="display: inline;"><span class="qtext">COMMIT_STREAM_ERROR</span></code>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>