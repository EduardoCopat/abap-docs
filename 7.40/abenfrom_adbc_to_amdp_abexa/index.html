


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>SAP HANA, from ADBC to AMDP - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sap-hana-from-adbc-to-amdp" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              SAP HANA, from ADBC to AMDP
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#source-code" class="md-nav__link">
    Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
    <nav class="md-nav" aria-label="Description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference-implementation-using-open-sql" class="md-nav__link">
    Reference Implementation Using Open SQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-native-sql-with-adbc" class="md-nav__link">
    Using Native SQL with ADBC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#call-a-database-procedure-using-a-database-procedure-proxy" class="md-nav__link">
    Call a Database Procedure Using a Database Procedure Proxy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amdp-procedure-call" class="md-nav__link">
    AMDP Procedure Call
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abenfrom_adbc_to_amdp_abexa.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="sap-hana-from-adbc-to-amdp">SAP HANA, from ADBC to AMDP</h1>
<p>This example demonstrates how a task can be performed using HANA-specific language elements.</p>
<p><a name="@@ITOC@@SOURCECODE_1"></a>
<s><i>7.31</i></s> <b>7.40</b> <a href="../abenfrom_adbc_to_amdp_abexa">7.54</a></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Accesses</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_hana" class="blue">ABAP and SAP HANA</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_and_hana_abexas" class="blue">ABAP and SAP HANA, Examples</a>&#xA0;</small></p>
<h2 id="source-code">Source Code</h2>
<p><div class="highlight"><pre><span></span><code>    <span class="k">DATA</span><span class="p">(</span><span class="nv">out</span><span class="p">)</span> <span class="o">=</span> <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">new</span><span class="p">(</span> <span class="p">).</span>

    <span class="k">IF</span> <span class="nv">cl_db_sys</span><span class="o">=&gt;</span><span class="nv">is_in_memory_db</span> <span class="o">=</span> <span class="nv">abap_false</span><span class="p">.</span>
      <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">display</span><span class="p">(</span>
        <span class="s1">`Example can be executed on SAP HANA Database only`</span> <span class="p">).</span>
      <span class="k">LEAVE</span> <span class="k">PROGRAM</span><span class="p">.</span>
    <span class="k">ENDIF</span><span class="p">.</span>

    <span class="k">DATA</span> <span class="nv">carrier</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span> <span class="k">VALUE</span> <span class="s1">&#39;LH&#39;</span><span class="p">.</span>
    <span class="nv">cl_demo_input</span><span class="o">=&gt;</span><span class="nf">request</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">carrier</span> <span class="p">).</span>
    <span class="k">DATA</span><span class="p">(</span><span class="nv">oref</span><span class="p">)</span> <span class="o">=</span> <span class="nv">NEW</span> <span class="nv">cl_demo_from_adbc_to_amdp</span><span class="p">(</span> <span class="nv">to_upper</span><span class="p">(</span> <span class="nv">carrier</span> <span class="p">)</span> <span class="p">).</span>

    <span class="k">DATA</span><span class="p">(</span><span class="nv">osql_result</span><span class="p">)</span> <span class="o">=</span> <span class="nv">oref</span><span class="o">-&gt;</span><span class="nf">osql</span><span class="p">(</span> <span class="p">).</span>
    <span class="k">DATA</span><span class="p">(</span><span class="nv">adbc_result</span><span class="p">)</span> <span class="o">=</span> <span class="nv">oref</span><span class="o">-&gt;</span><span class="nf">adbc</span><span class="p">(</span> <span class="p">).</span>
    <span class="k">DATA</span><span class="p">(</span><span class="nv">cdbp_result</span><span class="p">)</span> <span class="o">=</span> <span class="nv">oref</span><span class="o">-&gt;</span><span class="nf">cdbp</span><span class="p">(</span> <span class="p">).</span>
    <span class="k">DATA</span><span class="p">(</span><span class="nv">amdp_result</span><span class="p">)</span> <span class="o">=</span> <span class="nv">oref</span><span class="o">-&gt;</span><span class="nf">amdp</span><span class="p">(</span> <span class="p">).</span>

    <span class="k">IF</span> <span class="nv">osql_result</span> <span class="o">=</span> <span class="nv">adbc_result</span> <span class="ow">AND</span>
       <span class="nv">osql_result</span> <span class="o">=</span> <span class="nv">cdbp_result</span> <span class="ow">AND</span>
       <span class="nv">osql_result</span> <span class="o">=</span> <span class="nv">amdp_result</span><span class="p">.</span>
      <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">begin_section</span><span class="p">(</span>
        <span class="s1">`Result of Open SQL, ADBC, CALL DATABASE PROCEDURE, and AMDP`</span>
        <span class="p">)</span><span class="o">-&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="nv">amdp_result</span> <span class="p">).</span>
    <span class="k">ELSE</span><span class="p">.</span>
      <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="s1">&#39;Error&#39;</span> <span class="p">).</span>
    <span class="k">ENDIF</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="p">).</span>
</code></pre></div>
<a name="@@ITOC@@DESCRIPTION_2"></a></p>
<h2 id="description">Description</h2>
<p>The task is to  read all rows from the database table SFLIGHTS whose key fields MANDT, CARRID, and CONNID
occur in a predefined three-column internal table. To do this, the example program calls various methods
of the class <span class="lnkgrey">CL_DEMO_FROM_ADBC_TO_AMDP</span> in whose instance constructor the internal table <code style="display: inline;"><span class="qtext">connection_tab</span></code> is filled in accordance with user input.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>The examples of using HANA-specific language elements shown in the methods are purely syntax examples. The task presented here can be solved just as well using Open SQL, which is why Open SQL is the preferred method as specified in the
<a href="../abendatabase_access_guidl" class="lnkpurple" title="Guideline">programming guidelines</a>.</p>
<p><a name="@@ITOC@@REFERENCEIMPLEMENTATIONUSINGOPENSQL_3"></a>
</div></p>
<h3 id="reference-implementation-using-open-sql">Reference Implementation Using Open SQL</h3>
<p>The method OSQL shows how the task can be solved in Open SQL by simply using the addition <a href="../abenwhere_logexp_itab" class="blue">
<code style="display: inline;"><span class="qtext">FOR ALL ENTRIES</span></code></a>. The result of the method is used as a reference for the HANA-specific implementations.</p>
<dd>
<span class="qtext">METHOD osql. <br>&#xA0;&#xA0;IF connection_tab IS NOT INITIAL. <br>&#xA0;&#xA0;&#xA0;&#xA0;SELECT * <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;FROM sflight <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;INTO TABLE @flights <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;FOR ALL ENTRIES IN @connection_tab <br>&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WHERE carrid = @connection_tab-carrid AND <br>&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;connid = @connection_tab-connid. <br>&#xA0;&#xA0;ENDIF. <br>ENDMETHOD.</span>
</dd>

<p><a name="@@ITOC@@USINGNATIVESQLWITHADBC_4"></a></p>
<h3 id="using-native-sql-with-adbc">Using Native SQL with ADBC</h3>
<p>The method ADBC solves the task using HANA-specific
<a href="../abennative_sql" class="blue">Native SQL statements</a> passed to the SAP HANA database using
<a href="../abenadbc" class="blue">ADBC</a>. The table with the key values is evaluated after the addition
<span class="qtext400">exists</span> in a subquery of a <span class="qtext400">select</span> statement.
To do this, a temporary table <span class="qtext400">DEMO_ADBC_CONNECTIONS</span> is created on the
database and filled with the content of the <code style="display: inline;"><span class="qtext">connection_tab</span></code> using the statement
<span class="qtext400">insert</span>. To access the result of the <span class="qtext400">select</span>
statement, a standard table <code style="display: inline;"><span class="qtext">std_flights</span></code> must be declared as a local internal
table of the method, since the return value <code style="display: inline;"><span class="qtext">flights</span></code> cannot be used for ADBC.
The temporary table <span class="qtext400">DEMO_ADBC_CONNECTIONS</span> is removed again after <span class="qtext400">SPFLI</span> is read.</p>
<dd>
<span class="qtext">METHOD adbc. <br>&#xA0;&#xA0;DATA(sql) = NEW cl_sql_statement( ). <br> <br>&#xA0;&#xA0;TRY. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_update( &apos;truncate table DEMO_ADBC_CONNECTIONS&apos; ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_ddl(&#xA0;&#xA0;&#xA0;&#xA0;&apos;drop table DEMO_ADBC_CONNECTIONS&apos; ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_sql_exception ##no_handler. <br>&#xA0;&#xA0;ENDTRY. <br> <br>&#xA0;&#xA0;TRY. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_ddl( <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`create global temporary row table DEMO_ADBC_CONNECTIONS ` &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`( MANDT&#xA0;&#xA0;NVARCHAR(3), `&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`CARRID NVARCHAR(3), `&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`CONNID NVARCHAR(4) )` ). <br> <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;set_param_table( REF #( connection_tab ) ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_update( <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|insert into DEMO_ADBC_CONNECTIONS values ( ?, ?, ? )| ). <br>
 <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DATA(result) = sql-&gt;execute_query( <br>&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;select * `&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;from SFLIGHT as S `
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;where exists (`
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;select MANDT, CARRID, CONNID `&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; from&#xA0;&#xA0;DEMO_ADBC_CONNECTIONS as C` &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0; where C.MANDT&#xA0;&#xA0;= S.MANDT and `&#xA0;&#xA0;&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; C.CARRID = S.CARRID and `&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; C.CONNID = S.CONNID )` ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DATA std_flights TYPE STANDARD TABLE OF sflight WITH EMPTY KEY. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;result-&gt;set_param_table( REF #( std_flights ) ). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;result-&gt;next_package( ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;result-&gt;close( ). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;flights = std_flights. <br>
 <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_update( &apos;truncate table DEMO_ADBC_CONNECTIONS&apos; ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_ddl( &apos;&#xA0;&#xA0; drop table DEMO_ADBC_CONNECTIONS&apos; ). <br>
 <br>&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_sql_exception. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;CLEAR flights. <br>&#xA0;&#xA0;ENDTRY. <br>ENDMETHOD.</span>
</dd>

<p><a name="@@ITOC@@CALLADATABASEPROCEDUREUSINGADATABASEPROCEDUREPROXY_5"></a></p>
<h3 id="call-a-database-procedure-using-a-database-procedure-proxy">Call a Database Procedure Using a Database Procedure Proxy</h3>
<p>The method CDBP solves the task by implementing the HANA-specific <span class="qtext400">select</span> statement in a
<a href="../abendatabase_procedure_glosry" class="grey" title="Glossary Entry">database procedure</a> called by specifying a
<a href="../abendatabase_proc_proxy_glosry" class="grey" title="Glossary Entry">database procedure
proxy</a> in the statement <a href="../abapcall_database_procedure" class="blue"><span class="qtext">CALL
DATABASE PROCEDURE</span></a>. In a more realistic example, the database procedure <span class="qtext400">DEMO_ADBC_GET_FLIGHTS</span>
and the database procedure proxy DEMO_ADBC_GET_FLIGHTS_PROXY would already exist and the implementation of the method would be restricted to the call <code style="display: inline;"><span class="qtext">CALL DATABASE PROCEDURE</span></code> (compare with the example for
<a href="../abencall_hana_db_proc_abexa" class="blue">procedure calls</a>). In this example, the database
procedure and the database procedure proxy are created temporarily using ADBC methods and the associated
API, then deleted again. The input parameter <span class="qtext400">connections</span> of the procedure
references an additional temporary HANA table type, <span class="qtext400">DEMO_ADBC_CONNECTIONS_TYPE</span>.
HANA does not support a separate type for numeric text, which means that the type <span class="qtext400">NVARCHAR(4)</span>
must be used for the column <span class="qtext400">CONNID</span>.  Also, the internal table <code style="display: inline;"><span class="qtext">connection_tab</span></code>
must be assigned to a temporary table <code style="display: inline;"><span class="qtext">connections</span></code> with the correct row type
before the procedure is called. No auxiliary table is required for the result, since the row type is
described using an ABAP Dictionary type. An appropriate mapping can be performed for this type using
the mapping table <code style="display: inline;"><span class="qtext">params</span></code>. As an alternative to an auxiliary table for <span class="qtext">
connection_tab</span>, its data type could be declared in ABAP Dictionary too and an appropriate mapping performed.</p>
<dd>
<span class="qtext">METHOD cdbp. <br>&#xA0;&#xA0;DATA(sql) = NEW cl_sql_statement( ). <br> <br>&#xA0;&#xA0;TRY. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_ddl( &apos;drop type DEMO_ADBC_CONNECTIONS_TYPE&apos; ). <br>&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_sql_exception ##no_handler. <br>
&#xA0;&#xA0;ENDTRY. <br>&#xA0;&#xA0;TRY. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_ddl( `drop procedure DEMO_ADBC_GET_FLIGHTS` ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_sql_exception ##no_handler. <br>&#xA0;&#xA0;ENDTRY. <br> <br>&#xA0;&#xA0;TRY. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_ddl( <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`create type DEMO_ADBC_CONNECTIONS_TYPE as table ` &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`( MANDT&#xA0;&#xA0;NVARCHAR(3), `&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`CARRID NVARCHAR(3), `&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`CONNID NVARCHAR(4) )` ). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_ddl( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`create procedure DEMO_ADBC_GET_FLIGHTS&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;( in CONNECTIONS DEMO_ADBC_CONNECTIONS_TYPE,&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;out FLIGHTS SFLIGHT ) language sqlscript as `&#xA0;&#xA0;&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;begin `&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;FLIGHTS = `
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;select * `
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;from SFLIGHT as S `&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;where exists (&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;select MANDT, CARRID, CONNID `&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; from :CONNECTIONS as C`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; where C.MANDT&#xA0;&#xA0;= S.MANDT and `&#xA0;&#xA0;&amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; C.CARRID = S.CARRID and ` &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; C.CONNID = S.CONNID );`&#xA0;&#xA0; &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;end` ). <br> <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DATA(params) = <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;VALUE if_dbproc_proxy_basic_types=&gt;ty_param_override_t( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;( db_name&#xA0;&#xA0; = &apos;FLIGHTS&apos; <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;abap_name = &apos;FLIGHTS&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;descr&#xA0;&#xA0;&#xA0;&#xA0; = cl_abap_typedescr=&gt;describe_by_name( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&apos;SFLIGHT&apos; ) ) ). <br>
 <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DATA(api) = cl_dbproc_proxy_factory=&gt;get_proxy_public_api( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if_proxy_name = &apos;DEMO_ADBC_GET_FLIGHTS_PROXY&apos; ). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;api-&gt;delete( ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;api-&gt;create_proxy( EXPORTING <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if_proc_schema&#xA0;&#xA0;&#xA0;&#xA0;= &apos;SAP&apos; &amp;&amp; sy-sysid <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;it_param_override = params <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if_proc_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= &apos;DEMO_ADBC_GET_FLIGHTS&apos; ). <br>
 <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;TYPES: <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;BEGIN OF connection, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;mandt&#xA0;&#xA0;TYPE c LENGTH 3, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;carrid TYPE c LENGTH 3, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;connid TYPE c LENGTH 4, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;END OF connection. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DATA connections TYPE STANDARD TABLE OF connection <br>&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WITH EMPTY KEY. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;connections = connection_tab. <br> <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;CALL DATABASE PROCEDURE (&apos;DEMO_ADBC_GET_FLIGHTS_PROXY&apos;) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;EXPORTING connections = connections <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;IMPORTING flights&#xA0;&#xA0;&#xA0;&#xA0; = flights. <br>
 <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;CALL FUNCTION &apos;DB_COMMIT&apos;. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;api-&gt;delete( ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_ddl( `drop procedure DEMO_ADBC_GET_FLIGHTS` ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sql-&gt;execute_ddl( &apos;drop type DEMO_ADBC_CONNECTIONS_TYPE&apos; ). <br>&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_sql_exception cx_dbproc_proxy. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;CLEAR flights. <br>&#xA0;&#xA0;ENDTRY. <br> <br>ENDMETHOD.</span>
</dd>

<p><a name="@@ITOC@@AMDPPROCEDURECALL_6"></a></p>
<h3 id="amdp-procedure-call">AMDP Procedure Call</h3>
<p>The method AMDP solves the task in the easiest possible way by calling an
<a href="../abenamdp_method_glosry" class="grey" title="Glossary Entry">AMDP method</a> AMDP_METH in
which the HANA-specific <span class="qtext400">select</span> statement is implemented. The main advantage
of the AMDP method is that it can be called in the same way as any ABAP method, without the need to implement any auxiliary tables (as in the preceding examples).</p>
<dd>
<span class="qtext">METHOD amdp. <br>&#xA0;&#xA0;amdp_meth( EXPORTING connections = connection_tab <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; IMPORTING flights&#xA0;&#xA0;&#xA0;&#xA0; = flights ). <br>ENDMETHOD.</span>
</dd>

<dd>
<span class="qtext">METHOD amdp_meth BY DATABASE PROCEDURE FOR HDB <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LANGUAGE SQLSCRIPT OPTIONS READ-ONLY <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; USING sflight. <br>&#xA0;&#xA0;FLIGHTS = select * <br>&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; from SFLIGHT as S <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; where exists ( select MANDT, CARRID, CONNID <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; from :CONNECTIONS as C <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; where C.MANDT&#xA0;&#xA0;= S.MANDT and <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; C.CARRID = S.CARRID and <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; C.CONNID = S.CONNID ); <br>ENDMETHOD.</span>
</dd>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abenfriends/" title="Friends - Friendship Between Classes" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Friends - Friendship Between Classes
              </div>
            </div>
          </a>
        
        
          <a href="../abenfrontend_services/" title="Access to the Presentation Server" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Access to the Presentation Server
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>