


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapexport data cluster medium - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#export-medium" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapexport data cluster medium
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternatives" class="md-nav__link">
    Alternatives
  </a>
  
    <nav class="md-nav" aria-label="Alternatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-1" class="md-nav__link">
    Alternative 1
  </a>
  
    <nav class="md-nav" aria-label="Alternative 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-2" class="md-nav__link">
    Alternative 2
  </a>
  
    <nav class="md-nav" aria-label="Alternative 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-3" class="md-nav__link">
    Alternative 3
  </a>
  
    <nav class="md-nav" aria-label="Alternative 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_3" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-4" class="md-nav__link">
    Alternative 4
  </a>
  
    <nav class="md-nav" aria-label="Alternative 4">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_4" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-5" class="md-nav__link">
    Alternative 5
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-6" class="md-nav__link">
    Alternative 6
  </a>
  
    <nav class="md-nav" aria-label="Alternative 6">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_5" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abapexport_data_cluster_medium.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abendata_cluster" class="blue">Data Clusters</a>&#xA0;&#x2192;&#xA0;
<a href="../abapexport_data_cluster" class="blue">EXPORT</a>&#xA0;</small></p>
<h1 id="export-medium">EXPORT - medium</h1>
<p><a href="../abapexport_shortref" class="blue">Short Reference</a>  </p>
<p>Other versions: 
 <a href="../../7.31/abapexport_data_cluster_medium">7.31</a> | <b>7.40</b> | <a href="../../7.54/abapexport_data_cluster_medium">7.54</a></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">... { DATA BUFFER xstr }</span> <br><span class="qtext">&#xA0;&#xA0;| { INTERNAL TABLE itab }</span> <br>
<span class="qtext">&#xA0;&#xA0;| { MEMORY ID id }</span> <br><span class="qtext">&#xA0;&#xA0;| { DATABASE&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;dbtab(ar) [FROM wa] [CLIENT cl] ID id }</span> <br>
<span class="qtext">&#xA0;&#xA0;| { SHARED MEMORY dbtab(ar) [FROM wa] [CLIENT cl] ID id }</span> <br><span class="qtext">&#xA0;&#xA0;| { SHARED BUFFER dbtab(ar) [FROM wa] [CLIENT cl] ID id } ...</span> 
</code></pre></p>
<h2 id="alternatives">Alternatives</h2>
<p><a href="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... DATA BUFFER xstr</span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... INTERNAL TABLE itab</span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <code style="display: inline;"><span class="qtext">... MEMORY ID id</span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_4@4@" class="blue"> 4. <code style="display: inline;"><span class="qtext">... DATABASE dbtab(ar) [FROM wa] [CLIENT cl] ID id</span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_5@5@" class="blue"> 5. <code style="display: inline;"><span class="qtext">... SHARED MEMORY dbtab(ar) [FROM wa] [CLIENT cl] ID id</span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_6@6@" class="blue"> 6. <code style="display: inline;"><span class="qtext">... SHARED BUFFER dbtab(ar) [FROM wa] [CLIENT cl] ID id</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>The exported <a href="../abendata_cluster_glosry" class="grey" title="Glossary Entry">data cluster</a> can be stored in a byte string <code style="display: inline;"><span class="qtext">xstr</span></code>, in an internal table <code style="display: inline;"><span class="qtext">itab</span></code>, in the
<a href="../abenabap_memory_glosry" class="grey" title="Glossary Entry">ABAP memory</a>, in a database table <code style="display: inline;"><span class="qtext">dbtab</span></code>, or in a shared memory area
(<code style="display: inline;"><span class="qtext">SHARED MEMORY</span></code> or <code style="display: inline;"><span class="qtext">BUFFER</span></code> specified) .  </p>
<p><a name="@@DATA BUFFER@@EXPORT cluster@@"></a>
<a name="!ABAP_ALTERNATIVE_1@1@"></a></p>
<h2 id="alternative-1">Alternative 1</h2>
<p><code style="display: inline;"><span class="qtext">... DATA BUFFER xstr</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_1">Effect</h3>
<p>If <code style="display: inline;"><span class="qtext">DATA BUFFER</span></code> is specified, the data cluster is written to the elementary
data object <code style="display: inline;"><span class="qtext">xstr</span></code>, which has to be of the type <code style="display: inline;"><span class="qtext">xstring</span></code>. The previous content of <code style="display: inline;"><span class="qtext">xstr</span></code> is overwritten completely.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
A data object <code style="display: inline;"><span class="qtext">xstr</span></code> filled by <code style="display: inline;"><span class="qtext">EXPORT TO DATA BUFFER</span></code> contains exactly one data cluster.
</li>

<li>
A common application of the addition <code style="display: inline;"><span class="qtext">DATA BUFFER</span></code> is to store the generated
data cluster in a field of a database table with the corresponding data type. In this case, consider
compressing the data cluster using the addition <a href="../abapexport_data_cluster" class="blue"><span class="qtext">
COMPRESSION</span></a>, since, by default, compression as a medium is only activated if <code style="display: inline;"><span class="qtext">DATABASE</span></code> is specified directly.
</li>

<li>
The content of a data object filled by <code style="display: inline;"><span class="qtext">EXPORT TO DATA BUFFER</span></code> can only be
evaluated using <code style="display: inline;"><span class="qtext">IMPORT FROM DATA BUFFER</span></code>. In other evaluations, for example when comparing data clusters, the result is not defined. For example, the undefined content of
<a href="../abenalignment_gap_glosry" class="grey" title="Glossary Entry">alignment gaps</a> in structures can result in different data clusters with structures that otherwise have the same content. <br>
</li>

<p></ul>
<a name="@@INTERNAL TABLE@@EXPORT cluster@@"></a>
</div>
<a name="!ABAP_ALTERNATIVE_2@2@"></a></p>
<h2 id="alternative-2">Alternative 2</h2>
<p><code style="display: inline;"><span class="qtext">... INTERNAL TABLE itab</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_2">Effect</h3>
<p>If <code style="display: inline;"><span class="qtext">INTERNAL TABLE</span></code> is specified, the data cluster is stored in the internal
table <code style="display: inline;"><span class="qtext">itab</span></code>. The previous content of <code style="display: inline;"><span class="qtext">itab</span></code> is overwritten completely.</p>
<p>The first column of <code style="display: inline;"><span class="qtext">itab</span></code> must have the data type <a href="../abenbuiltin_types_numeric" class="blue">
<code style="display: inline;"><span class="qtext">s</span></code></a> or <a href="../abenbuiltin_types_numeric" class="blue"><code style="display: inline;"><span class="qtext">i</span></code></a>
and the second column must have the type <code style="display: inline;"><span class="qtext">x</span></code>. Depending on the width of the
second column, the data is stored across multiple table rows if necessary. The first row contains the length occupied in the second row. The only table category allowed for <code style="display: inline;"><span class="qtext">itab</span></code> are
<a href="../abenstandard_table_glosry" class="grey" title="Glossary Entry">standard tables</a> without
<a href="../abensecondary_table_key_glosry" class="grey" title="Glossary Entry">secondary table keys</a>.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
An internal table <code style="display: inline;"><span class="qtext">itab</span></code> filled by <code style="display: inline;"><span class="qtext">EXPORT TO INTERNAL TABLE</span></code> contains exactly one data cluster.
</li>

<li>
The content of an internal table filled by <code style="display: inline;"><span class="qtext">EXPORT TO INTERNAL TABLE</span></code> can only
be evaluated using <code style="display: inline;"><span class="qtext">IMPORT FROM INTERNAL TABLE</span></code> for the same reasons as for <code style="display: inline;"><span class="qtext">EXPORT TO DATA BUFFER</span></code>.
</li>

<li>
The variant <code style="display: inline;"><span class="qtext">EXPORT TO DATA BUFFER</span></code> is preferred over the variant <span class="qtext">EXPORT
TO INTERNAL TABLE</span> because it is easier to handle. An export to an internal table is of benefit only for very large data clusters and if the available
<a href="../abenmemory_consumption_2" class="blue">memory</a> is almost used up. This is because its memory is requested block by block, while the memory for a string must always be completely available. <br>
</li>

<p></ul>
<a name="@@MEMORY@@EXPORT cluster@@"></a>
<a name="@@ID@@EXPORT TO MEMORY@@"></a>
</div>
<a name="!ABAP_ALTERNATIVE_3@3@"></a></p>
<h2 id="alternative-3">Alternative 3</h2>
<p><code style="display: inline;"><span class="qtext">... MEMORY ID id</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_3">Effect</h3>
<p>If <code style="display: inline;"><span class="qtext">MEMORY</span></code> is specified, the data cluster is written in to
<a href="../abenabap_memory_glosry" class="grey" title="Glossary Entry">ABAP Memory</a> with the ID specified in <code style="display: inline;"><span class="qtext">id</span></code>. <code style="display: inline;"><span class="qtext">id</span></code> expects a
<a href="../abenflat_glosry" class="grey" title="Glossary Entry">flat</a>
<a href="../abencharlike_data_object_glosry" class="grey" title="Glossary Entry">character-like data
object</a> containing a case-sensitive ID with a maximum of 60 characters. Any existing data clusters
with the same ID <code style="display: inline;"><span class="qtext">id</span></code> are completely overwritten. The ID in <code style="display: inline;"><span class="qtext">id</span></code> identifies a data cluster in the repository and can be read again using the same identification.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
A data cluster in the ABAP memory is available to all programs within a
<a href="../abencall_sequence_glosry" class="grey" title="Glossary Entry">call sequence</a>, which makes it possible to pass data to called programs.
</li>

<li>
Outside of classes, an <a href="../abapexport_import_mem_id_obsolete" class="blue">obsolete short form</a>
exists, in which the addition <code style="display: inline;"><span class="qtext">ID</span></code> can be omitted. However, this is prone to errors, since all <code style="display: inline;"><span class="qtext">EXPORT</span></code> statements without ID overwrite the same data cluster. <br>
</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Two fields with two different IDs <span class="qtext400">&quot;P1&quot;</span> and <span class="qtext400">&quot;P2&quot;</span>
with the dynamic variant of the cluster definition are written to the ABAP memory. After the statement
<a href="../abapimport_data_cluster" class="blue"><code style="display: inline;"><span class="qtext">IMPORT</span></code></a> is executed, the contents of the fields <code style="display: inline;"><span class="qtext">text1</span></code> and <code style="display: inline;"><span class="qtext">text2</span></code> are swapped.  </p>
<p><div class="highlight"><pre><span></span><code><span class="k">TYPES</span><span class="p">:</span> 
  <span class="k">BEGIN OF</span> <span class="nv">tab_type</span><span class="p">,</span> 
    <span class="nv">para</span> <span class="k">TYPE </span><span class="nv">string</span><span class="p">,</span> 
    <span class="nv">dobj</span> <span class="k">TYPE </span><span class="nv">string</span><span class="p">,</span> 
  <span class="k">END OF</span> <span class="nv">tab_type</span><span class="p">.</span> 

<span class="k">DATA</span><span class="p">:</span> 
  <span class="k">id</span>    <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">10</span> <span class="k">VALUE</span> <span class="s1">&#39;TEXTS&#39;</span><span class="p">,</span> 
  <span class="nv">text1</span> <span class="k">TYPE </span><span class="nv">string</span> <span class="k">VALUE</span> <span class="s1">`IKE`</span><span class="p">,</span> 
  <span class="nv">text2</span> <span class="k">TYPE </span><span class="nv">string</span> <span class="k">VALUE</span> <span class="s1">`TINA`</span><span class="p">,</span> 
  <span class="nv">line</span>  <span class="k">TYPE </span><span class="nv">tab_type</span><span class="p">,</span> 
  <span class="nv">itab</span>  <span class="k">TYPE STANDARD TABLE OF</span> <span class="nv">tab_type</span><span class="p">.</span> 

<span class="nv">line</span><span class="o">-</span><span class="nv">para</span> <span class="o">=</span> <span class="s1">&#39;P1&#39;</span><span class="p">.</span> 
<span class="nv">line</span><span class="o">-</span><span class="nv">dobj</span> <span class="o">=</span> <span class="s1">&#39;TEXT1&#39;</span><span class="p">.</span> 
<span class="k">APPEND</span> <span class="nv">line</span> <span class="k">TO</span> <span class="nv">itab</span><span class="p">.</span> 

<span class="nv">line</span><span class="o">-</span><span class="nv">para</span> <span class="o">=</span> <span class="s1">&#39;P2&#39;</span><span class="p">.</span> 
<span class="nv">line</span><span class="o">-</span><span class="nv">dobj</span> <span class="o">=</span> <span class="s1">&#39;TEXT2&#39;</span><span class="p">.</span> 
<span class="k">APPEND</span> <span class="nv">line</span> <span class="k">TO</span> <span class="nv">itab</span><span class="p">.</span> 

<span class="k">EXPORT</span> <span class="p">(</span><span class="nv">itab</span><span class="p">)</span>     <span class="k">TO MEMORY ID</span> <span class="k">id</span><span class="p">.</span> 
<span class="k">IMPORT</span> <span class="nv">p1</span> <span class="o">=</span> <span class="nv">text2</span> 
       <span class="nv">p2</span> <span class="o">=</span> <span class="nv">text1</span> <span class="k">FROM MEMORY</span> <span class="k">ID</span> <span class="k">id</span><span class="p">.</span> 
</code></pre></div>
<a name="@@DATABASE@@EXPORT cluster@@"></a>
<a name="@@FROM@@EXPORT TO DATABASE@@"></a>
<a name="@@CLIENT@@EXPORT TO DATABASE@@"></a>
<a name="@@ID@@EXPORT TO DATABASE@@"></a>
</div>
<a name="!ABAP_ALTERNATIVE_4@4@"></a></p>
<h2 id="alternative-4">Alternative 4</h2>
<p><code style="display: inline;"><span class="qtext">... DATABASE dbtab(ar) [FROM wa] [CLIENT cl] ID id</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_4">Effect</h3>
<p>If <code style="display: inline;"><span class="qtext">DATABASE</span></code> is specified, the data cluster with the ID <code style="display: inline;"><span class="qtext">id</span></code> is stored in the database table <code style="display: inline;"><span class="qtext">dbtab</span></code> and saved permanently at the next
<a href="../abendatabase_commit_glosry" class="grey" title="Glossary Entry">database commit</a>. In ABAP Dictionary, the database table must be defined with a fixed
<a href="../abenindx_type_glosry" class="grey" title="Glossary Entry">INDX-like</a>
<a href="../abenexport_data_cluster_indx" class="blue">structure</a>. <code style="display: inline;"><span class="qtext">id</span></code> expects a
<a href="../abenflat_glosry" class="grey" title="Glossary Entry">flat</a>
<a href="../abencharlike_data_object_glosry" class="grey" title="Glossary Entry">character-like data object</a> containing an ID no longer than the key fields of the INDX-like table defined between the columns
<a href="../abenexport_data_cluster_indx" class="blue">RELID</a> and <a href="../abenexport_data_cluster_indx" class="blue">SRTF2</a>. The ID is case-sensitive.</p>
<p>The two-character area <code style="display: inline;"><span class="qtext">ar</span></code>, which must be specified directly, splits up the
rows of the database table into multiple areas, so that data clusters with the same ID <code style="display: inline;"><span class="qtext">id</span></code> can exist more than once in the database table.</p>
<p>After <code style="display: inline;"><span class="qtext">FROM</span></code>, a work area <code style="display: inline;"><span class="qtext">wa</span></code> can be specified that
must have the same data type as the database table <code style="display: inline;"><span class="qtext">dbtab</span></code>. In an export, the current values of the components of <code style="display: inline;"><span class="qtext">wa</span></code>, which are located between the fields
<a href="../abenexport_data_cluster_indx" class="blue">SRTF2</a> and
<a href="../abenexport_data_cluster_indx" class="blue">CLUSTR</a>, are written to all rows occupied
by the data cluster of the database table. If the addition <code style="display: inline;"><span class="qtext">FROM wa</span></code> is not
specified within classes, then no data transport takes place in these database fields. If the addition
<code style="display: inline;"><span class="qtext">FROM wa</span></code> is not specified outside of classes, but the statement <a href="../abaptables" class="blue"><code style="display: inline;"><span class="qtext">TABLES</span></code></a> is used to declare a
<a href="../abentable_work_area_glosry" class="grey" title="Glossary Entry">table work area</a> for
the database table <code style="display: inline;"><span class="qtext">dbtab</span></code>, then, in the export, the current values of the
corresponding components of the table work area <code style="display: inline;"><span class="qtext">dbtab</span></code> are written to the rows of the database table.</p>
<p>If the database table <code style="display: inline;"><span class="qtext">dbtab</span></code> is client-specific, a flat character-like field <code style="display: inline;"><span class="qtext">cl</span></code> can be specified after the addition <code style="display: inline;"><span class="qtext">CLIENT</span></code>. This field contains a
<a href="../abenclient_identifier_glosry" class="grey" title="Glossary Entry">client ID</a>. If the
addition is not specified, the current client is used. The column MANDT of every row in the database table occupied by the data cluster is filled by this client ID in the export.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
Data clusters in databases are not converted when migrating from a non-Unicode database to a
<a href="../abenunicode_system_glosry" class="grey" title="Glossary Entry">Unicode system</a>. In a
Unicode system, therefore, data clusters may sometimes exist that contain non-Unicode characters. These
characters are automatically converted to Unicode characters in each import. When data is exported in Unicode systems, any Unicode characters in the stored data objects are saved in accordance with the relevant platform.
</li>

<li>
It is still possible to use a table work area implicitly (instead of using <code style="display: inline;"><span class="qtext">FROM wa</span></code> explicitly). This should be considered an
<a href="../abapexport_import_tables_area" class="blue">obsolete short form</a>, however.
</li>

<li>
Since each client represents a self-contained unit, the addition <code style="display: inline;"><span class="qtext">CLIENT</span></code> must not be used in application programs. <br>
</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>An internal table <code style="display: inline;"><span class="qtext">itab</span></code> with the name <code style="display: inline;"><span class="qtext">tab</span></code> and the ID <span class="qtext400">&quot;TABLE&quot;</span> is exported to the area <span class="qtext400">&quot;SQ&quot; <br>
</span> of the database table <span class="lnkgrey">DEMO_INDX_TABLE</span>, filling the freely selectable components from the structure <code style="display: inline;"><span class="qtext">wa_indx</span></code>.  </p>
<p><div class="highlight"><pre><span></span><code><span class="k">TYPES</span><span class="p">:</span> 
  <span class="k">BEGIN OF</span> <span class="nv">tab_type</span><span class="p">,</span> 
    <span class="nv">col1</span> <span class="k">TYPE </span><span class="nv">i</span><span class="p">,</span> 
    <span class="nv">col2</span> <span class="k">TYPE </span><span class="nv">i</span><span class="p">,</span> 
  <span class="k">END OF</span> <span class="nv">tab_type</span><span class="p">.</span> 

<span class="k">DATA</span><span class="p">:</span> 
  <span class="nv">wa_indx</span> <span class="k">TYPE </span><span class="nv">demo_indx_table</span><span class="p">,</span> 
  <span class="nv">wa_itab</span> <span class="k">TYPE </span><span class="nv">tab_type</span><span class="p">,</span> 
  <span class="nv">itab</span>  <span class="k">TYPE STANDARD TABLE OF</span> <span class="nv">tab_type</span><span class="p">.</span> 

<span class="k">WHILE</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">index</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">.</span> 
  <span class="nv">wa_itab</span><span class="o">-</span><span class="nv">col1</span> <span class="o">=</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">index</span><span class="p">.</span> 
  <span class="nv">wa_itab</span><span class="o">-</span><span class="nv">col2</span> <span class="o">=</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">index</span> <span class="o">**</span> <span class="mi">2</span><span class="p">.</span> 
  <span class="k">APPEND</span> <span class="nv">wa_itab</span> <span class="k">TO</span> <span class="nv">itab</span><span class="p">.</span> 
<span class="k">ENDWHILE</span><span class="p">.</span> 

<span class="nv">wa_indx</span><span class="o">-</span><span class="nv">timestamp</span> <span class="o">=</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">datum</span> <span class="o">&amp;&amp;</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">uzeit</span><span class="p">.</span> 
<span class="nv">wa_indx</span><span class="o">-</span><span class="nv">userid</span>    <span class="o">=</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">uname</span><span class="p">.</span> 

<span class="k">EXPORT</span> <span class="nv">tab</span> <span class="o">=</span> <span class="nv">itab</span> 
  <span class="k">TO DATABASE</span> <span class="nv">demo_indx_table</span><span class="p">(</span><span class="nv">SQ</span><span class="p">)</span> 
  <span class="k">FROM</span> <span class="nv">wa_indx</span> 
  <span class="k">ID</span> <span class="s1">&#39;TABLE&#39;</span><span class="p">.</span> 
</code></pre></div>
<a name="@@SHARED MEMORY@@EXPORT cluster@@"></a>
<a name="@@FROM@@EXPORT TO SHARED MEMORY@@"></a>
<a name="@@CLIENT@@EXPORT TO SHARED MEMORY@@"></a>
<a name="@@ID@@EXPORT TO SHARED MEMORY@@"></a>
<a name="@@SHARED BUFFER@@EXPORT cluster@@"></a>
<a name="@@FROM@@EXPORT TO SHARED BUFFER@@"></a>
<a name="@@CLIENT@@EXPORT TO SHARED BUFFER@@"></a>
<a name="@@ID@@EXPORT TO SHARED BUFFER@@"></a>
</div>
<a name="!ABAP_ALTERNATIVE_5@5@"></a></p>
<h2 id="alternative-5">Alternative 5</h2>
<p><code style="display: inline;"><span class="qtext">... SHARED MEMORY dbtab(ar) [FROM wa] [CLIENT cl] ID id</span></code><br />
 <br><!-- /A --></p>
<p><a name="!ABAP_ALTERNATIVE_6@6@"></a></p>
<h2 id="alternative-6">Alternative 6</h2>
<p><code style="display: inline;"><span class="qtext">... SHARED BUFFER dbtab(ar) [FROM wa] [CLIENT cl] ID id</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_5">Effect</h3>
<p>If <code style="display: inline;"><span class="qtext">SHARED MEMORY</span></code> or <code style="display: inline;"><span class="qtext">SHARED BUFFER</span></code> is specified, the data cluster is stored in
<a href="../abencrosstrans_app_buffer_glosry" class="grey" title="Glossary Entry">cross-transaction application buffers</a> of the
<a href="../abenshared_memory_glosry" class="grey" title="Glossary Entry">shared memory</a> on the
<a href="../abenapplication_server_glosry" class="grey" title="Glossary Entry">application server</a>. All programs of the same application server have access to these buffers.</p>
<p>The two application buffers differ in respect to how the system behaves when reaching the memory limit. Both application buffers can be filled to an internal maximum limit, which can be adjusted using the
<a href="../abenprofile_parameter_glosry" class="grey" title="Glossary Entry">profile parameter</a> <span class="lnkgrey">rsdb/esm/buffersize_kb</span>
(<code style="display: inline;"><span class="qtext">SHARED MEMORY</span></code>) and <span class="lnkgrey">rsdb/obj/buffersize</span>
(<code style="display: inline;"><span class="qtext">SHARED BUFFER</span></code>). Before the maximum limit of the <span class="qtext">SHARED
MEMORY</span> buffer is reached, space must be freed using the statement <a href="../abapdelete_cluster" class="blue">
<code style="display: inline;"><span class="qtext">DELETE FROM SHARED MEMORY</span></code></a>; otherwise a handleable exception is raised.
The buffer of <code style="display: inline;"><span class="qtext">SHARED BUFFER</span></code> is cleared automatically by a displacement when it reaches the maximum limit. This procedure deletes the least used data objects from the buffer.</p>
<p>When storing the data, the system creates a memory table in the application buffer. The row structure
of this table is defined using <code style="display: inline;"><span class="qtext">dbtab</span></code>. For <code style="display: inline;"><span class="qtext">dbtab</span></code>, a database table from ABAP Dictionary must be specified that has the same
<a href="../abenexport_data_cluster_indx" class="blue">structure</a> if stored in the database table
itself. The row area <code style="display: inline;"><span class="qtext">ar</span></code>, the work area <code style="display: inline;"><span class="qtext">wa</span></code>, the
optional client <code style="display: inline;"><span class="qtext">cl</span></code>, and the ID <code style="display: inline;"><span class="qtext">id</span></code> have the same
significance for the memory table as if saved in a database table, with the exception that the length
of the ID in <code style="display: inline;"><span class="qtext">id</span></code> is limited to 59 or 62 characters depending on whether the addition <code style="display: inline;"><span class="qtext">CLIENT</span></code> is specified or not.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
When storing data in the shared memory, reference is made to a database table, even if the data is not stored in the table itself, but in an appropriately structured memory table. 
</li>

<li>
The length of the key fields of the INDX-like table addressed between the columns
<a href="../abenexport_data_cluster_indx" class="blue">RELID</a> and
<a href="../abenexport_data_cluster_indx" class="blue">SRTF2</a> cannot exceed 59 or 62 characters, depending on whether a client column exists. 
</li>

<li>
When data is exported, any data clusters that have the same client <code style="display: inline;"><span class="qtext">cl</span></code>, row
area <code style="display: inline;"><span class="qtext">ar</span></code>, and ID <code style="display: inline;"><span class="qtext">id</span></code> are overwritten. If an existing
data cluster is to be overwritten by a bigger one when using <code style="display: inline;"><span class="qtext">SHARED MEMORY</span></code>, and this would exceed the memory limit, then this only deletes the existing data cluster. 
</li>

<li>
Instead of saving data clusters in the shared memory, we recommend that
<a href="../abenshared_objects_glosry" class="grey" title="Glossary Entry">shared objects</a> are used.
Shared objects enable objects with complex dependencies to be saved, can be processed like normal objects, and enable multiple users to access the shared memory without any copying effort. <br>
</li>

</ul>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>