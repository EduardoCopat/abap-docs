


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Kernel Methods - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kernel-methods" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Kernel Methods
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#internal-use" class="md-nav__link">
    internal use
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-kernel-methods" class="md-nav__link">
    Defining Kernel Methods
  </a>
  
    <nav class="md-nav" aria-label="Defining Kernel Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration-in-abap" class="md-nav__link">
    Declaration in ABAP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-in-abap" class="md-nav__link">
    Implementation in ABAP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-in-the-kernel" class="md-nav__link">
    Implementation in the Kernel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registration" class="md-nav__link">
    Registration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registering-arguments" class="md-nav__link">
    Registering Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-arguments" class="md-nav__link">
    Accessing Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raising-exceptions" class="md-nav__link">
    Raising Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registering-exceptions" class="md-nav__link">
    Registering Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#global" class="md-nav__link">
    global
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raising-exceptions_1" class="md-nav__link">
    Raising Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auxiliary-program-for-kernel-methods" class="md-nav__link">
    Auxiliary Program for Kernel Methods
  </a>
  
    <nav class="md-nav" aria-label="Auxiliary Program for Kernel Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration-section-of-the-class-in-abap" class="md-nav__link">
    Declaration Section of the Class in ABAP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signature-file-srckrnruntabkmethsig-in-the-kernel" class="md-nav__link">
    Signature File //src/krn/runt/abkmeth.sig in the Kernel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-source-code-srckrnmycalccpp-in-the-kernel" class="md-nav__link">
    C++ Source Code //src/krn/.../mycalc.cpp in the Kernel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-section-of-the-class-in-abap" class="md-nav__link">
    Implementation Section of the Class in ABAP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abenkernel_methods.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="kernel-methods">Kernel Methods</h1>
<p><a href="../abenkernel_methods">7.31</a> <b>7.40</b> <a href="../abenkernel_methods">7.54</a></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abendeclarations" class="blue">Declarations</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_declarations" class="blue">Declaration Statements</a>&#xA0;&#x2192;&#xA0;
<a href="../abenclasses_and_interfaces" class="blue">Classes and Interfaces</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_objects_oview" class="blue">ABAP Objects - Overview</a>&#xA0;&#x2192;&#xA0;
<a href="../abenclasses" class="blue">Classes</a>&#xA0;&#x2192;&#xA0;
<a href="../abenclass_components" class="blue">Components of Classes</a>&#xA0;&#x2192;&#xA0;
<a href="../abenclass_methods" class="blue">Methods of Classes</a>&#xA0;</small></p>
<h3 id="internal-use">internal use</h3>
<p><a name="@@ITOC@@INTRODUCTION_1"></a></p>
<h2 id="introduction">Introduction</h2>
<p>Kernel methods allow ABAP kernel functions implemented in C or C++ to be called directly. Kernel methods replace the previous concepts of
<a href="../abapcall-" class="blue">C calls</a> and system calls. No new C calls or system calls need to be introduced.</p>
<p>Kernel methods offer the same checks and security features as normal ABAP methods. Except for the
<a href="../abenconstructor" class="blue">Constructors</a> and the
<a href="../abenc_destructor" class="blue">C Destructor</a>, all ABAP methods can be implemented as
kernel methods. An ABAP method can still be redefined as a kernel method and a kernel method can still be redefined as an ABAP method within a path of the inheritance hierarchy.</p>
<p>For C developers who want to implement a kernel method, an API is available that allows simple, high-performance, and secure access to arguments.
<a href="../abenexceptions" class="blue">Class-based exceptions</a> also continue to be supported.</p>
<p><a name="@@ITOC@@DEFININGKERNELMETHODS_2"></a></p>
<h2 id="defining-kernel-methods">Defining Kernel Methods</h2>
<p><a name="@@ITOC@@DECLARATIONINABAP_3"></a></p>
<h3 id="declaration-in-abap">Declaration in ABAP</h3>
<p>A kernel method is declared in the same way as a normal ABAP method, in
<a href="../abenclass_builder_glosry" class="grey" title="Glossary Entry">Class Builder</a> or in the
declaration section of a local class. Whether a method is implemented as a kernel method is not important for the declaration. In ABAP, this means that a kernel method can be used just like a normal ABAP method.</p>
<p><a name="@@ITOC@@IMPLEMENTATIONINABAP_4"></a></p>
<h3 id="implementation-in-abap">Implementation in ABAP</h3>
<p>A method is specified as a kernel method in the implementation part of the class using the optional
addition <code style="display: inline;"><span class="qtext">BY KERNEL MODULE kmod1 kmod2 ...</span></code> of the statement <a href="../abapmethod" class="blue">
<code style="display: inline;"><span class="qtext">METHOD</span></code></a>. <code style="display: inline;"><span class="qtext">kmod1</span></code>, <code style="display: inline;"><span class="qtext">kmod2</span></code>,
... are the names of kernel modules that implement the method. The ABAP implementation of a kernel method
must be empty, which means that there cannot be any ABAP statements between <code style="display: inline;"><span class="qtext">METHOD</span></code> and <code style="display: inline;"><span class="qtext">ENDMETHOD</span></code>:</p>
<dd>
<code style="display: inline;"><span class="qtext">METHOD meth BY KERNEL MODULE kmod1 kmod2 ...</span></code> <br><code style="display: inline;"><span class="qtext">ENDMETHOD.</span></code>
</dd>

<p><a href="../abenconstructor" class="blue">Constructors</a> and the
<a href="../abenc_destructor" class="blue">C Destructor</a> cannot be implemented as kernel methods. There is a separate mechanism for the C Destructor.</p>
<p>After <code style="display: inline;"><span class="qtext">KERNEL MODULE</span></code>, a list of kernel modules <code style="display: inline;"><span class="qtext">kmod1</span></code>,
<code style="display: inline;"><span class="qtext">kmod2</span></code>, ... can be specified. Currently, only C functions of the kernel can
be specified for <code style="display: inline;"><span class="qtext">kmod1</span></code>, <code style="display: inline;"><span class="qtext">kmod2</span></code>, ... The list after
<code style="display: inline;"><span class="qtext">KERNEL MODULE</span></code> is evaluated by the compiler from left to right. The first kernel module in the list that is registered in the kernel (see below) is used in the generation.</p>
<p>If no valid kernel module is found in the list, a syntax error occurs. There are still two standard
C functions that can appear at the end of the list: <span class="qtext400">FAIL</span> and <span class="qtext400">IGNORE</span>.
If one of these functions is specified at the end of the list, then a syntax error is avoided if the
previous list does not contain a valid module. <span class="qtext400">IGNORE</span> is used to ignore
the call of a kernel method of this type (behavior as in an empty ABAP implementation) and, in the case of <span class="qtext400">FAIL</span>, a handleable exception of the class CX_SY_DYN_CALL_ILLEGAL_METHOD is raised.</p>
<h3 id="examples">Examples</h3>
<p><dd>
<code style="display: inline;"><span class="qtext">METHOD meth BY KERNEL MODULE xx_impl_630 xx_impl_620 xx_impl_610.</span></code>
</dd></p>
<p>First, the kernel is searched for xx_impl_630. The kernel is then searched for xx_impl_620, and finally for xx_impl_610. If none of these functions are found, a syntax error is raised.</p>
<dd>
<code style="display: inline;"><span class="qtext">METHOD meth BY KERNEL MODULE xx_impl_630 xx_impl_620 FAIL.</span></code>
</dd>

<p>First, the kernel is searched for xx_impl_630. Then the kernel is searched for xx_impl_620. If neither
of these functions are found, a syntax error is not raised; a handleable exception of the class CX_SY_DYN_CALL_ILLEGAL_METHOD is raised instead, when the method is called.</p>
<dd>
<code style="display: inline;"><span class="qtext">METHOD meth BY KERNEL MODULE xx_impl_620 xx_impl_610 IGNORE.</span></code>
</dd>

<p>First, the kernel is searched for xx_impl_620. Then the kernel is searched for xx_impl_610. If none
of the functions are found, a syntax error is not raised; the empty ABAP implementation is called instead, when the method is called.</p>
<p><a name="@@ITOC@@IMPLEMENTATIONINTHEKERNEL_5"></a></p>
<h3 id="implementation-in-the-kernel">Implementation in the Kernel</h3>
<p>Currently, only C functions can be used as kernel modules of kernel methods. The C functions can have any position in the kernel. No special includes from the
<a href="../abenabap_runtime_envir_glosry" class="grey" title="Glossary Entry">ABAP runtime environment</a>
are required for implementing the C function. The C functions must have a specific interface. The interface itself is wrapped by a
<a href="../abenmacro_glosry" class="grey" title="Glossary Entry">macro</a> called <span class="qtext400">ARGUMENTS</span>.
All required definitions and prototypes are in the include <span class="qtext400">//src/include/abkmeth.h</span>. This is the only include needed for defining C functions for kernel methods.</p>
<p>Since C functions can be defined in C and C++ , <span class="qtext400">externC</span> must be used in C++:</p>
<dd>
<span class="qtext400">#include &quot;abkmeth.h&quot; <br>... <br>externC void name_of_cmodule( ARGUMENTS ) <br>{ <br>... <br>}</span>
</dd>

<p>A C function that implements a kernel method must be registered for the kernel method. If, after <span class="qtext">
METHOD meth BY KERNEL MODULE</span>, the name of a C function is specified that was not registered for
the kernel method, a syntax error occurs (as mentioned above). Multiple C functions can be registered
for one kernel method. The order of the kernel modules <code style="display: inline;"><span class="qtext">kmod1</span></code>, <code style="display: inline;"><span class="qtext">kmod2</span></code>,
... specified in the list after <code style="display: inline;"><span class="qtext">METHOD meth BY KERNEL MODULE</span></code> defines which of the registered C functions is used. This allows downward-compatible further development of kernel methods.</p>
<p>To make changes to the registration active, the destination <span class="qtext400">lib</span> of the project <span class="qtext400">krn/runt</span> must be recompiled and the kernel relinked.</p>
<h3 id="registration">Registration</h3>
<p>C functions are registered in the signature file <span class="qtext400">//src/krn/runt/abkmeth.sig</span> using the following syntax for kernel methods (all ABAP IDs must be specified in uppercase letters):</p>
<dd>
<span class="qtext400">KERNEL_METHOD(&quot;CLASS&quot;,&quot;METH&quot;, cfunc,argcnt)</span>
</dd>

<p>This definition registers the C function <code style="display: inline;"><span class="qtext">cfunc</span></code> for the kernel method <span class="qtext">
meth</span> of a global class <code style="display: inline;"><span class="qtext">class</span></code>. The C function expects a number of <span class="qtext400">argcnt</span> arguments.</p>
<p>Kernel methods of local classes in class pools or other ABAP programs are registered using the following macros:</p>
<dd>
<span class="qtext400">KERNEL_METHOD_CLASS_LOCAL(&quot;GCLASS&quot;,&quot;CLASS&quot;,&quot;METH&quot;,cmodule,argcnt)</span>
</dd>

<dd>
<span class="qtext400">KERNEL_METHOD_PROGRAM_LOCAL(&quot;PROG&quot;,&quot;CLASS&quot;,&quot;METH&quot;,cmodule,argcnt)</span>
</dd>

<p>The technique is the same as with <span class="qtext400">KERNEL_METHOD</span>, except that the global
class <code style="display: inline;"><span class="qtext">gclass</span></code> must be specified for local classes in class pools and the program <code style="display: inline;"><span class="qtext">prog</span></code> for program-local classes.</p>
<h3 id="registering-arguments">Registering Arguments</h3>
<p>All ABAP data objects (such as parameters, attributes, or global data) that are to be accessed in C functions for kernel methods, are handled as arguments of the C function.</p>
<p>The argument list of a C function for a kernel method is not limited to the interface parameters of
the ABAP method and does not have to contain these completely. Before arguments within C functions are accessed for kernel methods, these arguments must be registered.</p>
<p>The <span class="qtext400">argcnt</span> arguments must be registered immediately after the C function
is registered using <span class="qtext400">KERNEL_METHOD</span>. A single argument is defined (registered) using one of the following macros:</p>
<dd>
<span class="qtext400">ARGUMENT_basetype(index,&quot;name&quot;,type_kind,&quot;type&quot;,read_write)</span>
</dd>

<dd>
<span class="qtext400">ARGUMENT_[C|N|X](index,&quot;name&quot;,type_kind,&quot;type&quot;,read_write,length)</span>
</dd>

<dd>
<span class="qtext400">ARGUMENT_P(index,&quot;name&quot;,type_kind,&quot;type&quot;,read_write,length,decimals)</span>
</dd>

<dd>
<span class="qtext400">ARGUMENT_STRUCT(index,&quot;name&quot;,type_kind,&quot;type&quot;,read_write,ctype)</span>
</dd>

<p>These <a href="../abenmacro_glosry" class="grey" title="Glossary Entry">macros</a> define an argument with the name <span class="qtext400">name</span> and an index <span class="qtext400">index</span>.</p>
<p><span class="qtext400">basetype</span> must be used to assign the type of the ABAP data object in accordance
with the following table. If the <span class="qtext400">basetype</span> is <span class="qtext400">C</span>,
<span class="qtext400">N</span>, <span class="qtext400">X</span>, <span class="qtext400">P</span>, or <span class="qtext400">STRUCT</span>, more parameters must be specified than for other types.</p>
<table>
<thead>
<tr>
<th>basetype</th>
<th>ABAP Data Type</th>
<th>Type in C</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">C</span></td>
<td><code style="display: inline;"><span class="qtext">c</span></code> with specified length</td>
<td><span class="qtext400">SAP_CHAR (*) [Length]</span></td>
</tr>
<tr>
<td><span class="qtext400">C_GENERIC</span></td>
<td><code style="display: inline;"><span class="qtext">c</span></code> without specified length</td>
<td><span class="qtext400">SAP_CHAR*</span></td>
</tr>
<tr>
<td><span class="qtext400">X</span></td>
<td><code style="display: inline;"><span class="qtext">x</span></code> with specified length</td>
<td><span class="qtext400">SAP_RAW (*) [Length]</span></td>
</tr>
<tr>
<td><span class="qtext400">X_GENERIC</span></td>
<td><code style="display: inline;"><span class="qtext">x</span></code> without specified length</td>
<td><span class="qtext400">SAP_RAW*</span></td>
</tr>
<tr>
<td><span class="qtext400">N</span></td>
<td><code style="display: inline;"><span class="qtext">n</span></code> with specified length</td>
<td><span class="qtext400">SAP_CHAR (*) [Length]</span></td>
</tr>
<tr>
<td><span class="qtext400">N_GENERIC</span></td>
<td><code style="display: inline;"><span class="qtext">n</span></code> without specified length</td>
<td><span class="qtext400">SAP_CHAR*</span></td>
</tr>
<tr>
<td><span class="qtext400">P</span></td>
<td><code style="display: inline;"><span class="qtext">p</span></code> with specified length and decimals</td>
<td><span class="qtext400">SAP_BCD (*) [Length]</span></td>
</tr>
<tr>
<td><span class="qtext400">P_GENERIC</span></td>
<td><code style="display: inline;"><span class="qtext">p</span></code> without specified length and decimals</td>
<td><span class="qtext400">SAP_BCD*</span></td>
</tr>
<tr>
<td><span class="qtext400">D</span></td>
<td><code style="display: inline;"><span class="qtext">d</span></code></td>
<td><span class="qtext400">SAP_DATE*</span></td>
</tr>
<tr>
<td><span class="qtext400">T</span></td>
<td><code style="display: inline;"><span class="qtext">t</span></code></td>
<td><span class="qtext400">SAP_TIME*</span></td>
</tr>
<tr>
<td><span class="qtext400">INT1</span></td>
<td><code style="display: inline;"><span class="qtext">b</span></code></td>
<td><span class="qtext400">SAP_INT1*</span></td>
</tr>
<tr>
<td><span class="qtext400">INT2</span></td>
<td><code style="display: inline;"><span class="qtext">s</span></code></td>
<td><span class="qtext400">SAP_SHORT*</span></td>
</tr>
<tr>
<td><span class="qtext400">I</span></td>
<td><code style="display: inline;"><span class="qtext">i</span></code></td>
<td><span class="qtext400">SAP_INT*</span></td>
</tr>
<tr>
<td><span class="qtext400">F</span></td>
<td><code style="display: inline;"><span class="qtext">f</span></code></td>
<td><span class="qtext400">SAP_DOUBLE*</span></td>
</tr>
<tr>
<td><span class="qtext400">DECFLOAT16</span></td>
<td><code style="display: inline;"><span class="qtext">decfloat16</span></code></td>
<td><span class="qtext400">DecFloat16</span></td>
</tr>
<tr>
<td><span class="qtext400">DECFLOAT34</span></td>
<td><code style="display: inline;"><span class="qtext">decfloat34</span></code></td>
<td><span class="qtext400">DecFloat34</span></td>
</tr>
<tr>
<td><span class="qtext400">STRING</span></td>
<td><code style="display: inline;"><span class="qtext">string</span></code></td>
<td><span class="qtext400">StrRef*</span></td>
</tr>
<tr>
<td><span class="qtext400">XSTRING</span></td>
<td><code style="display: inline;"><span class="qtext">xstring</span></code></td>
<td><span class="qtext400">StrRef*</span></td>
</tr>
<tr>
<td><span class="qtext400">TABLE</span></td>
<td>All table types</td>
<td><span class="qtext400">TABH_REF*</span></td>
</tr>
<tr>
<td><span class="qtext400">OBJ_REF</span></td>
<td>All object references</td>
<td><span class="qtext400">ObjRef*</span></td>
</tr>
<tr>
<td><span class="qtext400">DATA_REF</span></td>
<td>All data references</td>
<td><span class="qtext400">FldRef*</span></td>
</tr>
<tr>
<td><span class="qtext400">STRUCT</span></td>
<td>All structure types</td>
<td>Registered type <span class="qtext400">ctype*</span></td>
</tr>
<tr>
<td><span class="qtext400">ANY</span></td>
<td><code style="display: inline;"><span class="qtext">any</span></code></td>
<td><span class="qtext400">void*</span></td>
</tr>
<tr>
<td><span class="qtext400">DATA</span></td>
<td><code style="display: inline;"><span class="qtext">data</span></code></td>
<td><span class="qtext400">void*</span></td>
</tr>
<tr>
<td><span class="qtext400">SIMPLE</span></td>
<td><code style="display: inline;"><span class="qtext">simple</span></code></td>
<td><span class="qtext400">void*</span></td>
</tr>
<tr>
<td><span class="qtext400">CSEQUENCE</span></td>
<td><code style="display: inline;"><span class="qtext">csequence</span></code></td>
<td><span class="qtext400">void*</span></td>
</tr>
<tr>
<td><span class="qtext400">XSEQUENCE</span></td>
<td><code style="display: inline;"><span class="qtext">xsequence</span></code></td>
<td><span class="qtext400">void*</span></td>
</tr>
<tr>
<td><span class="qtext400">NUMERIC</span></td>
<td><code style="display: inline;"><span class="qtext">numeric</span></code></td>
<td><span class="qtext400">void*</span></td>
</tr>
<tr>
<td><span class="qtext400">CLIKE</span></td>
<td><code style="display: inline;"><span class="qtext">clike</span></code></td>
<td><span class="qtext400">SAP_CHAR*</span></td>
</tr>
<tr>
<td><span class="qtext400">C_POINTER</span></td>
<td><code style="display: inline;"><span class="qtext">%_c_pointer</span></code></td>
<td><span class="qtext400">void**</span></td>
</tr>
</tbody>
</table>
<p>The macro parameters have the following meanings:</p>
<ul>

<li><span class="qtext400">name</span> is the ID for any ABAP data object in uppercase letters that
could also be used in an ABAP implementation of the kernel method. In particular, the ID can contain
links with component selectors, for example <code style="display: inline;"><span class="qtext">me-&gt;attr</span></code> or <code style="display: inline;"><span class="qtext">struc-comp</span></code>.</li>

</ul>

<ul>

<li><span class="qtext400">index</span> is a sequential number from 1 to <span class="qtext400">argcnt</span>. The arguments are accessed using this index.</li>

</ul>

<ul>

<li>For <span class="qtext400">type_kind</span>, either <span class="qtext400">TYPE</span> or <span class="qtext400">TYPE_REF_TO</span> can be specified.</li>

</ul>

<ul>

<li><span class="qtext400">type</span> is the ID for any ABAP data type in uppercase letters that could
also be used in an ABAP implementation of the kernel method. <span class="qtext400">type_kind</span> and <span class="qtext400">type</span> are used to check the interface of the kernel method in ABAP.</li>

</ul>

<ul>

<li>For <span class="qtext400">read_write</span>, either <span class="qtext400">READ</span> or <span class="qtext400">
WRITE</span> can be specified. This defines whether reads or writes can be performed on the argument and this setting is evaluated in the access macros.</li>

</ul>

<ul>

<li><span class="qtext400">length</span> is used to specify the length of all ABAP data types with a
generic length for <span class="qtext400">ARGUMENT_[C|N|X|P]</span>. In characters for <code style="display: inline;"><span class="qtext">c</span></code>
and <code style="display: inline;"><span class="qtext">n</span></code> and in bytes for <code style="display: inline;"><span class="qtext">x</span></code> and <code style="display: inline;"><span class="qtext">p</span></code>.</li>

</ul>

<ul>

<li>When using <span class="qtext400">ARGUMENT_P</span>, <span class="qtext400">decimals</span> must be used to specify the number of
<a href="../abendecimal_place_glosry" class="grey" title="Glossary Entry">decimal places</a>.</li>

</ul>

<ul>

<li>When using <span class="qtext400">ARGUMENT_STRUCT</span>, <span class="qtext400">ctype</span> must
be used to specify a suitable C type. This type should be generated from an ABAP type definition using <span class="qtext400">saphfile</span>.</li>

</ul>

<h3 id="accessing-arguments">Accessing Arguments</h3>
<p>After registering the arguments, the following macros can be used to access them within the C function. With the exception of the direct access to the data control block, the access macros do not require any includes from the
<a href="../abenabap_runtime_envir_glosry" class="grey" title="Glossary Entry">ABAP runtime environment</a>.</p>
<dd>
<span class="qtext400">ARGUMENT_basetype_READ(index,&quot;name&quot;);</span>
</dd>

<p>This <a href="../abenmacro_glosry" class="grey" title="Glossary Entry">macro</a> returns the read address
of an argument with the type <span class="qtext400">const ctype</span>, where <span class="qtext400">ctype</span>
is defined by <span class="qtext400">basetype</span> according to the above table. The index and name
of the argument must be passed. Additional parameters must be specified for the generic types (see below).
Only the index is needed to access the argument. However, to make the C function more legible and to
ensure that additional consistency checks can be executed, the name must also be specified. If the kernel
is compiled in debugging mode, the system executes a consistency check between index and name; the specified
C type and ABAP type of the argument are also checked. In the case of an error, an appropriate ABAP
runtime error is triggered (KMETH_INVALID_ARGUMENT_ID, KMETH_INVALID_ARGUMENT_NAME, or KMETH_INVALID_CTYPE_LENG). No checks are made in the optimized kernel.</p>
<dd>
<span class="qtext400">ARGUMENT_basetype_WRITE(index,&quot;name&quot;);</span>
</dd>

<p>This macro has the same semantics as <span class="qtext400">ARGUMENT_basetype_READ</span>. However,
the system returns the write address. The system also checks whether the argument was defined as a write
argument. If a write is performed on a read-only argument (for example, a constant), this triggers the ABAP runtime error KMETH_ARGUMENT_READ_ONLY.</p>
<dd>
<span class="qtext400">ARGUMENT_[C|N]_READ(index,&quot;name&quot;,lengthU);</span> <br><span class="qtext400">ARGUMENT_[C|N]_WRITE(index,&quot;name&quot;,lengthU);</span> <br>
<span class="qtext400">ARGUMENT_X_READ(index,&quot;name&quot;,lengthR);</span> <br><span class="qtext400">ARGUMENT_X_WRITE(index,&quot;name&quot;,lengthR);</span>
</dd>

<p>If these macros are used, the expected length in bytes <span class="qtext400">lengthR</span> or in characters
<span class="qtext400">lengthU</span> must be specified for the generic types <code style="display: inline;"><span class="qtext">c</span></code>, <code style="display: inline;"><span class="qtext">x</span></code>, and <code style="display: inline;"><span class="qtext">n</span></code>.</p>
<dd>
<span class="qtext400">ARGUMENT_P_READ(index,&quot;name&quot;,lengthR,decimals);</span> <br><span class="qtext400">ARGUMENT_P_WRITE(index,&quot;name&quot;,lengthR,decimals);</span>
</dd>

<p>If these macros are used, the expected length in bytes
(<span class="qtext400">lengthR</span>) and the number of decimal places (<span class="qtext400">decimals</span>) must be specified for the generic type <code style="display: inline;"><span class="qtext">p</span></code>.</p>
<dd>
<span class="qtext400">ARGUMENT_[C_GENERIC|N_GENERIC|CLIKE]_READ(index,&quot;name&quot;,size_tU);</span> <br><span class="qtext400">ARGUMENT_[C_GENERIC|N_GENERIC|CLIKE]_WRITE(index,&quot;name&quot;,size_tU);</span> <br>
<span class="qtext400">ARGUMENT_X_GENRIC_READ(index,&quot;name&quot;,size_tR);</span> <br><span class="qtext400">ARGUMENT_X_GENERIC_WRITE(index,&quot;name&quot;,size_tR);</span>
</dd>

<p>When using these macros, a variable of the type <span class="qtext400">size_tU</span> or <span class="qtext400">size_tR</span>,
containing the length in bytes or characters,  must be specified for the types <span class="qtext400">C_GENERIC</span>,
<span class="qtext400">X_GENERIC</span>, <span class="qtext400">N_GENERIC</span>, and <span class="qtext400">CLIKE</span>.</p>
<dd>
<span class="qtext400">ARGUMENT_P_GENERIC_READ(index,&quot;name&quot;,size_tR,decimals);</span> <br><span class="qtext400">ARGUMENT_P_GENERIC_WRITE(index,&quot;name&quot;,size_tR,decimals);</span>
</dd>

<p>If these macros are used, a variable <span class="qtext400">decimals</span> (for the
<a href="../abendecimal_place_glosry" class="grey" title="Glossary Entry">decimal places</a>) as well
as the length <span class="qtext400">size_tR</span> must be specified for the type <span class="qtext400">P_GENERIC</span>.</p>
<dd>
<span class="qtext400">ARGUMENT_STRUCT_READ(index,&quot;name&quot;,ctype);</span> <br><span class="qtext400">ARGUMENT_STRUCT_READ(index,&quot;name&quot;,ctype);</span>
</dd>

<p>If these macros are used, a suitable C type<span class="qtext400">ctype</span> must be specified for all structured types <span class="qtext400">STRUCT</span>.</p>
<dd>
<span class="qtext400">ARGUMENT_C_POINTER(index,&quot;name&quot;);</span>
</dd>

<p>This <a href="../abenmacro_glosry" class="grey" title="Glossary Entry">macro</a> is available specifically
for the type <span class="qtext400">%_c_pointer</span>. This type is a special internal ABAP type that
has exactly the byte length of a C pointer (4, 8, or 16 bytes, depending on platform). The type is always
mapped to the predefined ABAP type <code style="display: inline;"><span class="qtext">x</span></code>. The macros for the type <span class="qtext400">X</span>
or <span class="qtext400">X_GENERIC</span> are not used due to the variable length and platform-dependency.</p>
<dd>
<span class="qtext400">ARGUMENT_IS_SUPPLIED(index,&quot;name&quot;);</span>
</dd>

<p>This macro has the same semantics as the <a href="../abenpredicate_expression_glosry" class="grey" title="Glossary Entry">
predicate expression</a> <code style="display: inline;"><span class="qtext">IS SUPPLIED</span></code> in ABAP. The same consistency checks are executed as for <span class="qtext400">ARGUMENT_READ</span>.</p>
<dd>
<span class="qtext400">ARGUMENT_DATA(index,&quot;name&quot;,ctype);</span>
</dd>

<p>This macro returns the data control block with the C type <span class="qtext400">const DATA
*</span>. The same consistency checks are executed as for <span class="qtext400">ARGUMENT_READ</span>. The macro is only active if the include <span class="qtext400">//src/include/abdata.h</span> of the
<a href="../abenabap_runtime_envir_glosry" class="grey" title="Glossary Entry">ABAP runtime environment</a> was included.</p>
<p><a name="@@ITOC@@RAISINGEXCEPTIONS_6"></a></p>
<h3 id="raising-exceptions">Raising Exceptions</h3>
<p>C functions that implement kernel method can raise <a href="../abenexceptions" class="blue">class-based exceptions</a>.</p>
<h3 id="registering-exceptions">Registering Exceptions</h3>
<h3 id="global">global</h3>
<p>The exception class is declared in <span class="qtext400">//src/include/abexcpc.h</span> and any text IDs are defined:</p>
<dd>
<span class="qtext400">//src/include/abexcpc.h <br>... <br>CX_ABSTR (CX_..., &quot;CX_...&quot;) <br>CX_TXTID (CX_..._bar, CX_..., &quot;BAR&quot;)&#xA0;&#xA0;/* special text for class */ <br>...</span>
</dd>

<p>Classes can also be declared with their standard text only:</p>
<dd>
<span class="qtext400">//src/include/abexcpc.h <br>... <br>CX_CLASS (CX_..., &quot;CX_...&quot;)&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; /* class with standard text */ <br>...</span>
</dd>

<p>The exact documentation is in the file <span class="qtext400">//src/include/abexcpc.h</span>.</p>
<p>The file <span class="qtext400">//src/include/abexcpa.h</span> must be extended so that any attributes
of an exception class in a C function can be populated. The name, internal type (according to <span class="qtext400">//src/include/abtypes.h)</span>, and the byte length must be specified:</p>
<dd>
<span class="qtext400">//src/include/abexcpa.h <br>... <br>CX_ATTR (CX_..._attr1, CX_..., &quot;ATTR1&quot;, TYPCSTRING, sizeofR(StrRef)) <br>CX_ATTR (CX_..._attr2, CX_..., &quot;ATTR2&quot;, TYPC, LEN_UC2RAW(30)) <br>...</span>
</dd>

<p>Finally, both exceptions and arguments must be registered in the file <span class="qtext400">//src/krn/runt/abkmeth.sig</span>.
This is not forced but, during the syntax check, only registered exceptions are checked for their existence:</p>
<dd>
<span class="qtext400">//src/krn/runt/abkmeth.sig <br>... <br>EXCEPTION(CX_...) <br>...</span>
</dd>

<h3 id="raising-exceptions_1">Raising Exceptions</h3>
<p>A C function can raise an exception by calling the following macros consecutively:</p>
<dd>
<span class="qtext400">EXCEPTION_CREATE(CX_..._bar);</span> <br><span class="qtext400">EXCEPTION_SET_CSTRING(CX_..._attr1, value, valueLength);</span> <br>
<span class="qtext400">EXCEPTION_SET_C&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;(CX_..._attr2, value, valueLength);</span> <br><span class="qtext400">EXCEPTION_RAISE();</span>
</dd>

<p>Within the macros <span class="qtext400">EXCEPTION_CREATE</span> or <span class="qtext400">EXCEPTION_RAISE</span>,
a long jump to Extri always takes place, which means that the C function that implements the kernel method is exited in a long jump and the
<a href="../abenabap_runtime_envir_glosry" class="grey" title="Glossary Entry">ABAP runtime environment</a>
takes control. Therefore, the C function should release its temporary memory before raising an exception.
If the exception is caught in ABAP using <a href="../abapcatch_try" class="blue"><code style="display: inline;"><span class="qtext">CATCH</span></code></a>
without the <code style="display: inline;"><span class="qtext">INTO</span></code> addition, the long jump takes place in <span class="qtext400">EXCEPTION_CREATE</span>.
If the exception is caught with the <code style="display: inline;"><span class="qtext">INTO</span></code> addition (the exception object is used) or not at all, the long jump takes place in <span class="qtext400">EXCEPTION_RAISE</span>.</p>
<p>The exceptions are processed in the runtime environment, as if they were raised in ABAP and the same dynamic checks are executed.</p>
<p>Currently, the following <a href="../abenmacro_glosry" class="grey" title="Glossary Entry">macros</a>,
which can be extended if necessary, are available for setting exception attributes. Strings, integer and C fields are supported. See the above sequence for use.</p>
<dd>
<span class="qtext400">EXCEPTION_SET_CSTRING_UC</span> <br><span class="qtext400">EXCEPTION_SET_C</span>
</dd>

<p>Value with length specified</p>
<dd>
<span class="qtext400">EXCEPTION_SET_C_UC</span> <br><span class="qtext400">EXCEPTION_SET_INT</span>
</dd>

<p>Value with null termination</p>
<p><a name="@@ITOC@@AUXILIARYPROGRAMFORKERNELMETHODS_7"></a></p>
<h2 id="auxiliary-program-for-kernel-methods">Auxiliary Program for Kernel Methods</h2>
<p>The ABAP program <span class="lnkgrey">RSKMETH</span> is used as a browser for the registration of kernel
modules. This can be used to ascertain which C functions are registered for which kernel methods and
which arguments/exceptions are registered for these functions. This is helpful when analyzing syntax errors, since kernel methods process information that only exists in the kernel modules.</p>
<p><a name="@@ITOC@@EXAMPLE_8"></a>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following example is a simplified calculation class for floating decimal place numbers. The class
has an instance attribute in which the last result of each calculation is stored. A method executes a division and is implemented as a kernel method. If the divisor is zero, the method raises a class-based exception.</p>
<p><a name="@@ITOC@@DECLARATIONSECTIONOFTHECLASSINABAP_9"></a>
</div></p>
<h3 id="declaration-section-of-the-class-in-abap">Declaration Section of the Class in ABAP</h3>
<p><dd>
<span class="qtext400">CLASS cl_my_calculation DEFINITION ... <br>... <br>&#xA0;&#xA0;DATA last_result TYPE decfloat16. <br>
... <br>&#xA0;&#xA0;METHODS div <br>&#xA0;&#xA0;&#xA0;&#xA0;IMPORTING p_dividend TYPE decfloat16 p_divisor TYPE decfloat16 <br>
&#xA0;&#xA0;&#xA0;&#xA0;RETURNING VALUE(p_result) TYPE decfloat16. <br>... <br>ENDCLASS.</span>
</dd>
<a name="@@ITOC@@SIGNATUREFILESPANCLASSQTEXT400SRCKRNRUNTABKMETHSIGSPANINTHEKERNEL_10"></a></p>
<h3 id="signature-file-srckrnruntabkmethsig-in-the-kernel">Signature File //src/krn/runt/abkmeth.sig in the Kernel</h3>
<p><dd>
<span class="qtext400">... <br>KERNEL_METHOD(CL_MY_CALCULATION, DIV, xx_myDiv,4) <br>&#xA0;&#xA0;ARGUMENT_F(1, &quot;P_DIVIDEND&quot;,&#xA0;&#xA0;&#xA0;&#xA0; TYPE, &quot;F&quot;, READ) <br>
&#xA0;&#xA0;ARGUMENT_F(2, &quot;P_DIVISOR&quot;,&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;TYPE, &quot;F&quot;, READ) <br>&#xA0;&#xA0;ARGUMENT_F(3, &quot;P_RESULT&quot;,&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TYPE, &quot;F&quot;, WRITE) <br>
&#xA0;&#xA0;ARGUMENT_F(4, &quot;ME-&gt;LAST_RESULT&quot;,TYPE, &quot;F&quot;, WRITE) <br>&#xA0;&#xA0;EXCEPTION(&quot;CX_MY_DIV_BY_ZERO&quot;) <br>...</span>
</dd>
<a name="@@ITOC@@CSOURCECODESPANCLASSQTEXT400SRCKRNMYCALCCPPSPANINTHEKERNEL_11"></a></p>
<h3 id="c-source-code-srckrnmycalccpp-in-the-kernel">C++ Source Code //src/krn/.../mycalc.cpp in the Kernel</h3>
<p><dd>
<span class="qtext400">#include &quot;abkmeth.h&quot; <br>... <br>externC void xx_myDiv( ARGUMENTS ){ <br> <br>&#xA0;&#xA0;const SAP_DOUBLE <em>const dividend = ARGUMENT_F_READ(1,&quot;P_DIVIDEND&quot;); <br>
&#xA0;&#xA0;const SAP_DOUBLE *const divisor&#xA0;&#xA0;= ARGUMENT_F_READ(2,&quot;P_DIVISOR&quot;); <br>&#xA0;&#xA0;SAP_DOUBLE *result
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; = ARGUMENT_F_WRITE(3,&quot;P_RESULT&quot;); <br>
&#xA0;&#xA0;SAP_DOUBLE *last_result&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= ARGUMENT_F_WRITE(4,&quot;ME-&gt;LAST_RESULT&quot;); <br>
 <br>&#xA0;&#xA0;if( 0 == *divisor ) <br>&#xA0;&#xA0;{ <br>&#xA0;&#xA0;&#xA0;&#xA0;EXCEPTION_CREATE(CX_MY_DIV_BY_ZERO); <br>
&#xA0;&#xA0;&#xA0;&#xA0;EXCEPTION_RAISE(); <br>&#xA0;&#xA0;} <br> <br>&#xA0;&#xA0;</em>result = <em>dividend / *divisor; <br>&#xA0;&#xA0;</em>last_result = *result; <br> <br>}</span>
</dd>
<a name="@@ITOC@@IMPLEMENTATIONSECTIONOFTHECLASSINABAP_12"></a></p>
<h3 id="implementation-section-of-the-class-in-abap">Implementation Section of the Class in ABAP</h3>
<p><dd>
<code style="display: inline;"><span class="qtext">CLASS cl_my_calculation IMPLEMENTATION. <br>... <br>METHOD div BY KERNEL MODULE xx_myDiv. <br>ENDMETHOD. <br>... <br>ENDCLASS.</span></code>
</dd></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abenkernel_method_glosry/" title="Kernel Method" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Kernel Method
              </div>
            </div>
          </a>
        
        
          <a href="../abenkey_field_glosry/" title="key field" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                key field
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>