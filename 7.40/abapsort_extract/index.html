


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapsort extract - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sort-extract" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapsort extract
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#obsolete-syntax" class="md-nav__link">
    Obsolete Syntax
  </a>
  
    <nav class="md-nav" aria-label="Obsolete Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extras" class="md-nav__link">
    Extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-1" class="md-nav__link">
    Addition 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-2" class="md-nav__link">
    Addition 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-3" class="md-nav__link">
    Addition 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_3" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abapsort_extract.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_obsolete" class="blue">Obsolete Language Elements</a>&#xA0;&#x2192;&#xA0;
<a href="../abendata_internal_obsolete" class="blue">Obsolete Processing of Internal Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_extracts_extended" class="blue">Obsolete Extracts</a>&#xA0;</small></p>
<h1 id="sort-extract">SORT - Extract</h1>
<p><a href="../abapsort_shortref" class="blue">Short Reference</a>  </p>
<p><a name="@@SORT - extract@@!ABAP_STATEMENT_OBS!@@"></a>
Other versions: 
 <a href="../../7.31/abapsort_extract">7.31</a> | <b>7.40</b> | <a href="../../7.54/abapsort_extract">7.54</a></p>
<h2 id="obsolete-syntax">Obsolete Syntax</h2>
<p><code style="display: inline;"><span class="qtext">SORT [ASCENDING|DESCENDING]</span></code> <br><code style="display: inline;"><span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0; [AS TEXT]</span></code> <br>
<code style="display: inline;"><span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0; [STABLE]</span></code> <br><code style="display: inline;"><span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0; [<a href="../abapsort_key" class="blue">sort_key</a>].</span></code>  </p>
<h3 id="extras">Extras</h3>
<p><a href="#!ABAP_ADDITION_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... ASCENDING|DESCENDING</span></code> </a> <br>
<br><a href="#!ABAP_ADDITION_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... AS TEXT</span></code> </a><br />
 <a href="#!ABAP_ADDITION_3@3@" class="blue"> 3. <code style="display: inline;"><span class="qtext">... STABLE</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>This statement sorts the <a href="../abenextract_dataset_glosry" class="grey" title="Glossary Entry">extract
dataset</a> of the program. A prerequisite for executing the statement is that the field group <span class="qtext">
header</span> is defined using the <a href="../abapfield-groups" class="blue"><code style="display: inline;"><span class="qtext">FIELD-GROUPS</span></code></a>
statement, and is therefore a component of all field groups. If no explicit sort key <a href="../abapsort_key" class="blue">
<code style="display: inline;"><span class="qtext">sort_key</span></code></a> is specified, the extract dataset is sorted by the components
of the field group <code style="display: inline;"><span class="qtext">header</span></code>. Numeric and byte-type components are sorted according to their value and character-type components are sorted by default according to their binary representation
(<a href="../abencodepage_glosry" class="grey" title="Glossary Entry">code page</a>). Here, components
containing hexadecimal 0 are placed before other entries. Text sorting for character-type components can be done using the addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code>.</p>
<p>The priority of sorting is based on the order in which the components are inserted into the field group
<code style="display: inline;"><span class="qtext">header</span></code> using <a href="../abapinsert_fg" class="blue"><code style="display: inline;"><span class="qtext">INSERT</span></code></a>.</p>
<p>Sorting is unstable by default, which means that the relative order of rows that do not have different
sort keys is not retained when they are sorted, and can change when they are sorted more than once. The addition <code style="display: inline;"><span class="qtext">STABLE</span></code> can be used for stable sorting.</p>
<p>The <code style="display: inline;"><span class="qtext">SORT</span></code> statement also finalizes the structure of the extract dataset. Executing
the statement <a href="../abapextract" class="blue"><code style="display: inline;"><span class="qtext">EXTRACT</span></code></a> after executing the <code style="display: inline;"><span class="qtext">SORT</span></code> statement leads to an untreatable exception.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The <code style="display: inline;"><span class="qtext">SORT</span></code> statement for the
<a href="../abenextract_dataset_glosry" class="grey" title="Glossary Entry">extract dataset</a> is
syntactically different to the <a href="../abapsort_itab" class="blue"><code style="display: inline;"><span class="qtext">SORT</span></code>
statement for internal tables</a>, the only difference being that no internal table is specified, but the two should not be confused with one another.
</li>

<li>
If components with the content hexadecimal 0 are placed before other entries, this can lead to unexpected behavior when sorting numerical data types.
</li>

<li>
In global classes, no field groups can be defined or edited. In methods of local classes of programs other than class pools, the <code style="display: inline;"><span class="qtext">SORT</span></code> statement is possible for globally defined field groups.
</li>

<li>
Extracts are obsolete. <a href="../abenitab" class="blue">Internal tables</a> are recommended instead. <br>
</li>

<p></ul>
<a name="@@ASCENDING@@SORT - extract (obsolete)@@"></a>
<a name="@@DESCENDING@@SORT - extract (obsolete)@@"></a>
</div></p>
<h3 id="addition-1">Addition 1</h3>
<p><code style="display: inline;"><span class="qtext">... ASCENDING|DESCENDING</span></code>   <br><!-- /A --></p>
<h3 id="effect_1">Effect</h3>
<ul>

<li>
The addition <code style="display: inline;"><span class="qtext">ASCENDING</span></code> or <code style="display: inline;"><span class="qtext">DESCENDING</span></code> can be used
to specify the sort direction explicitly as ascending or descending. If neither addition is specified,
the data is sorted in ascending order by default. The sort direction can be overwritten for individual components in the explicit sort key <code style="display: inline;"><span class="qtext">sort_key</span></code>. <br>
</li>

<p></ul>
<a name="@@AS TEXT@@SORT - extract (obsolete)@@"></a></p>
<h3 id="addition-2">Addition 2</h3>
<p><code style="display: inline;"><span class="qtext">... AS TEXT</span></code>   <br><!-- /A --></p>
<h3 id="effect_2">Effect</h3>
<p>The addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> specifies that
<a href="../abentextlike_data_type_glosry" class="grey" title="Glossary Entry">text-like</a> components are sorted according to the
<a href="../abenlocale_glosry" class="grey" title="Glossary Entry">locale</a> of the current text environment.
If <code style="display: inline;"><span class="qtext">AS TEXT</span></code> is not specified, text-like components are sorted according to
the encoding in the code page of the current text environment. For more information, see <a href="../abapsort_itab" class="blue"><code style="display: inline;"><span class="qtext">SORT</span></code> for internal tables</a>.  </p>
<p><a name="@@STABLE@@SORT - extract (obsolete)@@"></a></p>
<h3 id="addition-3">Addition 3</h3>
<p><code style="display: inline;"><span class="qtext">... STABLE</span></code>   <br><!-- /A --></p>
<h3 id="effect_3">Effect</h3>
<p>You can use <code style="display: inline;"><span class="qtext">STABLE</span></code> to perform stable sorting. The relative order of rows,
which is the same in the sort key, remains unchanged when sorting. Without the <code style="display: inline;"><span class="qtext">STABLE</span></code>
addition, the order is not stable and repeated sorting of the extract dataset with the same sort key can change the order in each sort.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>See <a href="../abenextract_at_abexa" class="blue">Extracts, Processing</a>  </p>
</div>

<h3 id="exceptions">Exceptions</h3>
<p><br style="display: block">
<div markdown="span" class="admonition tip">
<p class="admonition-title">Non-Catchable Exceptions</p>
<ul></p>
<li>
<span class="italic">Cause:</span> A sort field with the explicit addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> is not text-like. <br>
<span class="italic">Runtime Error:</span> <code style="display: inline;"><span class="qtext">SORT_AS_TEXT_EX_BAD_TYPE</span></code>
</li>

<li>
<span class="italic">Cause:</span> More than 50 sort criteria. <br><span class="italic">Runtime Error:</span> <code style="display: inline;"><span class="qtext">SORT_EXTRACT_TOO_MANY_FIELDS</span></code>
</li>

<li>
<span class="italic">Cause:</span> The field group <code style="display: inline;"><span class="qtext">HEADER</span></code> does not contain a sort criterion. <br><span class="italic">Runtime Error:</span> <code style="display: inline;"><span class="qtext">SORT_FIELD_NOT_IN_HEADER</span></code>
</li>

<li>
<span class="italic">Cause:</span> The field group <code style="display: inline;"><span class="qtext">HEADER</span></code> is not defined. <br><span class="italic">Runtime Error:</span> <code style="display: inline;"><span class="qtext">SORT_NO_HEADER</span></code>
</li>

<li>
<span class="italic">Cause:</span> It is not possible to use <code style="display: inline;"><span class="qtext">SORT</span></code> in a loop through an extract dataset. <br>
<span class="italic">Runtime Error:</span> <code style="display: inline;"><span class="qtext"> SORT_WITHIN_LOOP</span></code>
</li>

<li>
<span class="italic">Cause:</span> Insufficient memory space. <br><span class="italic">Runtime Error:</span> <code style="display: inline;"><span class="qtext"> SORT_EXTRACT_INDEX_NO_ROLL</span></code>  
  <br>
</li>

</ul>

</div>

<h3 id="continue">Continue</h3>
<p><a href="../abapsort_key" class="blue">SORT - sort_key</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>