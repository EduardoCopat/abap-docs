


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenicf - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#icf-internet-communication-framework" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenicf
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#icf-overview" class="md-nav__link">
    ICF Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#icf-services" class="md-nav__link">
    ICF Services
  </a>
  
    <nav class="md-nav" aria-label="ICF Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#icf-clients" class="md-nav__link">
    ICF Clients
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#icf-security" class="md-nav__link">
    ICF Security
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-information" class="md-nav__link">
    More Information
  </a>
  
    <nav class="md-nav" aria-label="More Information">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abenicf.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_data_communication" class="blue">Data Interfaces and Communication Interfaces</a>&#xA0;</small></p>
<h1 id="icf-internet-communication-framework">ICF - Internet Communication Framework</h1>
<p>Internet Communication Framework (ICF) is a programming interface (API), based on interfaces and classes,
used by ABAP programs to communicate with the Internet. ICF supports the Internet protocols HTTP, HTTPS,
and SMTP. All communication between ABAP and the Internet based on these protocols takes place using
ICF.  ICF is a simplified technical foundation that can be used by more advanced programming interfaces. This means that ABAP programs do not usually access ICF directly and wrappers are used instead, such as
<a href="../abenbusiness_server_pages_glosry" class="grey" title="Glossary Entry">Business Server Pages</a>,
<a href="../abenweb_dynpro_glosry" class="grey" title="Glossary Entry">Web Dynpro ABAP</a>, Web Services
ABAP, or ODATA-based services. Wrappers like these ensure that the conventions required for external
communication are met, such as the model view controller approach (MVC) in Web Dynpro or Simple Object Access Protocol (SOAP) in Web services.</p>
<p>To communicate with the Internet using REST principles (Representational State Transfer), the interfaces and classes in the ABAP REST Library in the package SREST should be used, since they adapt ICF accordingly.</p>
<ul>

<li><a href="#@@ITOC@@ICFOVERVIEW_1" class="blue">ICF Overview</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ICFSERVICES_2" class="blue">ICF Services</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ICFCLIENTS_3" class="blue">ICF Clients</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ICFSECURITY_4" class="blue">ICF Security</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@MOREINFORMATION_5" class="blue">More Information</a></li>

</ul>

<p>Other versions: 
 <s><i>7.31</i></s> | <b>7.40</b> | <a href="../../7.54/abenicf">7.54</a></p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>Information about communications using the WebSocket protocol can be found under <a href="../abenapc" class="blue">ABAP Push Channels</a>.</p>
<p><a name="@@ITOC@@ICFOVERVIEW_1"></a>
</div></p>
<h2 id="icf-overview">ICF Overview</h2>
<p>The following figure is a (highly simplified) schematic overview of communications between ABAP and the Internet using ICF. It uses HTTP communication as an example.</p>
<p><img src="abdoc_icf.gif" width="00478" height="00490" alt="Mapping"></p>
<p>The actual communication of the SAP NetWeaver application server with the Internet takes places through its
<a href="../abeninternet_con_man_glosry" class="grey" title="Glossary Entry">Internet Communication Manager</a> (ICM). The manager itself communicates with an
<a href="../abensap_nw_abap_glosry" class="grey" title="Glossary Entry">AS ABAP</a> work process, whose task handler controls ICF.</p>
<p>Communication can run in either direction, meaning that AS ABAP can be a server or a client. Within
ICF, this aspect is implemented using different branches with their own interfaces and classes. ABAP
programs can both respond to requests from the Internet and provide a service with data for further handling and itself query data from Internet. This is done by implementing the appropriate interfaces.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>Before each response is sent in an ICF server program or ICF client program, a
<a href="../abendatabase_commit_glosry" class="grey" title="Glossary Entry">database commit</a> is executed (except for during the
<a href="../abenupdate_glosry" class="grey" title="Glossary Entry">update</a> process).</li>

<p></ul>
<ul></p>
<li>HTTP communication is not bidirectional, which means that one partner is always the client and one partner is always the server. Bidirectional communication is possible by using the WebSocket protocol and
<a href="../abenapc" class="blue">ABAP Push Channels</a>.</li>

<p></ul>
<a name="@@ITOC@@ICFSERVICES_2"></a>
</div></p>
<h2 id="icf-services">ICF Services</h2>
<p>AS ABAP services that are to be accessed from the Internet need to be created as nodes in transaction
<span class="lnkgrey">SICF</span>. This determines the properties of the service too. An ICF service is a transportable repository object.</p>
<p>The initial node of the service tree stands for the AS ABAP Web address consisting of the host and the
port. The position of the node in the tree determines the further URL path required to call a specific service. A URL can contain form fields after the actual address part, which are read by ICF.</p>
<p>Before a response can be made to a HTTP request sent to a service in the service tree in transaction
SICF, at least one global class must be assigned to this service. This class must implement the interface
<span class="lnkgrey">IF_HTTP_EXTENSION</span> and have access to the ICF infrastructure. When a request
is sent to the service, ICF creates a HTTP request handler as an instance of this class. The implemented
interface has only one method, HANDLE_REQUEST, whose input parameter SERVER is a reference to the service
represented by <span class="lnkgrey">IF_HTTP_SERVER</span>. The attributes and methods of the service
make it possible to query properties of the request, such as the content of the form fields in the URL
and to pass data to the server in a suitable format, such as HTML or XML. The most important are the
attributes REQUEST and RESPONSE, which refer to objects that implement the interfaces <span class="lnkgrey">IF_HTTP_REQUEST</span> or <span class="lnkgrey">IF_HTTP_RESPONSE</span>.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>While a HTTP request is being handled in a HTTP request handler, the ABAP program is in a special
context in which certain statements, such as <a href="../abapmessage" class="blue"><code style="display: inline;"><span class="qtext">MESSAGE</span></code></a>
or <a href="../abapmessage" class="blue"><code style="display: inline;"><span class="qtext">BREAK-POINT</span></code></a>, are handled differently than, say, in dialog processing. External breakpoints can be set to debug programs in this context.</li>

<p></ul>
<ul></p>
<li>Special URL form fields, such as <span class="qtext400">sap-user</span>, <span class="qtext400">sap-client</span>,
or <span class="qtext400">sap-language</span>, all start with the prefix <span class="qtext400">sap-</span> and are evaluated when ICF is used for logons to AS ABAP.</li>

<p></ul>
<ul></p>
<li>A special handler class can be used to access objects from the MIME repository directly using ICF services (see the <a href="../abenicf_mime_pictures_abexa" class="blue">example</a>).</li>

<p></ul>
<ul></p>
<li>Alongside the nodes that represent HTTP services, the nodes for <a href="../abenapc" class="blue">ABAP Push Channels</a> addressed using the WebSocket protocol are defined in the service tree in ICF.</li>

<p></ul>
</div></p>
<h3 id="examples">Examples</h3>
<ul>

<li>See <a href="../abenicf_service_abexa" class="blue">Calling a HTTP Service</a>.</li>

<p></ul>
<ul></p>
<li>One production example of a self-programmed HTTP service is the <span class="lnkgrey">Web version</span> of this documentation itself.</li>

<p></ul>
<a name="@@ITOC@@ICFCLIENTS_3"></a></p>
<h2 id="icf-clients">ICF Clients</h2>
<p>If the proxy setting for the HTTP client is configured appropriately in transaction <span class="lnkgrey">SICF</span>,
ABAP programs can send requests to the Internet using ICF and receive responses. This is done using
client objects from the class <span class="lnkgrey">CL_HTTP_CLIENT</span>, which implements the interface
<span class="lnkgrey">IF_HTTP_CLIENT</span>. A client object can be created using a factory method from
this class, which associates it with a Web address. Like a HTTP server, the attributes REQUEST and RESPONSE
reference objects that implement the interfaces <span class="lnkgrey">IF_HTTP_REQUEST</span> or <span class="lnkgrey">IF_HTTP_RESPONSE</span> and that can be used to send requests and receive responses.</p>
<p><a name="@@ITOC@@ICFSECURITY_4"></a></p>
<h2 id="icf-security">ICF Security</h2>
<p>The API of the ICF enables virus scans to be run using the virus scan interface (VSI). The required virus scan profile for the scan can be selected.</p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>See <a href="../abenicf_client_abexa" class="blue">ABAP as HTTP Client</a>.</p>
<p><a name="@@ITOC@@MOREINFORMATION_5"></a>
</div></p>
<h2 id="more-information">More Information</h2>
<ul>

<li>Fo more information on ICF and ICM, read the</li>

</ul>

<p>SAP NetWeaver documentation in <a href="http://help.sap.com/" target="blank" class="blue">SAP Help Portal</a>.</p>
<ul>

<li>This documentation also describes communication between AS ABAP and the Internet, based on class wrappers or ICF enhancements such as ABAP Web Services or the ABAP REST Library.</li>

</ul>

<h3 id="continue">Continue</h3>
<p><a href="../abenicf_abexas" class="blue">ICF Examples</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>