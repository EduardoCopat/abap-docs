


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>ABAP CDS - SELECT, association - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#abap-cds-select-association" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              ABAP CDS - SELECT, association
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extras" class="md-nav__link">
    Extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-1" class="md-nav__link">
    Addition 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-2" class="md-nav__link">
    Addition 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.40/abencds_f1_association.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="abap-cds-select-association">ABAP CDS - SELECT, association</h1>
<p><a name="@@ITOC@@SYNTAX_1"></a>
<s><i>7.31</i></s> <b>7.40</b> <a href="../abencds_f1_association">7.54</a></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_dictionary" class="blue">ABAP Dictionary</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds" class="blue">ABAP CDS in ABAP Dictionary</a>&#xA0;&#x2192;&#xA0;
<a href="../abenddic_cds_views" class="blue">ABAP CDS - Views</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds_f1_syntax_reference" class="blue">ABAP CDS - DDL Statements</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds_f1_define_view" class="blue">ABAP CDS - DEFINE VIEW</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds_f1_select_statement" class="blue">ABAP CDS - SELECT</a>&#xA0;</small></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext400">... ASSOCIATION [ [min..max] ] TO entity [AS assoc] ON <a href="../abencds_f1_conditional_expression" class="blue">cond_exp</a> ...</span> 
</code></pre></p>
<h3 id="extras">Extras</h3>
<p><a href="#!ABAP_ADDITION_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... [min..max]</span></code> </a><br />
 <a href="#!ABAP_ADDITION_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... AS assoc</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>Defines an <a href="../abenassociation_glosry" class="grey" title="Glossary Entry">association</a>
of the name <code style="display: inline;"><span class="qtext">assoc</span></code> in a <a href="../abencds_f1_select_statement" class="blue"><span class="qtext400">SELECT</span> statement</a> of a CDS view in
<a href="../abenabap_cds_glosry" class="grey" title="Glossary Entry">ABAP CDS</a>. An association joins
the first elementary data source <span class="qtext400">entity</span> specified as the initial data
source (after <a href="../abencds_f1_select_statement" class="blue"><span class="qtext400">FROM</span></a>
using the <span class="qtext400">ON</span> condition <a href="../abencds_f1_conditional_expression" class="blue">
<span class="qtext400">cond_exp</span></a>) with the data source <span class="qtext400">entity</span>
specified as the target data source (in the definition of the association). A data source <span class="qtext400">entity</span> can be a database table defined in ABAP Dictionary or a view. In the latter case, the view can be an
<a href="../abenexternal_view_glosry" class="grey" title="Glossary Entry">external view</a> or another CDS view.</p>
<p>An association of a <a href="../abencds_f1_select_statement" class="blue"><span class="qtext400">SELECT</span>
statement</a> can be accessed - in the same statement at all places where this is documented - by specifying the association name in
<a href="../abencds_f1_path_expression" class="blue">path expressions</a>. When a CDS view is activated
with path expressions, the specified associations are converted to join expressions. The initial data
source is shown on the left side and the target data source is shown on the right side. The <span class="qtext400">ON</span>
condition of the association is added to the <span class="qtext400">ON</span> condition of the join. By default, the category of the join is determined by where the path expression is used:</p>
<ul>

<li>After <a href="../abencds_f1_select_statement" class="blue"><span class="qtext400">FROM</span></a>, it is an inner join.</li>

</ul>

<ul>

<li>In all other locations, it is a left outer join.</li>

</ul>

<p>This setting can be overwritten when specifying the association in a path expression using an <a href="../abencds_path_expression_attr" class="blue">attribute</a>.</p>
<p>When specifying the <span class="qtext400">ON</span> condition, the following special <a href="../abencds_cond_expr_on_assoc" class="blue">rules</a> apply:</p>
<ul>

<li>Fields of the initial data source, which are specified in the <span class="qtext400">ON</span> condition,
must also be listed in the <a href="../abencds_f1_select_list" class="blue"><span class="qtext400">SELECT</span>
list</a> of the current <span class="qtext400">SELECT</span> statement. This ensures that a join expression
can be built from the association (when used in a path expression). In the <span class="qtext400">ON</span>
condition, the field name should be prefixed by <span class="qtext400">$projection</span> and not by the name of initial data source.</li>

</ul>

<ul>

<li>The fields of the target data source must be prefixed in the <span class="qtext400">ON</span> condition by the name of the association (prefix <span class="qtext400">assoc.</span> separated by a period).</li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>The syntax for defining and using associations is a high-value wrapping of the syntax for
<a href="../abencds_f1_joined_data_source" class="blue">joins</a>. Using associations instead of directly programming joins makes it easier to read the definition of a CDS view.</li>

<p></ul>
<ul></p>
<li>If an association is listed as a special case of a path expression in the <a href="../abencds_f1_select_list" class="blue">
<span class="qtext400">SELECT</span> list</a> of the current <span class="qtext400">SELECT</span> statement,
other CDS views can be used in the path expressions - provided that the current CDS view is used as
the data source. Associations not listed in the <span class="qtext400">SELECT</span> list can only be used in path expressions of the current <span class="qtext400">SELECT</span> statement.</li>

<p></ul>
<ul></p>
<li>When a CDS view is activated, a join defined by an association is built for every use in a path
expression and not for the definition of the association. No joins are constructed for associations that are not used in their CDS views.</li>

<p></ul>
<ul></p>
<li>Associations and <a href="../abencds_f1_joined_data_source" class="blue">join expressions</a> can be used in a <span class="qtext400">SELECT</span> statement of a CDS view. </li>

<p></ul>
<a name="@@[@@!ABAP_CDS_SELECT!@@"></a>
<a name="@@]@@!ABAP_CDS_SELECT!@@"></a>
</div></p>
<h3 id="addition-1">Addition 1</h3>
<p><code style="display: inline;"><span class="qtext">... [min..max]</span></code>   <br><!-- /A --></p>
<h3 id="effect_1">Effect</h3>
<p>Defines the cardinality of the target data source of a CDS view, which is defined with an association
<span class="qtext400">ASSOCIATION</span>. The square brackets are part of the syntax. For <span class="qtext400">min</span> and <span class="qtext400">max</span>, positive whole numbers (including 0) and asterisks
(<span class="qtext400">*</span>) can be specified:</p>
<ul>

<li><span class="qtext400">max</span> cannot be 0.</li>

</ul>

<ul>

<li>An asterisk <span class="qtext400">*</span> for <span class="qtext400">max</span> means any number of rows.</li>

</ul>

<ul>

<li><span class="qtext400">min</span> can be omitted (set to 0 if omitted).</li>

</ul>

<ul>

<li><span class="qtext400">min</span> cannot be <span class="qtext400">*</span>.</li>

</ul>

<ul>

<li>If <span class="qtext400">min</span> and <span class="qtext400">max</span> have the same values, both sides have the same number of lines.</li>

</ul>

<p>If the cardinality is not explicitly defined, the cardinality &quot;to 1&quot; is implicitly used (<span class="qtext400">[min..1]</span>).</p>
<p>Cardinality is not validated at runtime. When an association is used in a <a href="../abencds_f1_where_clause" class="blue">
<span class="qtext400">WHERE</span> condition</a>, 1 must be specified for <span class="qtext400">max</span>.  </p>
<p><a name="@@AS@@!ABAP_CDS_SELECT_ASSO!@@"></a></p>
<h3 id="addition-2">Addition 2</h3>
<p><code style="display: inline;"><span class="qtext">... AS assoc</span></code>   <br><!-- /A --></p>
<h3 id="effect_2">Effect</h3>
<p>Defines the name <span class="qtext400">assoc</span> of an association defined using <span class="qtext400">ASSOCIATION</span>
of a CDS view. If no name is explicitly defined with <span class="qtext400">AS</span>, <span class="qtext400">assoc</span>
is set implicitly to the name of the target data source. The name <span class="qtext400">assoc</span> must comply with the naming rules for <a href="../abencds_general_syntax_rules" class="blue">names</a>.</p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following CDS view <span class="qtext400">sales_order_invoice_header</span> returns information
about sales invoices and works with the following databases: <span class="qtext400">snwd_so_inv_head</span>,
<span class="qtext400">snwd_so</span>, <span class="qtext400">snwd_bpa</span>, <span class="qtext400">snwd_so_inv_item</span>.</p>
<p>Two associations are defined. The initial data source in each case is the first database table <span class="qtext400">snwd_so_inv_head</span> after <span class="qtext400">FROM</span>.</p>
<ul>

<li><span class="qtext400">buyer</span> stands for a join between <span class="qtext400">snwd_so_inv_head</span> and the target data source <span class="qtext400">snwd_bpa</span>.</li>

</ul>

<ul>

<li><span class="qtext400">invoice_items</span> stands for a join between <span class="qtext400">snwd_so_inv_head</span> and the target data source <span class="qtext400">snwd_so_inv_item</span>.</li>

</ul>

<p>The initial data source fields used in the <span class="qtext400">ON</span> conditions - <span class="qtext400">node_key</span>
and <span class="qtext400">buyer_guid</span>  - are part of the <span class="qtext400">SELECT</span>
list. Here the recommended prefix <span class="qtext400">$projection</span> is used instead of the prefixes <span class="qtext400">snwd_so_inv_head</span> or <span class="qtext400">snwd_so_inv_head</span>.</p>
<p>The association <span class="qtext400">buyer</span> is not listed in the <span class="qtext400">SELECT</span>
list and can only be used in path expressions of the current <span class="qtext400">SELECT</span> statement.
This association can be specified in the <span class="qtext400">WHERE</span> condition due to the cardinality
<span class="qtext400">[1..1]</span>. Association <span class="qtext400">invoice_items</span> is not
accessed in path expressions of the current <span class="qtext400">SELECT</span> statement. However,
this association is listed in the <span class="qtext400">SELECT</span> list, which means it can be used
in path expression of other CDS views. This association cannot be specified in a <span class="qtext400">WHERE</span> condition due to the cardinality <span class="qtext400">[1..*]</span>.</p>
<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;SALESO_INVHDR_VW&apos; <br>define view sales_order_invoice_header as <br>
&#xA0;&#xA0;select from snwd_so_inv_head <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; inner join snwd_so <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; on snwd_so_inv_head.so_guid = snwd_so.node_key <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; association [1..1] to snwd_bpa as buyer <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; on $projection.buyer_guid = buyer.node_key <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; association [1..*] to snwd_so_inv_item as invoice_items <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; on $projection.node_key = invoice_items.parent_key <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; { key snwd_so_inv_head.node_key,&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//used in assoc invoice_items <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; snwd_so_inv_head.buyer_guid,&#xA0;&#xA0;&#xA0;&#xA0;//used in assoc buyer <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; snwd_so.so_id as sales_order_id, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; buyer.bp_id as buyer_id,&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//from assoc buyer <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; snwd_so_inv_head.payment_status, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@Semantics.currencyCode <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; snwd_so_inv_head.currency_code, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@Semantics.amount.currencyCode: &apos;currency_code&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; snwd_so_inv_head.gross_amount, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; invoice_items&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; //publish assoc invoice_items <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; } <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;where buyer.bp_role = &apos;001&apos;;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//usage of assoc buyer <br></span>
</dd>

<p>The CDS view can be accessed in an ABAP program with a simple <code style="display: inline;"><span class="qtext">SELECT</span></code> statement (Open SQL).</p>
<dd>
<span class="qtext">SELECT sales_order_id, buyer_id, payment_status <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FROM sales_order_invoice_header <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INTO CORRESPONDING FIELDS OF TABLE @itab.</span>
</dd>

<p>The complexity of the actual query is wrapped transparently in the CDS view for the application programmer.
When the view is accessed, the join (defined by the association <span class="qtext400">invoice_items</span>)
between <span class="qtext400">snwd_so_inv_head</span> and <span class="qtext400">snwd_so_inv_item</span> is not built, because there are no path expressions that need to access the join.</p>
<p>The CDS view <span class="qtext400">sales_order_invoice_header</span> mentioned above is used as the
data source in the definition of the CDS view <span class="qtext400">sales_order_invoice_items</span>.
This data source is used to access the published association <span class="qtext400">invoice_items</span>.
The elements of the association are accessed in this view. There is no visual indication that it is
the result of a join. This join between <span class="qtext400">snwd_so_inv_head</span> and <span class="qtext400">snwd_so_inv_item</span>
is created when the CDS view <span class="qtext400">sales_order_invoice_items</span> is activated. The
other association <span class="qtext400">buyer</span> of the CDS view <span class="qtext400">sales_order_invoice_header</span> cannot be accessed.</p>
<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;SALESO_INVITM_VW&apos; <br>define view sales_order_invoice_items as <br>
&#xA0;&#xA0;select from sales_order_invoice_header as header <br>&#xA0;&#xA0;{ header.sales_order_id, <br>
&#xA0;&#xA0;&#xA0;&#xA0;header.invoice_items.inv_item_pos as item_position, <br>&#xA0;&#xA0; @Semantics.currencyCode <br>
&#xA0;&#xA0;&#xA0;&#xA0;header.invoice_items.currency_code, <br>&#xA0;&#xA0; @Semantics.amount.currencyCode: &apos;currency_code&apos; <br>&#xA0;&#xA0;&#xA0;&#xA0;header.invoice_items.gross_amount }</span>
</dd>

</div>

<h3 id="continue">Continue</h3>
<p><a href="../abencds_f1_path_expression" class="blue">ABAP CDS - path_expr</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abencds_f1_arithmetic_expression/" title="ABAP CDS - arith_expr" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ABAP CDS - arith_expr
              </div>
            </div>
          </a>
        
        
          <a href="../abencds_f1_builtin_functions/" title="ABAP CDS - SELECT, Predefined Functions" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                ABAP CDS - SELECT, Predefined Functions
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>