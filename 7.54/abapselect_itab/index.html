


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>SELECT - FROM @itab - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#select-from-itab" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              SELECT - FROM @itab
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-examples" class="md-nav__link">
    Executable Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abapselect_itab.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="select-from-itab">SELECT - FROM @itab</h1>
<p><a href="../abapselect_shortref" class="blue">Quick Reference</a>  </p>
<p><s><i>7.31</i></s> <s><i>7.40</i></s> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopensql" class="blue">ABAP SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopen_sql_reading" class="blue">ABAP SQL - Reads</a>&#xA0;&#x2192;&#xA0;
<a href="../abenselect_clauses" class="blue">SELECT clauses</a>&#xA0;&#x2192;&#xA0;
<a href="../abapfrom_clause" class="blue">SELECT - FROM</a>&#xA0;&#x2192;&#xA0;
<a href="../abapselect_data_source" class="blue">SELECT - FROM data_source</a>&#xA0;</small></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">... @itab</span> 
</code></pre></p>
<h3 id="effect">Effect</h3>
<p>Specifies an <a href="../abeninternal_table_glosry" class="grey" title="Glossary Entry">internal table</a> <code style="display: inline;"><span class="qtext">itab</span></code> as a
<a href="../abenopen_sql_host_variables" class="blue">host variable</a>, whose name must be prefixed with the <code style="display: inline;"><span class="qtext">@</span></code> character, as a
<a href="../abapselect_data_source" class="blue">data source</a> of a
<a href="../abenquery_glosry" class="grey" title="Glossary Entry">query</a>. The <code style="display: inline;"><span class="qtext">SELECT</span></code>
statement handles the internal table of the AS ABAP like a database table on the database. The ABAP types of the columns in the internal table are mapped to suitable
<a href="../abenddic_builtin_types" class="blue">built-in data types</a> in ABAP Dictionary. If a column is declared with reference to a type in ABAP Dictionary, this type is used directly.</p>
<p>There are two different cases here:</p>
<ul>

<li>
The data in the internal table is not required on the database.
<br></li>

</ul>

<dd>
In this case, the data of the internal table is accessed on the AS ABAP and the table is handled like a table in the
<a href="../abentable_buffer_glosry" class="grey" title="Glossary Entry">table buffer</a>. This is possible for all database platforms.
</dd>

<ul>

<li>
Data in the internal table is required on the database.
<br></li>

</ul>

<dd>
In this case, the data must be passed to temporary tables in the database before the query is actually
executed. Here, only those columns are transported that need to be accessed. This option is not supported
by all databases. If it is known statically that data is required on the database, a syntax check warning occurs that can be hidden by the pragma <code style="display: inline;"><span class="qtext">##itab_db_select</span></code>.
</dd>

<p>The data in the internal table must not be passed to the database (or the statement can be executed on the AS ABAP) in precisely those cases where the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement meets the same
<a href="../abenbuffer_restrictions" class="blue">conditions</a> as when the
<a href="../abentable_buffer_glosry" class="grey" title="Glossary Entry">table buffer</a> is accessed in <a href="../abensap_buffering_glosry" class="grey" title="Glossary Entry">table buffering</a>.</p>
<p>The following conditions apply:</p>
<ul>

<li>
Only one internal table can be specified in an ABAP SQL statement.
</li>
<li>
An alias name must be assigned to the internal table using <a href="../abapfrom_clause" class="blue"><code style="display: inline;"><span class="qtext">AS</span></code></a>.
</li>
<li>
The row type of the internal table can be elementary or structured.
<br></li>

</ul>

<ul class="circlem2">

<li>An elementary row type represents a column that can be addressed in the other
<a href="../abenselect_clauses" class="blue">clauses</a> of the query using the name <code style="display: inline;"><span class="qtext">table_line</span></code>
or an alias name defined with <a href="../abapselect_list" class="blue"><code style="display: inline;"><span class="qtext">AS</span></code></a> in the <a href="../abapselect_list" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code> list</a>.</li>

</ul>

<ul class="circlem2">

<li>A structured row type cannot contain any substructures.</li>

</ul>

<ul>

<li>
No deep row types are allowed. An elementary row type cannot be a string or a reference type and a structured
row type cannot contain any strings, reference types, or internal tables as components, with the following
exception: An elementary row type or a component can have the type <a href="../abenbuiltin_types_character" class="blue"><code style="display: inline;"><span class="qtext">string</span></code></a> if this is declared using a reference to the built-in dictionary type
<a href="../abenddic_builtin_types" class="blue">SSTRING</a>.
</li>
<li>
If the addition <a href="../abaporderby_clause" class="blue"><code style="display: inline;"><span class="qtext">ORDER BY PRIMARY KEY</span></code></a> is used, the internal table must have a
<a href="../abenprimary_table_key_glosry" class="grey" title="Glossary Entry">primary table key</a>.
</li>
<li>
The key fields of a <a href="../abenprimary_table_key_glosry" class="grey" title="Glossary Entry">primary
table key</a> in the internal table must be contiguous columns that appear in the same order at the start of the row type.
</li>
<li>
If the <a href="../abapfrom_clause" class="blue"><code style="display: inline;"><span class="qtext">FROM</span></code></a> clause is specified
statically, the internal table cannot be a generically typed formal parameter or a generically typed
field symbol. Objects like this can only be specified in a dynamic <code style="display: inline;"><span class="qtext">FROM</span></code> clause and must represent a matching internal table at runtime.
</li>
<li>
The internal table cannot contain any columns declared with reference to the obsolete dictionary types
<a href="../abenddic_builtin_types" class="blue">DF16_SCL</a> and <a href="../abenddic_builtin_types" class="blue">DF34_SCL</a>.
</li>
<li>
When an internal table with elementary row type is accessed in a
<a href="../abencommon_table_expression_glosry" class="grey" title="Glossary Entry">common table expression</a>
after <a href="../abapwith" class="blue"><code style="display: inline;"><span class="qtext">WITH</span></code></a>, the <a href="../abapselect_list" class="blue">
<code style="display: inline;"><span class="qtext">SELECT</span></code> list</a> cannot be <code style="display: inline;"><span class="qtext">*</span></code> or contain <code style="display: inline;"><span class="qtext">data_source~*</span></code>.
</li>
<li>
The internal table should have an explicitly defined primary key (which can be empty). Generic primary keys and
<a href="../abenstandard_key_glosry" class="grey" title="Glossary Entry">standard keys</a> are not evaluated when read and a syntax check warning occurs.
<br></li>

</ul>

<p>The data in the internal table is handled like data on the database even if it is not transported to the database:</p>
<ul>

<li>
Data with the type <a href="../abenbuiltin_types_character" class="blue"><code style="display: inline;"><span class="qtext">string</span></code></a> declared using a reference to the built-in dictionary type
<a href="../abenddic_builtin_types" class="blue">SSTRING</a> is handled like text fields with fixed lengths in which trailing blanks are ignored.
</li>
<li>
<a href="../abapsql_expr" class="blue">SQL expressions</a> are evaluated in the same way as on the database, for example:
<br></li>

</ul>

<ul class="circlem2">

<li>Evaluations of the functions <a href="../abensql_arith_func" class="blue"><code style="display: inline;"><span class="qtext">DIV</span></code></a>
and <a href="../abensql_arith_func" class="blue"><code style="display: inline;"><span class="qtext">MOD</span></code></a> are not the same as calculations with the identically named
<a href="../abenarith_operators" class="blue">ABAP operators</a>.</li>

</ul>

<ul class="circlem2">

<li>Any <a href="../abennull_value_glosry" class="grey" title="Glossary Entry">null values</a> produced
as results of nested expressions (for example in the <a href="../abensql_coalesce" class="blue"><code style="display: inline;"><span class="qtext">COALESCE</span></code></a> function or in
<a href="../abenosql_expr_logexp" class="blue">comparisons</a>) are handled as null values.</li>

</ul>

<ul class="circlem2">

<li>The result of a <a href="../abenwhere_logexp" class="blue">relational expression</a> with operands that contain
<a href="../abennull_value_glosry" class="grey" title="Glossary Entry">null
values</a> is unknown, except in the case of the expression <a href="../abenwhere_logexp_null" class="blue"><code style="display: inline;"><span class="qtext">IS <i class="bn">[</i>NOT<i class="bn">]</i> NULL</span></code></a>.</li>

</ul>

<p>The internal table <code style="display: inline;"><span class="qtext">itab</span></code> is always regarded as a cross-client table. The data type of the first column is never regarded as a client column, regardless of its data type.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The data in internal tables should only be transported to the database system if it is actually needed
there. In this case, the pragma <code style="display: inline;"><span class="qtext">##itab_db_select</span></code> is used to hide the corresponding syntax check warning.
</li>

<li>
The use of an internal table as a data source of <code style="display: inline;"><span class="qtext">SELECT</span></code> is mainly applicable
to joins with data sources from the database. In this case, the data of the internal table is transported to the database.
</li>

<li>
An internal table as a data source of <code style="display: inline;"><span class="qtext">SELECT</span></code> is also, however, a potential
alternative to the statements <a href="../abapread_table" class="blue"><code style="display: inline;"><span class="qtext">READ TABLE</span></code></a>
and <a href="../abaploop_at_itab" class="blue"><code style="display: inline;"><span class="qtext">LOOP AT</span></code></a> and hence makes ABAP SQL syntax possible that cannot otherwise be used.
<br></li>

<p></ul>
<ul class="circlem2"></p>
<li>If this solution is used, it should be ensured that the data is evaluated on the AS ABAP and that
no data is transported to the database system to be evaluated. A corresponding syntax check warning is displayed as a reminder.</li>

<p></ul>
<ul class="circlem2"></p>
<li>The use of <code style="display: inline;"><span class="qtext">SELECT</span></code> to access an internal table is usually slower than the statements for internal tables and should only be used in cases not covered by these statements.</li>

<p></ul>
<ul></p>
<li>
The fact that, when accessed on the AS ABAP without data transport, the data in the internal table is
handled like a table in the table buffer does not mean that the data is actually stored here. The appropriate restrictions do, however, apply to the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement.
</li>

<li>
In an ABAP program, it is possible to use the method USE_FEATURES of the class
<a href="../abencl_abap_dbfeatures" class="blue">CL_ABAP_DBFEATURES</a> to check whether the current database system or a database system accessed using a
<a href="../abensecondary_db_connection_glosry" class="grey" title="Glossary Entry">secondary connection</a>
supports access to internal tables. This requires the constant ITABS_IN_FROM_CLAUSE of this class to be passed to the method in an internal table.
</li>

<li>
The pragma <code style="display: inline;"><span class="qtext">##db_feature_mode[itabs_in_from_clause]</span></code> can be used to hide a syntax warning from the
<a href="../abenextended_program_check_glosry" class="grey" title="Glossary Entry">extended program
check</a> indicating that data in the internal table is being passed to an invalid database. If this
is done at runtime, a handleable exception of the class <span class="lnkgrey">CX_SY_SQL_UNSUPPORTED_FEATURE</span> is raised.
</li>

<li>
In internal tables with elementary row types, the name of the
<a href="../abenpseudo_component_glosry" class="grey" title="Glossary Entry">pseudo component</a> <span class="qtext">
table_line</span> cannot be the name of a structure in ABAP. An inline declaration using <a href="../abapselect_into_target" class="blue">
<code style="display: inline;"><span class="qtext">@DATA(...)</span></code></a> can only be made in the <a href="../abapinto_clause" class="blue"><span class="qtext">
INTO</span></a> clause if the column <code style="display: inline;"><span class="qtext">table_line</span></code> of the results set is assigned an alias name using <a href="../abapselect_list" class="blue"><code style="display: inline;"><span class="qtext">AS</span></code></a>.
</li>

<li>
If an internal table is used as a data source, the syntax check is performed in <a href="../abenopensql_strict_mode_752" class="blue">strict mode from Release 7.52</a>.
<br></li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Uses an internal table as the data source of an inner join of a <a href="../abapselect" class="blue"><span class="qtext">
SELECT</span></a> statement. The data is transported to the database for the join and the statement can only be executed in database systems where joins are supported.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span> <span class="nv">itab</span> <span class="k">TYPE HASHED TABLE OF</span> <span class="nv">scarr</span> 
          <span class="k">WITH UNIQUE KEY</span> <span class="nv">mandt</span> <span class="nv">carrid</span><span class="p">.</span> 

<span class="k">IF</span> <span class="ow">NOT</span> <span class="nv">cl_abap_dbfeatures</span><span class="o">=&gt;</span><span class="nf">use_features</span><span class="p">(</span> 
         <span class="k">EXPORTING</span> 
           <span class="nv">requested_features</span> <span class="o">=</span> 
            <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="p">(</span> <span class="nv">cl_abap_dbfeatures</span><span class="o">=&gt;</span><span class="nv">itabs_in_from_clause</span> <span class="p">)</span> <span class="p">)</span> <span class="p">).</span> 
  <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> 
    <span class="s1">`System does not support internal tables as data source`</span> <span class="p">).</span> 
  <span class="k">RETURN</span><span class="p">.</span> 
<span class="k">ENDIF</span><span class="p">.</span> 

<span class="nv">itab</span> <span class="o">=</span>  <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="p">(</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="s1">&#39;LH&#39;</span> <span class="nv">carrname</span> <span class="o">=</span> <span class="s1">&#39;L.H.&#39;</span> <span class="p">)</span> 
                 <span class="p">(</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="s1">&#39;UA&#39;</span> <span class="nv">carrname</span> <span class="o">=</span> <span class="s1">&#39;U.A.&#39;</span> <span class="p">)</span> <span class="p">).</span> 

<span class="k">SELECT</span> <span class="nv">scarr~carrid</span><span class="p">,</span> <span class="nv">scarr~carrname</span><span class="p">,</span> <span class="nv">spfli~connid</span> 
       <span class="k">FROM</span> <span class="err">@</span><span class="nv">itab</span> <span class="k">AS</span> <span class="nv">scarr</span> 
         <span class="nv">INNER</span> <span class="k">JOIN</span> <span class="nv">spfli</span> <span class="k">ON</span> <span class="nv">scarr~carrid</span> <span class="o">=</span> <span class="nv">spfli~carrid</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">result</span><span class="p">)</span> 
       <span class="cs">##db_feature_mode</span><span class="p">[</span><span class="nv">itabs_in_from_clause</span><span class="p">]</span> <span class="cs">##itab_db_select</span><span class="p">.</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="nv">result</span> <span class="p">).</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Uses a table of random numbers as a data source of a <a href="../abapselect" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code></a>
statement. The data is transported to the database for sorting and the statement can only be executed in database systems where sorting is supported.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">TYPES</span><span class="p">:</span> 
  <span class="k">BEGIN OF</span> <span class="nv">line</span><span class="p">,</span> 
    <span class="k">id</span>     <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">1</span><span class="p">,</span> 
    <span class="k">number</span> <span class="k">TYPE </span><span class="nv">i</span><span class="p">,</span> 
  <span class="k">END OF</span> <span class="nv">line</span><span class="p">.</span> 

<span class="k">DATA</span> <span class="nv">itab</span> <span class="k">TYPE HASHED TABLE OF</span> <span class="nv">line</span> 
          <span class="k">WITH UNIQUE KEY</span> <span class="k">id</span><span class="p">.</span> 

<span class="k">IF</span> <span class="ow">NOT</span> <span class="nv">cl_abap_dbfeatures</span><span class="o">=&gt;</span><span class="nf">use_features</span><span class="p">(</span> 
         <span class="k">EXPORTING</span> 
           <span class="nv">requested_features</span> <span class="o">=</span> 
             <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="p">(</span> <span class="nv">cl_abap_dbfeatures</span><span class="o">=&gt;</span><span class="nv">itabs_in_from_clause</span> <span class="p">)</span> <span class="p">)</span> <span class="p">).</span> 
  <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> 
    <span class="s1">`System does not support internal tables as data source`</span> <span class="p">).</span> 
  <span class="k">RETURN</span><span class="p">.</span> 
<span class="k">ENDIF</span><span class="p">.</span> 

<span class="k">DATA</span><span class="p">(</span><span class="nv">rnd</span><span class="p">)</span> <span class="o">=</span> <span class="nv">cl_abap_random_int</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> 
  <span class="nv">seed</span> <span class="o">=</span> <span class="nv">CONV</span> <span class="nv">i</span><span class="p">(</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">uzeit</span> <span class="p">)</span> <span class="nv">min</span> <span class="o">=</span> <span class="mi">1</span> <span class="nv">max</span> <span class="o">=</span> <span class="mi">100</span> <span class="p">).</span> 
<span class="nv">itab</span> <span class="o">=</span>  <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> 
  <span class="k">FOR</span> <span class="nv">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="nv">UNTIL</span> <span class="nv">i</span> <span class="o">&gt;</span> <span class="mi">25</span> 
  <span class="p">(</span> <span class="k">id</span> <span class="o">=</span> <span class="nv">substring</span><span class="p">(</span> <span class="nv">val</span> <span class="o">=</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">abcde</span> <span class="k">off</span> <span class="o">=</span> <span class="nv">i</span> <span class="nv">len</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span> 
    <span class="k">number</span> <span class="o">=</span> <span class="nv">rnd</span><span class="o">-&gt;</span><span class="nf">get_next</span><span class="p">(</span> <span class="p">)</span> <span class="p">)</span> <span class="p">).</span> 

<span class="k">SELECT</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="err">@</span><span class="nv">itab</span> <span class="k">AS</span> <span class="nv">numbers</span> 
       <span class="k">WHERE</span> <span class="k">number</span> <span class="o">&gt;</span> <span class="mi">50</span> 
       <span class="k">ORDER BY</span> <span class="k">id</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">result</span><span class="p">)</span> 
       <span class="cs">##db_feature_mode</span><span class="p">[</span><span class="nv">itabs_in_from_clause</span><span class="p">]</span> <span class="cs">##itab_db_select</span><span class="p">.</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="nv">result</span> <span class="p">).</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Uses a table with an elementary data type as the data source of two <a href="../abapselect" class="blue"><span class="qtext">
SELECT</span></a> statements. The data is not needed on the database and the <code style="display: inline;"><span class="qtext">SELECT</span></code> statements meet the requirements for
<a href="../abensap_puffering" class="blue">table buffering</a>. This means that the statements can
be executed on all database systems. In the second <code style="display: inline;"><span class="qtext">SELECT</span></code> statement, a syntax
error would occur without the alias name <code style="display: inline;"><span class="qtext">number</span></code>, since the inline declaration
after <code style="display: inline;"><span class="qtext">INTO</span></code> cannot create an internal table with the column name <code style="display: inline;"><span class="qtext">table_line</span></code>.
If the statements were modified in a such a way that they no longer met the requirements for table buffering
(for example by adding the addition <code style="display: inline;"><span class="qtext">DISTINCT</span></code>), it would not be possible to execute them on all database systems.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span> <span class="nv">itab</span> <span class="k">TYPE SORTED TABLE OF</span> <span class="nv">i</span> <span class="k">WITH UNIQUE KEY</span> <span class="nv">table_line</span><span class="p">.</span> 
<span class="nv">itab</span> <span class="o">=</span>  <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="p">(</span> <span class="mi">1</span> <span class="p">)</span> 
                 <span class="p">(</span> <span class="mi">2</span> <span class="p">)</span> 
                 <span class="p">(</span> <span class="mi">3</span> <span class="p">)</span> <span class="p">).</span> 

<span class="k">DATA</span> <span class="nv">result1</span> <span class="k">LIKE </span><span class="nv">itab</span><span class="p">.</span> 
<span class="k">SELECT</span> <span class="nv">table_line</span> 
       <span class="k">FROM</span> <span class="err">@</span><span class="nv">itab</span> <span class="k">AS</span> <span class="nv">numbers</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">result1</span><span class="p">.</span> 
<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="nv">result1</span> <span class="p">).</span> 

<span class="k">SELECT</span> <span class="nv">table_line</span> <span class="k">AS</span> <span class="k">number</span> 
       <span class="k">FROM</span> <span class="err">@</span><span class="nv">itab</span> <span class="k">AS</span> <span class="nv">numbers</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">result2</span><span class="p">).</span> 
<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="nv">result2</span> <span class="p">).</span>
</code></pre></div>
</div></p>
<h3 id="executable-examples">Executable Examples</h3>
<ul>

<li>
<a href="../abenselect_from_itab_abexa" class="blue">Internal Table as a Data Source of a <code style="display: inline;"><span class="qtext">SELECT</span></code> Statement</a>
</li>

<li>
<a href="../abenselect_from_itab_hiera_abexa" class="blue">Internal Table as a Data Source of the Hierarchy Generator</a>
<br></li>

</ul>

<h3 id="continue">Continue</h3>
<p><a href="../abenselect_from_itab_abexa" class="blue">Internal Table as a Data Source of a SELECT Statement</a></p>
<p><a href="../abenselect_from_itab_hiera_abexa" class="blue">Internal Table as a Data Source of the Hierarchy Generator</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abapselect_into_target/" title="SELECT - INTO target" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                SELECT - INTO target
              </div>
            </div>
          </a>
        
        
          <a href="../abapselect_join/" title="SELECT - FROM JOIN" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                SELECT - FROM JOIN
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>