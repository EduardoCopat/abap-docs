


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Dynpros, Dynpro Sequences - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dynpros-dynpro-sequences" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Dynpros, Dynpro Sequences
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#source-code" class="md-nav__link">
    Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abendynpro_flow_abexa.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="dynpros-dynpro-sequences">Dynpros, Dynpro Sequences</h1>
<p>This example demonstrates how dynpro sequences behave.</p>
<p><a name="@@ITOC@@ABENDYNPRO_FLOW_ABEXA_1"></a>
<a href="../abendynpro_flow_abexa">7.31</a> <a href="../abendynpro_flow_abexa">7.40</a> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_screens" class="blue">SAP GUI User Dialogs</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_dynpros" class="blue">General Dynpros</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_dynpros_processing" class="blue">Dynpro Flow and Dynpro Sequences</a>&#xA0;</small></p>
<h2 id="source-code">Source Code</h2>
<p><div class="highlight"><pre><span></span><code><span class="k">PROGRAM</span> <span class="nv">sapmdemo_screen_flow</span> <span class="k">MESSAGE-ID</span> <span class="nv">demo_flight</span><span class="p">.</span>

<span class="k">TABLES</span><span class="p">:</span> <span class="nv">spfli</span><span class="p">,</span>
        <span class="nv">sairport</span><span class="p">,</span>
        <span class="nv">scarr</span><span class="p">.</span>

<span class="k">DATA</span><span class="p">:</span> <span class="nv">ok_code</span>   <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">4</span><span class="p">,</span>
      <span class="nv">rcode</span>     <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">5</span><span class="p">,</span>
      <span class="nv">old_spfli</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="p">.</span>

<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;* PBO&lt;/span&gt;</span>

<span class="k">MODULE</span> <span class="nf">status_0100</span> <span class="k">OUTPUT</span><span class="p">.</span>
  <span class="k">SET PF-STATUS</span> <span class="s1">&#39;TD0100&#39;</span><span class="p">.</span>
  <span class="k">SET TITLEBAR</span> <span class="s1">&#39;100&#39;</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="k">MODULE</span> <span class="nf">status_0200</span> <span class="k">OUTPUT</span><span class="p">.</span>
  <span class="k">SET PF-STATUS</span> <span class="s1">&#39;TD0200&#39;</span><span class="p">.</span>
  <span class="k">SET TITLEBAR</span> <span class="s1">&#39;100&#39;</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="k">MODULE</span> <span class="nf">status_0210</span> <span class="k">OUTPUT</span><span class="p">.</span>
  <span class="k">SET PF-STATUS</span> <span class="s1">&#39;POPUP&#39;</span><span class="p">.</span>
  <span class="k">SET TITLEBAR</span> <span class="s1">&#39;POP&#39;</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;* PAI&lt;/span&gt;</span>

<span class="k">MODULE</span> <span class="nf">user_command_0100</span> <span class="k">INPUT</span><span class="p">.</span>
  <span class="k">CASE</span> <span class="nv">ok_code</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="nv">space</span><span class="p">.</span>
      <span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="o">*</span>
             <span class="k">FROM</span>  <span class="nv">spfli</span>
             <span class="k">WHERE</span> <span class="nv">carrid</span>      <span class="o">=</span> <span class="err">@</span><span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span>
             <span class="ow">AND</span>   <span class="nv">connid</span>      <span class="o">=</span> <span class="err">@</span><span class="nv">spfli</span><span class="o">-</span><span class="nv">connid</span>
             <span class="k">INTO</span>  <span class="err">@</span><span class="nv">spfli</span><span class="p">.</span>
      <span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="ow">NE</span> <span class="mi">0</span><span class="p">.</span>
        <span class="k">MESSAGE</span> <span class="nv">e005</span> <span class="k">WITH</span> <span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span> <span class="nv">spfli</span><span class="o">-</span><span class="nv">connid</span><span class="p">.</span>
      <span class="k">ENDIF</span><span class="p">.</span>
      <span class="nv">old_spfli</span> <span class="o">=</span> <span class="nv">spfli</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;CANC&#39;</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
      <span class="k">SET SCREEN</span> <span class="mi">0</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;EXIT&#39;</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
      <span class="k">SET SCREEN</span> <span class="mi">0</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;BACK&#39;</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
      <span class="k">SET SCREEN</span> <span class="mi">0</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span>
  <span class="k">ENDCASE</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="k">MODULE</span> <span class="nf">user_command_0200</span> <span class="k">INPUT</span><span class="p">.</span>
  <span class="k">CASE</span> <span class="nv">ok_code</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;SAVE&#39;</span><span class="p">.</span>
      <span class="k">UPDATE</span> <span class="nv">spfli</span><span class="p">.</span>
      <span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span>
        <span class="k">MESSAGE</span> <span class="nv">s001</span> <span class="k">WITH</span> <span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span> <span class="nv">spfli</span><span class="o">-</span><span class="nv">connid</span><span class="p">.</span>
      <span class="k">ELSE</span><span class="p">.</span>
        <span class="k">MESSAGE</span> <span class="nv">a002</span> <span class="k">WITH</span> <span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span> <span class="nv">spfli</span><span class="o">-</span><span class="nv">connid</span><span class="p">.</span>
      <span class="k">ENDIF</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;EXIT&#39;</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
      <span class="k">PERFORM</span> <span class="nf">safety_check</span> <span class="k">USING</span> <span class="nv">rcode</span><span class="p">.</span>
      <span class="k">IF</span> <span class="nv">rcode</span> <span class="o">=</span> <span class="s1">&#39;EXIT&#39;</span><span class="p">.</span> <span class="k">SET SCREEN</span> <span class="mi">0</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span> <span class="k">ENDIF</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;BACK&#39;</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
      <span class="k">PERFORM</span> <span class="nf">safety_check</span> <span class="k">USING</span> <span class="nv">rcode</span><span class="p">.</span>
      <span class="k">IF</span> <span class="nv">rcode</span> <span class="o">=</span> <span class="s1">&#39;EXIT&#39;</span><span class="p">.</span> <span class="k">SET SCREEN</span> <span class="mi">100</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span> <span class="k">ENDIF</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;DELE&#39;</span><span class="p">.</span>
      <span class="k">MESSAGE</span> <span class="nv">w011</span><span class="p">.</span>
      <span class="k">DELETE</span> <span class="k">FROM</span> <span class="nv">spfli</span>
        <span class="k">WHERE</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="err">@</span><span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span>
        <span class="ow">AND</span> <span class="nv">connid</span> <span class="o">=</span> <span class="err">@</span><span class="nv">spfli</span><span class="o">-</span><span class="nv">connid</span><span class="p">.</span>
  <span class="k">ENDCASE</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="k">MODULE</span> <span class="nf">check_fr_airport</span> <span class="k">INPUT</span><span class="p">.</span>
  <span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="o">*</span>
         <span class="k">FROM</span>  <span class="nv">sairport</span>
         <span class="k">WHERE</span> <span class="k">id</span> <span class="o">=</span> <span class="err">@</span><span class="nv">spfli</span><span class="o">-</span><span class="nv">airpfrom</span>
         <span class="k">INTO</span>  <span class="err">@</span><span class="nv">sairport</span><span class="p">.</span>
  <span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">.</span>
    <span class="k">MESSAGE</span> <span class="nv">e003</span> <span class="k">WITH</span> <span class="nv">spfli</span><span class="o">-</span><span class="nv">airpfrom</span><span class="p">.</span>
  <span class="k">ENDIF</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="k">MODULE</span> <span class="nf">check_to_airport</span> <span class="k">INPUT</span><span class="p">.</span>
  <span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="o">*</span>
         <span class="k">FROM</span>  <span class="nv">sairport</span>
         <span class="k">WHERE</span> <span class="k">id</span> <span class="o">=</span> <span class="err">@</span><span class="nv">spfli</span><span class="o">-</span><span class="nv">airpto</span>
         <span class="k">INTO</span>  <span class="err">@</span><span class="nv">sairport</span><span class="p">.</span>
  <span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">.</span>
    <span class="k">MESSAGE</span> <span class="nv">e004</span> <span class="k">WITH</span> <span class="nv">spfli</span><span class="o">-</span><span class="nv">airpto</span><span class="p">.</span>
  <span class="k">ENDIF</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="k">MODULE</span> <span class="nf">exit_0100</span> <span class="k">INPUT</span><span class="p">.</span>
  <span class="k">CASE</span> <span class="nv">ok_code</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;CANC&#39;</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
      <span class="k">SET SCREEN</span> <span class="mi">0</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;EXIT&#39;</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
      <span class="k">SET SCREEN</span> <span class="mi">0</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;BACK&#39;</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
      <span class="k">SET SCREEN</span> <span class="mi">0</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span>
  <span class="k">ENDCASE</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="k">MODULE</span> <span class="nf">exit_0200</span> <span class="k">INPUT</span><span class="p">.</span>
  <span class="k">CASE</span> <span class="nv">ok_code</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;CANC&#39;</span><span class="p">.</span>
      <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
      <span class="k">SET SCREEN</span> <span class="mi">100</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span>
  <span class="k">ENDCASE</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="k">MODULE</span> <span class="nf">user_command_0210</span> <span class="k">INPUT</span><span class="p">.</span>
  <span class="k">CASE</span> <span class="nv">ok_code</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;SAVE&#39;</span><span class="p">.</span> <span class="k">SET SCREEN</span> <span class="mi">0</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;EXIT&#39;</span><span class="p">.</span> <span class="k">SET SCREEN</span> <span class="mi">0</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;CANC&#39;</span><span class="p">.</span> <span class="k">SET SCREEN</span> <span class="mi">0</span><span class="p">.</span> <span class="k">LEAVE</span> <span class="nv">SCREEN</span><span class="p">.</span>
  <span class="k">ENDCASE</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="k">MODULE</span> <span class="nf">read_text_0100</span> <span class="k">INPUT</span><span class="p">.</span>
  <span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="o">*</span>
         <span class="k">FROM</span> <span class="nv">scarr</span>
         <span class="k">WHERE</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="err">@</span><span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span>
         <span class="k">INTO</span> <span class="err">@</span><span class="nv">scarr</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>

<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;* Subroutine&lt;/span&gt;</span>

<span class="k">FORM</span> <span class="nf">safety_check</span> <span class="k">USING</span> <span class="nv">rcode</span><span class="p">.</span>
  <span class="k">LOCAL</span> <span class="nv">ok_code</span><span class="p">.</span>
  <span class="nv">rcode</span> <span class="o">=</span> <span class="s1">&#39;EXIT&#39;</span><span class="p">.</span>
  <span class="k">CHECK</span> <span class="nv">spfli</span> <span class="ow">NE</span> <span class="nv">old_spfli</span><span class="p">.</span>
  <span class="k">CLEAR</span> <span class="nv">ok_code</span><span class="p">.</span>
  <span class="k">CALL SCREEN</span> <span class="mi">210</span> <span class="nv">STARTING</span> <span class="k">AT</span> <span class="mi">10</span> <span class="mi">5</span><span class="p">.</span>
  <span class="k">CASE</span> <span class="nv">ok_code</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;SAVE&#39;</span><span class="p">.</span> <span class="k">UPDATE</span> <span class="nv">spfli</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;EXIT&#39;</span><span class="p">.</span>
    <span class="k">WHEN</span> <span class="s1">&#39;CANC&#39;</span><span class="p">.</span> <span class="k">CLEAR</span> <span class="nv">spfli</span><span class="p">.</span>
  <span class="k">ENDCASE</span><span class="p">.</span>
<span class="k">ENDFORM</span><span class="p">.</span>
</code></pre></div>
<a name="@@ITOC@@ABENDYNPRO_FLOW_ABEXA_2"></a></p>
<h2 id="description">Description</h2>
<p>The transaction DEMO_SCREEN_FLOW uses three dynpros. The dynpros 100 and 200 form a sequence. Dynpro 210 is a modal dialog box and is only called under special circumstances.</p>
<ul>

<li>Dynpro 100: The user enters flight data, chooses <span class="italic">Continue</span> to request a detailed display of this data, or ends the transaction.</li>

</ul>

<ul>

<li>Dynpro 200: The system displays complete details about the flight, in input fields. The user types over the display to enter the changes.</li>

</ul>

<ul>

<li>Dynpro 210: The modal dialog box appears only if the user attempts to quit dynpro 200 by choosing Back or Exit without saving the values modified. It enables the user to save changes or cancel the operation.</li>

</ul>

<p>This transaction is a good example of how a dynpro sequence is implemented. A closer look at dynpro
200 shows how the modal dialog box is called. When processing the BACK or EXIT function codes, the PAI
module must check if the flight data has been changed since it was last displayed or saved. If this
is the case, dynpro 210 is called as a modal dialog box. The following parts of the flow logic of dynpro 200 are as follows:</p>
<dd>
<code style="display: inline;"><span class="qtext">PROCESS AFTER INPUT. <br>&#xA0;&#xA0;MODULE exit_0200 AT EXIT-COMMAND. <br>&#xA0;&#xA0;... <br>&#xA0;&#xA0;MODULE user_command_0200.</span></code>
</dd>

<p>The system calls two dialog modules at the PAI event. The user interface of transaction DEMO_SCREEN_FLOW
offers the functions <span class="italic">Back</span>, <span class="italic">Exit</span>, and <span class="italic">Cancel</span>
as return commands. On the screen of dynpro 200, the user should only be able to leave the screen directly
to dynpro 100 using <span class="italic">Cancel</span>. The function code is processed in the module
<code style="display: inline;"><span class="qtext">exit_200</span></code>. The next dynpro is set dynamically to 100, and dynpro 200 is terminated
immediately using <code style="display: inline;"><span class="qtext">LEAVE SCREEN</span></code>. All other function codes for screen 200 are processed in module <code style="display: inline;"><span class="qtext">user_command_200</span></code>:</p>
<ul>

<li>The <span class="italic">Save</span> function triggers a database update.</li>

</ul>

<ul>

<li>The <span class="italic">Exit</span> and <span class="italic">Back</span> functions call the subroutine
<code style="display: inline;"><span class="qtext">safety_check</span></code>. This subroutine checks to see whether there is unsaved data on the screen, and, if required, calls dynpro 210.</li>

</ul>

<p>If the <span class="italic">Exit</span> function is chosen (function code EXIT), the user leaves the transaction completely since the dynpro sequence is ended dynamically using <span class="qtext">SET SCREEN
0</span>. If the user chooses <span class="italic">Back</span> (function code BACK), the next dynpro is changed dynamically to 100 using <code style="display: inline;"><span class="qtext">SET SCREEN 100</span></code>.</p>
<p>The subroutine <code style="display: inline;"><span class="qtext">safety_check</span></code> first compares the current values of the dynpro
fields with the values saved. If the values match, no save is needed, and the routine terminates. If
the values differ, <code style="display: inline;"><span class="qtext">safety_check</span></code> calls the modal dialog box of dynpro 210.
This asks the user if he or she wants to save, and returns the answer to the field <code style="display: inline;"><span class="qtext">ok_code</span></code>.
The static next dynpro for dynpro 210 is 210. However, the processing logic (module <code style="display: inline;"><span class="qtext">user_command_210</span></code>) always sets the next dynpro dynamically to 0, which returns control to the subroutine.</p>
<p>The following figure summarizes the flow of the dynpro sequences in the example:</p>
<p><img src="abdoc_dynpro_seq.gif" width="00604" height="00378" alt="Figure"></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abendynpro_field_glosry/" title="dynpro field" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                dynpro field
              </div>
            </div>
          </a>
        
        
          <a href="../abendynpro_flow_logic_glosry/" title="dynpro flow logic" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                dynpro flow logic
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>