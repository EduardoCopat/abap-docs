


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>SELECT - SINGLE - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#select-single" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              SELECT - SINGLE
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#addition" class="md-nav__link">
    Addition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition_1" class="md-nav__link">
    Addition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abapselect_single.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="select-single">SELECT - SINGLE</h1>
<p><a href="../abapselect_shortref" class="blue">Quick Reference</a>  </p>
<p><s><i>7.31</i></s> <s><i>7.40</i></s> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopensql" class="blue">ABAP SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopen_sql_reading" class="blue">ABAP SQL - Reads</a>&#xA0;&#x2192;&#xA0;
<a href="../abenselect_clauses" class="blue">SELECT clauses</a>&#xA0;</small></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">... SINGLE <i class="bn">[</i>FOR UPDATE<i class="bn">]</i> ...</span> 
</code></pre></p>
<h3 id="addition">Addition</h3>
<p><a href="#!ABAP_ONE_ADD@1@" class="blue"> <code style="display: inline;"><span class="qtext">... FOR UPDATE</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>The ABAP-specific addition <code style="display: inline;"><span class="qtext">SINGLE</span></code> makes the results set of a
<a href="../abenquery_glosry" class="grey" title="Glossary Entry">query</a>
a single row set. The addition is possible with a standalone <a href="../abapselect" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code></a> statement or with the
<a href="../abenmainquery_glosry" class="grey" title="Glossary Entry">main query</a> of a standalone
<a href="../abapwith" class="blue"><code style="display: inline;"><span class="qtext">WITH</span></code></a> statement. If <code style="display: inline;"><span class="qtext">SINGLE</span></code>
is specified, these statements does not open a loop closed using <a href="../abapendselect" class="blue"><span class="qtext">
ENDSELECT</span></a> or <a href="../abapendwith" class="blue"><code style="display: inline;"><span class="qtext">ENDWITH</span></code></a> during imports to a non-table-like
<a href="../abapinto_clause" class="blue">target area</a>, and no internal tables can be specified as a <a href="../abapinto_clause" class="blue">target area</a>.</p>
<ul>

<li>
If the selection of the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement covers precisely one row, this row is included in the results set.
</li>
<li>
If the selection of the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement covers more than one row, one of these rows is included in the results set at random.
<br></li>

</ul>

<p>The following restrictions apply:</p>
<ul>

<li>
The additions <a href="../abenwhere_logexp_itab" class="blue"><code style="display: inline;"><span class="qtext">FOR ALL ENTRIES</span></code></a>,
<a href="../abaporderby_clause" class="blue"><code style="display: inline;"><span class="qtext">ORDER BY</span></code></a>, and <a href="../abapselect_up_to_offset" class="blue">
<code style="display: inline;"><span class="qtext">UP TO</span></code>, <code style="display: inline;"><span class="qtext">OFFSET</span></code></a> cannot be used together with <code style="display: inline;"><span class="qtext">SINGLE</span></code>.
</li>
<li>
The addition <code style="display: inline;"><span class="qtext">SINGLE</span></code> cannot be used in the
<a href="../abenmainquery_glosry" class="grey" title="Glossary Entry">main query</a> of statement <a href="../abapopen_cursor" class="blue"><code style="display: inline;"><span class="qtext">OPEN CURSOR</span></code></a> or in
<a href="../abensubquery_glosry" class="grey" title="Glossary Entry">subqueries</a>.
<br></li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The addition <code style="display: inline;"><span class="qtext">SINGLE</span></code> is designed to pass precisely one row to a
<a href="../abenflat_structure_glosry" class="grey" title="Glossary Entry">flat structure</a> as a
work area without opening a loop closed using <a href="../abapendselect" class="blue"><span class="qtext">
ENDSELECT</span></a> or <a href="../abapendwith" class="blue"><code style="display: inline;"><span class="qtext">ENDWITH</span></code></a>.
<br></li>

<p></ul>
<ul class="circlem2"></p>
<li>Usually, the row must be identified precisely and it must be specified uniquely in the <a href="../abapwhere" class="blue"><code style="display: inline;"><span class="qtext">WHERE</span></code> condition</a>. In a
<a href="../abapselect_data_source" class="blue">data source</a>, this is usually done by specifying comparison values for the
<a href="../abenprimary_key_glosry" class="grey" title="Glossary Entry">primary key</a>. The
<a href="../abenextended_program_check_glosry" class="grey" title="Glossary Entry">extended program check</a> produces a warning if no precise row is identified.</li>

<p></ul>
<ul class="circlem2"></p>
<li>If no unique row is identified, the addition <code style="display: inline;"><span class="qtext">SINGLE</span></code> can also be used to detect whether a corresponding row exists. In this case, the warning from the extended program check must be hidden using a
<a href="../abenpragma_glosry" class="grey" title="Glossary Entry">pragma</a>. To avoid unnecessary transports of data, a <code style="display: inline;"><span class="qtext">SELECT</span></code> list can also be used that contains nothing but a single constant (see the
<a href="../abensql_expr_literal_abexa" class="blue">executable example</a>).</li>

</ul>

<dd>
In the case of rows specified in full, a <code style="display: inline;"><span class="qtext">SELECT</span></code> statement with the addition <code style="display: inline;"><span class="qtext">SINGLE</span></code> is generally faster than specifying only part of the row.
</dd>

<ul>

<li>
The results set of <code style="display: inline;"><span class="qtext">SELECT</span></code> statements with the addition <code style="display: inline;"><span class="qtext">SINGLE</span></code>
matches the set from the addition <a href="../abapselect_up_to_offset" class="blue"><span class="qtext">UP
TO 1 ROWS</span></a> without using the addition <a href="../abaporderby_clause" class="blue"><code style="display: inline;"><span class="qtext">ORDER BY</span></code></a>.
<br></li>

</ul>

<ul class="circlem2">

<li>If the addition <code style="display: inline;"><span class="qtext">SINGLE</span></code> is used, it is not necessary to use the statements
<a href="../abapendselect" class="blue"><code style="display: inline;"><span class="qtext">ENDSELECT</span></code></a>, <a href="../abapendwith" class="blue">
<code style="display: inline;"><span class="qtext">ENDWITH</span></code></a> or to import the row into an internal table. Not all additions of the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement, however, can be used.</li>

</ul>

<ul class="circlem2">

<li>If the addition <a href="../abapselect_up_to_offset" class="blue"><code style="display: inline;"><span class="qtext">UP TO 1 ROWS</span></code></a>
is used, the statement <a href="../abapendselect" class="blue"><code style="display: inline;"><span class="qtext">ENDSELECT</span></code></a>
or <a href="../abapendwith" class="blue"><code style="display: inline;"><span class="qtext">ENDWITH</span></code></a> must be specified or
the row must be imported into an internal table. The addition <a href="../abaporderby_clause" class="blue"><code style="display: inline;"><span class="qtext">ORDER BY</span></code></a> can, however, be specified.</li>

</ul>

<dd>
A <code style="display: inline;"><span class="qtext">SELECT</span></code> statement with the addition <code style="display: inline;"><span class="qtext">SINGLE</span></code> can
be optimized for reading a single row, which means is generally somewhat faster than when using the
addition <a href="../abapselect_up_to_offset" class="blue"><code style="display: inline;"><span class="qtext">UP TO 1 ROWS</span></code></a>. In practice, however, this difference can usually be ignored. In light of this, the following is recommended:
</dd>

<ul class="circlem2">

<li>Use of the addition <code style="display: inline;"><span class="qtext">SINGLE</span></code> to read a row specified in full precisely.</li>

</ul>

<ul class="circlem2">

<li>Use of the addition <a href="../abapselect_up_to_offset" class="blue"><code style="display: inline;"><span class="qtext">UP TO 1 ROWS</span></code></a> to read a maximum of one row from a set of selected rows.</li>

</ul>

<ul>

<li>
The addition <a href="../abaporderby_clause" class="blue"><code style="display: inline;"><span class="qtext">ORDER BY</span></code></a> cannot
be used together with <code style="display: inline;"><span class="qtext">SINGLE</span></code>, which means that it is not possible to define
which row is read from a non-unique selection. Instead, the addition <a href="../abapselect_up_to_offset" class="blue">
<code style="display: inline;"><span class="qtext">UP TO 1 ROWS</span></code></a> can be specified with the addition <a href="../abaporderby_clause" class="blue">
<code style="display: inline;"><span class="qtext">ORDER BY</span></code></a> to define which row is read from a non-unique selection.
</li>
<li>
If <code style="display: inline;"><span class="qtext">SINGLE</span></code> is specified and
<a href="../abenselect_into_lob_handles" class="blue">LOB handles</a> are created in the <a href="../abapinto_clause" class="blue">
<code style="display: inline;"><span class="qtext">INTO</span></code> clause</a>, all primary key fields joined by <code style="display: inline;"><span class="qtext">AND</span></code>
in logical expressions must be checked for equivalence in the <a href="../abapwhere" class="blue"><span class="qtext">
WHERE</span> condition</a>. If this is not possible, the addition <a href="../abapselect_up_to_offset" class="blue"><code style="display: inline;"><span class="qtext">UP TO 1 ROWS</span></code></a> can be used instead of <code style="display: inline;"><span class="qtext">SINGLE</span></code>.
</li>
<li>
If the addition <code style="display: inline;"><span class="qtext">SINGLE</span></code> is used, after the
<a href="../abenselect_into_lob_handles" class="blue">creation of LOB handles</a>, all
<a href="../abenselect_into_lob_handles" class="blue">reader streams</a> which are created when executing the statement <code style="display: inline;"><span class="qtext">SELECT</span></code>, as well as
<a href="../abenselect_into_lob_handles" class="blue">locators</a>, continue to exist until they are
closed, either explicitly with one of their methods, or implicitly at the end of the current database
LUW. The associated database operation is not completed during this time. It is best to close all LOB handles as soon as possible.
<br></li>

</ul>

<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Reads the row with the information about Lufthansa flight 0400 from the database table <span class="lnkgrey">SPFLI</span>.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="nv">spfli</span> 
       <span class="k">WHERE</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="s1">&#39;LH&#39;</span> <span class="ow">AND</span> 
             <span class="nv">connid</span> <span class="o">=</span> <span class="s1">&#39;0400&#39;</span> 
       <span class="k">INTO</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">wa</span><span class="p">).</span> 
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The program <span class="lnkgrey">DEMO_SELECT_SINGLE_VS_UP_TO</span> compares the performance of <span class="qtext">
SELECT</span> statements with the addition <code style="display: inline;"><span class="qtext">SINGLE</span></code> with similar statements
with the addition <a href="../abapselect_up_to_offset" class="blue"><code style="display: inline;"><span class="qtext">UP TO 1 ROWS</span></code></a>.  </p>
<p><a name="@@FOR UPDATE@@SELECT SINGLE@@"></a>
</div></p>
<h3 id="addition_1">Addition</h3>
<p><code style="display: inline;"><span class="qtext">... FOR UPDATE</span></code> <!-- /A -->  <br></p>
<h3 id="effect_1">Effect</h3>
<p>When reading an individual row using <code style="display: inline;"><span class="qtext">SINGLE</span></code>, the addition <code style="display: inline;"><span class="qtext">FOR UPDATE</span></code> sets a
<a href="../abendatabase_lock_glosry" class="grey" title="Glossary Entry">database lock</a> as an
<a href="../abenexclusive_lock_glosry" class="grey" title="Glossary Entry">exclusive lock</a> for this
row on the database. The statement <code style="display: inline;"><span class="qtext">SELECT</span></code> is then only executed if, in the
<a href="../abapwhere" class="blue"><code style="display: inline;"><span class="qtext">WHERE</span></code> condition</a>, all primary key
fields in logical expression which are joined using <code style="display: inline;"><span class="qtext">AND</span></code> are checked for equivalence. Otherwise the results set is empty and <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is set to 8.</p>
<p>The addition <code style="display: inline;"><span class="qtext">FOR UPDATE</span></code> can be used only to access data sources that allow writes and cannot be specified when accessing views that allow only reads.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
If set incorrectly, the lock can produce a <a href="../abendeadlock_glosry" class="grey" title="Glossary Entry">deadlock</a>.
</li>

<li>
If the addition <code style="display: inline;"><span class="qtext">FOR UPDATE</span></code> is used, a standalone <a href="../abapselect" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code></a> statement bypasses
<a href="../abensap_buffering_glosry" class="grey" title="Glossary Entry">table buffering</a>.
<br></li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>In the following example, the <a href="../abenexclusive_lock_glosry" class="grey" title="Glossary Entry">exclusive
lock</a> set by the statement <a href="../abapdelete_dbtab" class="blue"><code style="display: inline;"><span class="qtext">DELETE</span></code></a> is resolved using a
<a href="../abendb_commit" class="blue">database commit</a>. This means that an exclusive lock is applied
by the statement <code style="display: inline;"><span class="qtext">SELECT</span></code> rather than waiting until the statement <a href="../abapupdate" class="blue"><code style="display: inline;"><span class="qtext">UPDATE</span></code></a> is executed.</p>
<div class="highlight"><pre><span></span><code><span class="k">DELETE</span> <span class="k">FROM</span> <span class="nv">demo_expressions</span><span class="p">.</span> 
<span class="k">INSERT</span> <span class="nv">demo_expressions</span> <span class="k">FROM</span> <span class="err">@</span><span class="p">(</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span> <span class="p">)</span> <span class="p">).</span> 
<span class="k">COMMIT</span> <span class="nv">CONNECTION</span> <span class="k">default</span><span class="p">.</span> 

<span class="p">...</span> 

<span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="k">FOR</span> <span class="k">UPDATE</span> <span class="k">id</span><span class="p">,</span> <span class="nv">num1</span> 
       <span class="k">FROM</span> <span class="nv">demo_expressions</span> 
       <span class="k">WHERE</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span> 
       <span class="k">INTO</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">wa</span><span class="p">).</span> 

<span class="p">...</span> 

<span class="k">UPDATE</span> <span class="nv">demo_expressions</span> <span class="nv">SET</span> <span class="nv">num1</span> <span class="o">=</span> <span class="mi">111</span> <span class="k">WHERE</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">.</span> 
</code></pre></div>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abapselect_shortref/" title="SELECT - Quick reference" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                SELECT  - Quick reference
              </div>
            </div>
          </a>
        
        
          <a href="../abapselect_up_to_offset/" title="SELECT - UP TO, OFFSET" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                SELECT - UP TO, OFFSET
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>