


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>ADF, Creating and Using an ABAP Daemon - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adf-creating-and-using-an-abap-daemon" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              ADF, Creating and Using an ABAP Daemon
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#source-code" class="md-nav__link">
    Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
    <nav class="md-nav" aria-label="Description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#program-demo_abap_daemon" class="md-nav__link">
    Program DEMO_ABAP_DAEMON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-cl_abap_daemon_broker" class="md-nav__link">
    Class CL_ABAP_DAEMON_BROKER
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-cl_abap_daemon" class="md-nav__link">
    Class CL_ABAP_DAEMON
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abenabap_daemon_abexa.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="adf-creating-and-using-an-abap-daemon">ADF, Creating and Using an ABAP Daemon</h1>
<p>This example demonstrates an <a href="../abenabap_daemon_glosry" class="grey" title="Glossary Entry">ABAP Daemon</a>.</p>
<p><a name="@@ITOC@@ABENABAP_DAEMON_ABEXA_1"></a>
<s><i>7.31</i></s> <s><i>7.40</i></s> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_data_communication" class="blue">Data Interfaces and Communication Interfaces</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_daemon" class="blue">ADF - ABAP Daemon Framework</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_daemon_abexas" class="blue">Examples for ABAP Daemons</a>&#xA0;</small></p>
<h2 id="source-code">Source Code</h2>
<p><div class="highlight"><pre><span></span><code>    <span class="k">DELETE</span> <span class="k">FROM DATABASE</span> <span class="nv">demo_indx_blob</span><span class="p">(</span><span class="nv">dm</span><span class="p">)</span>
                <span class="k">ID</span> <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nv">daemon_log</span><span class="p">.</span>
    <span class="k">COMMIT</span> <span class="nv">CONNECTION</span> <span class="k">default</span><span class="p">.</span>

    <span class="nv">get_input</span><span class="p">(</span> <span class="p">).</span>

    <span class="nv">out</span> <span class="o">=</span> <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">new</span><span class="p">(</span> <span class="p">).</span>

    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">next_section</span><span class="p">(</span> <span class="s1">&#39;ABAP Program&#39;</span> <span class="p">).</span>

    <span class="k">TRY</span><span class="p">.</span>

        <span class="k">IF</span> <span class="ow">NOT</span> <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">check_daemon</span><span class="p">(</span> <span class="p">).</span>

          <span class="k">IF</span> <span class="nv">start_daemon</span> <span class="o">=</span> <span class="nv">abap_true</span><span class="p">.</span>
            <span class="k">DATA</span><span class="p">(</span><span class="nv">pcp</span><span class="p">)</span> <span class="o">=</span> <span class="nv">cl_ac_message_type_pcp</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="p">).</span>
            <span class="nv">pcp</span><span class="o">-&gt;</span><span class="nf">set_field</span><span class="p">(</span> <span class="nv">i_name</span> <span class="o">=</span> <span class="s1">`Version`</span>
                            <span class="nv">i_value</span> <span class="o">=</span> <span class="s1">`1`</span> <span class="p">).</span>
            <span class="k">IF</span> <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">start_daemon</span><span class="p">(</span>
                 <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">pcp</span> <span class="p">).</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Daemon start requested`</span> <span class="p">).</span>
            <span class="k">ELSE</span><span class="p">.</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Daemon not accepted`</span> <span class="p">).</span>
            <span class="k">ENDIF</span><span class="p">.</span>
          <span class="k">ELSE</span><span class="p">.</span>
            <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Daemon not started`</span> <span class="p">).</span>
          <span class="k">ENDIF</span><span class="p">.</span>

        <span class="k">ELSE</span><span class="p">.</span>

          <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">attach_daemon</span><span class="p">(</span> <span class="p">).</span>

          <span class="k">CASE</span> <span class="nv">abap_true</span><span class="p">.</span>

            <span class="k">WHEN</span> <span class="nv">start_daemon</span><span class="p">.</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Daemon already started`</span> <span class="p">).</span>

            <span class="k">WHEN</span> <span class="nv">get_information</span><span class="p">.</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Information requested`</span> <span class="p">).</span>
              <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write</span><span class="p">(</span>
                <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">get_daemon_info</span><span class="p">(</span> <span class="p">)</span> <span class="p">).</span>

            <span class="k">WHEN</span> <span class="nv">send_message</span><span class="p">.</span>
              <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">cl_ac_message_type_pcp</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="p">).</span>
              <span class="nv">pcp</span><span class="o">-&gt;</span><span class="nf">set_field</span><span class="p">(</span> <span class="nv">i_name</span> <span class="o">=</span> <span class="s1">`Type`</span>
                              <span class="nv">i_value</span> <span class="o">=</span> <span class="s1">`msg`</span> <span class="p">).</span>
              <span class="nv">pcp</span><span class="o">-&gt;</span><span class="nf">set_text</span><span class="p">(</span> <span class="s1">`Hello Daemon!`</span> <span class="p">).</span>
              <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">send_message</span><span class="p">(</span> <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">pcp</span> <span class="p">).</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Text message sent`</span> <span class="p">).</span>

            <span class="k">WHEN</span> <span class="nv">trigger_amc</span><span class="p">.</span>
              <span class="k">DATA</span><span class="p">(</span><span class="nv">receiver</span><span class="p">)</span> <span class="o">=</span> <span class="nv">NEW</span> <span class="nv">amc_receiver</span><span class="p">(</span> <span class="p">).</span>
              <span class="k">TRY</span><span class="p">.</span>
                  <span class="nv">cl_amc_channel_manager</span><span class="o">=&gt;</span><span class="nf">create_message_consumer</span><span class="p">(</span>
                    <span class="nv">i_application_id</span> <span class="o">=</span> <span class="s1">&#39;DEMO_AMC&#39;</span>
                    <span class="nv">i_channel_id</span>     <span class="o">=</span> <span class="s1">&#39;/demo_text&#39;</span>
                    <span class="p">)</span><span class="o">-&gt;</span><span class="nf">start_message_delivery</span><span class="p">(</span> <span class="nv">i_receiver</span> <span class="o">=</span> <span class="nv">receiver</span> <span class="p">).</span>
                <span class="k">CATCH</span> <span class="nv">cx_amc_error</span> <span class="k">INTO</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">amc_exc</span><span class="p">).</span>
                  <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Exception, `</span> <span class="o">&amp;&amp;</span> <span class="nv">amc_exc</span><span class="o">-&gt;</span><span class="nf">get_text</span><span class="p">(</span> <span class="p">)</span> <span class="p">).</span>
              <span class="k">ENDTRY</span><span class="p">.</span>
              <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">cl_ac_message_type_pcp</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="p">).</span>
              <span class="nv">pcp</span><span class="o">-&gt;</span><span class="nf">set_field</span><span class="p">(</span> <span class="nv">i_name</span> <span class="o">=</span> <span class="s1">`Type`</span>
                              <span class="nv">i_value</span> <span class="o">=</span> <span class="s1">`amc`</span> <span class="p">).</span>
              <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">send_message</span><span class="p">(</span> <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">pcp</span> <span class="p">).</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`AMC message triggered`</span> <span class="p">).</span>
              <span class="k">WAIT</span> <span class="k">FOR</span> <span class="nv">MESSAGING</span> <span class="nv">CHANNELS</span>
                   <span class="nv">UNTIL</span> <span class="nv">receiver</span><span class="o">-&gt;</span><span class="nv">msg</span> <span class="ow">IS NOT INITIAL</span>
                   <span class="nv">UP</span> <span class="k">TO</span> <span class="mi">10</span> <span class="nv">SECONDS</span><span class="p">.</span>
              <span class="k">IF</span> <span class="nv">receiver</span><span class="o">-&gt;</span><span class="nv">msg</span> <span class="ow">IS NOT INITIAL</span><span class="p">.</span>
                <span class="nv">write_log</span><span class="p">(</span> <span class="p">|</span><span class="s1">AMC message &quot;</span><span class="p">{</span> <span class="nv">receiver</span><span class="o">-&gt;</span><span class="nv">msg</span> <span class="p">}</span><span class="s1">&quot; received</span><span class="p">|</span> <span class="p">).</span>
              <span class="k">ELSE</span><span class="p">.</span>
                <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`No AMC message received`</span> <span class="p">).</span>
              <span class="k">ENDIF</span><span class="p">.</span>

            <span class="k">WHEN</span> <span class="nv">trigger_exception</span><span class="p">.</span>
              <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">cl_ac_message_type_pcp</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="p">).</span>
              <span class="nv">pcp</span><span class="o">-&gt;</span><span class="nf">set_field</span><span class="p">(</span> <span class="nv">i_name</span> <span class="o">=</span> <span class="s1">`Type`</span>
                              <span class="nv">i_value</span> <span class="o">=</span> <span class="s1">`err`</span> <span class="p">).</span>
              <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">send_message</span><span class="p">(</span> <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">pcp</span> <span class="p">).</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Exception triggered`</span> <span class="p">).</span>

            <span class="k">WHEN</span> <span class="nv">trigger_blocking</span><span class="p">.</span>
              <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">cl_ac_message_type_pcp</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="p">).</span>
              <span class="nv">pcp</span><span class="o">-&gt;</span><span class="nf">set_field</span><span class="p">(</span> <span class="nv">i_name</span> <span class="o">=</span> <span class="s1">`Type`</span>
                              <span class="nv">i_value</span> <span class="o">=</span> <span class="s1">`blk`</span> <span class="p">).</span>
              <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">send_message</span><span class="p">(</span> <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">pcp</span> <span class="p">).</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Blocking statement triggered`</span> <span class="p">).</span>

            <span class="k">WHEN</span> <span class="nv">trigger_restart</span><span class="p">.</span>
              <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">cl_ac_message_type_pcp</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="p">).</span>
              <span class="nv">pcp</span><span class="o">-&gt;</span><span class="nf">set_field</span><span class="p">(</span> <span class="nv">i_name</span> <span class="o">=</span> <span class="s1">`Type`</span>
                              <span class="nv">i_value</span> <span class="o">=</span> <span class="s1">`rst`</span> <span class="p">).</span>
              <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">send_message</span><span class="p">(</span> <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">pcp</span> <span class="p">).</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Restart triggered`</span> <span class="p">).</span>

            <span class="k">WHEN</span> <span class="nv">trigger_relocation</span><span class="p">.</span>
              <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">cl_ac_message_type_pcp</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="p">).</span>
              <span class="nv">pcp</span><span class="o">-&gt;</span><span class="nf">set_field</span><span class="p">(</span> <span class="nv">i_name</span> <span class="o">=</span> <span class="s1">`Type`</span>
                              <span class="nv">i_value</span> <span class="o">=</span> <span class="s1">`rlo`</span> <span class="p">).</span>
              <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">send_message</span><span class="p">(</span> <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">pcp</span> <span class="p">).</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Relocation triggered`</span> <span class="p">).</span>

            <span class="k">WHEN</span> <span class="nv">trigger_stop</span><span class="p">.</span>
              <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">cl_ac_message_type_pcp</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="p">).</span>
              <span class="nv">pcp</span><span class="o">-&gt;</span><span class="nf">set_field</span><span class="p">(</span> <span class="nv">i_name</span> <span class="o">=</span> <span class="s1">`Type`</span>
                              <span class="nv">i_value</span> <span class="o">=</span> <span class="s1">`stp`</span> <span class="p">).</span>
              <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">send_message</span><span class="p">(</span> <span class="nv">pcp</span> <span class="o">=</span> <span class="nv">pcp</span> <span class="p">).</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Stop triggered`</span> <span class="p">).</span>

            <span class="k">WHEN</span> <span class="nv">stop_daemon</span><span class="p">.</span>
              <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nf">stop_daemon</span><span class="p">(</span> <span class="p">).</span>
              <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Daemon stop requested`</span> <span class="p">).</span>
          <span class="k">ENDCASE</span><span class="p">.</span>

        <span class="k">ENDIF</span><span class="p">.</span>
      <span class="k">CATCH</span> <span class="nv">cx_abap_daemon_error</span>
            <span class="nv">cx_ac_message_type_pcp_error</span> <span class="k">INTO</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">exc</span><span class="p">).</span>
        <span class="nv">write_log</span><span class="p">(</span> <span class="s1">`Exception, `</span> <span class="o">&amp;&amp;</span> <span class="nv">exc</span><span class="o">-&gt;</span><span class="nf">get_text</span><span class="p">(</span> <span class="p">)</span> <span class="p">).</span>
    <span class="k">ENDTRY</span><span class="p">.</span>

    <span class="k">WAIT</span> <span class="nv">UP</span> <span class="k">TO</span> <span class="mi">1</span> <span class="nv">SECONDS</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">next_section</span><span class="p">(</span> <span class="s1">&#39;ABAP Daemon&#39;</span> <span class="p">).</span>

    <span class="k">DATA</span><span class="p">(</span><span class="nv">daemon_log</span><span class="p">)</span> <span class="o">=</span> <span class="s1">``</span><span class="p">.</span>
    <span class="k">IMPORT</span> <span class="nv">daemon_log</span> <span class="o">=</span> <span class="nv">daemon_log</span>
           <span class="k">FROM DATABASE</span> <span class="nv">demo_indx_blob</span><span class="p">(</span><span class="nv">dm</span><span class="p">)</span>
           <span class="k">ID</span> <span class="nv">cl_demo_abap_daemon_broker</span><span class="o">=&gt;</span><span class="nv">daemon_log</span><span class="p">.</span>
    <span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span>
      <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="nv">daemon_log</span> <span class="p">).</span>
    <span class="k">ENDIF</span><span class="p">.</span>

    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="p">).</span>
</code></pre></div>
<a name="@@ITOC@@ABENABAP_DAEMON_ABEXA_2"></a></p>
<h2 id="description">Description</h2>
<p>It implements the most important aspects of an ABAP Daemon and contains the program above and two classes.</p>
<h3 id="program-demo_abap_daemon">Program DEMO_ABAP_DAEMON</h3>
<p>This program makes it possible to start an ABAP Daemon interactively and then perform various actions using the daemon. The checkboxes have the following meanings:</p>
<ul>

<li>START_DAEMON</li>

</ul>

<dd>
Attempts to start an ABAP Daemon. Only one ABAP Daemon of the ABAP Daemon class in question may exist. When the program starts, a version number is passed in
<a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> format. If an ABAP Daemon already exists, this daemon is used.
</dd>

<ul>

<li>GET_INFORMATION</li>

</ul>

<dd>
Gets information about the ABAP Daemon and displays it.
</dd>

<ul>

<li>SEND_MESSAGE</li>

</ul>

<dd>
Sends a text message to the ABAP Daemon in <a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> format.
</dd>

<ul>

<li>TRIGGER_AMC</li>

</ul>

<dd>
Sends a <a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> message to the ABAP Daemon instructing the daemon to send an
<a href="../abenamc_glosry" class="grey" title="Glossary Entry">AMC</a> message. The program waits until the message arrives at a dedicated AMC receiver.
</dd>

<ul>

<li>TRIGGER_EXCEPTION</li>

</ul>

<dd>
Sends a <a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> message to the ABAP Daemon, where an exception is raised. The exception produces a
<a href="../abenshort_dump_glosry" class="grey" title="Glossary Entry">short dump</a> that can be viewed
in transaction <span class="lnkgrey">ST22</span> and the ABAP Daemon is restarted automatically. This raises the version number by 1.
</dd>

<ul>

<li>TRIGGER_BLOCKING</li>

</ul>

<dd>
Sends a <a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> message to the ABAP Daemon instructing it to create a statement forbidden in
<a href="../abenadf_non_blocking_model" class="blue">non-blocking mode</a>. This raises an exception and
<a href="../abenshort_dump_glosry" class="grey" title="Glossary Entry">short dump</a>, which can be
viewed in transaction <span class="lnkgrey">ST22</span>. The ABAP Daemon is then restarted automatically. This raises the version number by 1.
</dd>

<ul>

<li>TRIGGER_RESTART</li>

</ul>

<dd>
Sends a <a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> message to the ABAP Daemon that restarts the daemon. This raises the version number by 1.
</dd>

<ul>

<li>TRIGGER_RELOCATION</li>

</ul>

<dd>
Sends a <a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> message to the ABAP
Daemon instructing the daemon to create a new instance of its class on a different AS Instance and delete the previous instance.
</dd>

<ul>

<li>TRIGGER_STOP</li>

</ul>

<dd>
Sends a <a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> message to the ABAP Daemon instructing it to stop.
</dd>

<ul>

<li>STOP_DAEMON</li>

</ul>

<dd>
Stops the daemon.
</dd>

<p>The output of the program displays the individual actions in both the program and in the ABAP Daemon. To do this, the daemon writes entries to the
<a href="../abenexport_import_table_glosry" class="grey" title="Glossary Entry">export/import table</a>
DEMO_INDX_BLOB, which are then read by the ABAP program after a short delay. If the system in question
is slow, this delay may not be long enough to display all actions in the daemon. The ABAP Daemon on
the current AS Instance can be viewed in parallel to the execution of the program using the transaction <span class="lnkgrey">SMDAEMON</span>.</p>
<h3 id="class-cl_abap_daemon_broker">Class CL_ABAP_DAEMON_BROKER</h3>
<p>The program DEMO_ABAP_DAEMON does not work directly with the class <span class="lnkgrey">CL_ABAP_DAEMON_CLIENT_MANAGER</span>
and any reads performed on this class are wrapped in the class <span class="lnkgrey">CL_DEMO_ABAP_DAEMON_BROKER</span>.
This is because CL_ABAP_DAEMON_CLIENT_MANAGER can only be used to access an ABAP Daemon in the program
where the daemon was started. It must be possible for the daemon itself to create an instance of its
class in this example, which means the reads must be moved to a program that can be accessed from both the ABAP program and the ABAP Daemon. To enable this, CL_DEMO_ABAP_DAEMON_BROKER contains the following methods:</p>
<ul>

<li>CHECK_DAEMON</li>

</ul>

<dd>
<span class="qtext">METHOD check_daemon. <br>&#xA0;&#xA0;DATA(daemon_info) = <br>&#xA0;&#xA0;&#xA0;&#xA0;cl_abap_daemon_client_manager=&gt;get_daemon_info( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_class_name = daemon_class ). <br> <br>&#xA0;&#xA0;instance_id = <br>
&#xA0;&#xA0;&#xA0;&#xA0; VALUE #( daemon_info[ name = daemon_name ]-instance_id <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;OPTIONAL ). <br>
 <br>&#xA0;&#xA0;success = COND #( WHEN instance_id IS NOT INITIAL THEN abap_true ). <br>ENDMETHOD.</span>
</dd>

<dd>
This method determines whether a daemon of the ABAP Daemon class CL_DEMO_ABAP_DAEMON already exists
and saves its ID for further use. The program DEMO_ABAP_DAEMON starts a daemon of the class CL_DEMO_ABAP_DAEMON
only if no daemon exists. The method shown here for creating an ABAP Daemon as a singleton is not, however,
100% reliable. It is possible that further daemons are created in the same class in the time between
starting the daemon and its being returned by the method GET_DAEMON_INFO. A fully reliable program, however, would be too detailed for this simple example.
</dd>

<ul>

<li>START_DAEMON</li>

</ul>

<dd>
<span class="qtext">METHOD start_daemon. <br>&#xA0;&#xA0;DATA stack TYPE abap_callstack. <br>&#xA0;&#xA0;CALL FUNCTION &apos;SYSTEM_CALLSTACK&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;IMPORTING <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;callstack = stack. <br>&#xA0;&#xA0;IF VALUE #( stack[ 2 ]-mainprogram OPTIONAL ) <br>
&#xA0;&#xA0;&#xA0;&#xA0; &lt;&gt; &apos;DEMO_ABAP_DAEMON&apos; AND <br>&#xA0;&#xA0;&#xA0;&#xA0; VALUE #( stack[ 2 ]-mainprogram OPTIONAL ) <br>
&#xA0;&#xA0;&#xA0;&#xA0; &lt;&gt; &apos;CL_DEMO_ABAP_DAEMON===========CP&apos;. <br>&#xA0;&#xA0;&#xA0;&#xA0;RETURN. <br>
&#xA0;&#xA0;ENDIF. <br> <br>&#xA0;&#xA0;cl_abap_daemon_client_manager=&gt;start( <br>&#xA0;&#xA0;&#xA0;&#xA0;EXPORTING <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_class_name&#xA0;&#xA0;= daemon_class <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= daemon_name <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_parameter&#xA0;&#xA0; = pcp <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_destination = destination <br>
&#xA0;&#xA0;&#xA0;&#xA0;IMPORTING <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;e_instance_id = instance_id <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;e_setup_mode&#xA0;&#xA0;= DATA(setup_mode) ). <br> <br>&#xA0;&#xA0;success = <br>
&#xA0;&#xA0;&#xA0;&#xA0;COND #( WHEN setup_mode = <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if_abap_daemon_extension=&gt;co_setup_mode-accept <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;THEN abap_true ). <br>ENDMETHOD.</span>
</dd>

<dd>
This method wraps the method START of the class CL_ABAP_DAEMON_CLIENT_MANAGER and starts an ABAP Daemon
of the ABAP Daemon class CL_DEMO_ABAP_DAEMON. Any callers are checked to ensure that the method is only
used in the program DEMO_ABAP_DAEMON and in the ABAP Daemon class. The ID of the started daemon is saved for further use. If the ABAP Daemon class is accepted when started, the return value is not initial.
</dd>

<ul>

<li>GET_DAEMON_INFO</li>

</ul>

<dd>
<span class="qtext">METHOD get_daemon_info. <br>&#xA0;&#xA0;daemon_info = <br>&#xA0;&#xA0;&#xA0;&#xA0;cl_abap_daemon_client_manager=&gt;get_daemon_info( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_class_name = daemon_class ). <br>ENDMETHOD.</span>
</dd>

<dd>
This method wraps the identically named method of the class CL_ABAP_DAEMON_CLIENT_MANAGER and returns information about the ABAP Daemons of the ABAP Daemon class CL_DEMO_ABAP_DAEMON.
</dd>

<ul>

<li>ATTACH_DAEMON</li>

</ul>

<dd>
<code style="display: inline;"><span class="qtext">METHOD attach_daemon. <br>&#xA0;&#xA0;daemon_handle = cl_abap_daemon_client_manager=&gt;attach( <br>&#xA0;&#xA0;&#xA0;&#xA0;i_instance_id = instance_id ). <br>ENDMETHOD.</span></code>
</dd>

<dd>
This method wraps the method ATTACH of the class CL_ABAP_DAEMON_CLIENT_MANAGER. The returned reference to the
<a href="../abenabap_daemon_handle_glosry" class="grey" title="Glossary Entry">ABAP Daemon handle</a> is saved in the private attribute DAEMON_HANDLE.
</dd>

<ul>

<li>SEND_MESSAGE</li>

</ul>

<dd>
<span class="qtext">METHOD send_message. <br>&#xA0;&#xA0;IF daemon_handle IS INITIAL. <br>&#xA0;&#xA0;&#xA0;&#xA0;RAISE EXCEPTION TYPE cx_abap_daemon_error <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;EXPORTING <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;textid = cx_abap_daemon_error=&gt;action_not_permitted. <br>
&#xA0;&#xA0;ENDIF. <br>&#xA0;&#xA0;daemon_handle-&gt;send( pcp ). <br>ENDMETHOD.</span>
</dd>

<dd>
This method is used to send <a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> messages to the ABAP Daemon. To do this, the method SEND of the
<a href="../abenabap_daemon_handle_glosry" class="grey" title="Glossary Entry">ABAP Daemon handle</a> is used, which is referenced in the private attribute DAEMON_HANDLE.
</dd>

<ul>

<li>STOP_DAEMON</li>

</ul>

<dd>
<code style="display: inline;"><span class="qtext">METHOD stop_daemon. <br>&#xA0;&#xA0;cl_abap_daemon_client_manager=&gt;stop( <br>&#xA0;&#xA0;&#xA0;&#xA0;i_instance_id = instance_id ). <br>ENDMETHOD.</span></code>
</dd>

<dd>
This method wraps the method STOP of the class CL_ABAP_DAEMON_CLIENT_MANAGER and is used to stop the ABAP Daemon.
</dd>

<p>The name of the ABAP Daemon and the ABAP Daemon class are defined as constants of the class CL_ABAP_DAEMON_BROKER.</p>
<h3 id="class-cl_abap_daemon">Class CL_ABAP_DAEMON</h3>
<p>The class <span class="lnkgrey">CL_DEMO_ABAP_DAEMON</span> is a subclass of CL_ABAP_DAEMON_EXT_BASE
and is the ABAP Daemon class for this example. It implements the most important methods of the interface
<span class="lnkgrey">IF_ABAP_DAEMON_EXTENSION</span> and further standalone helper methods. It also implements the interface <span class="lnkgrey">IF_ABAP_TIMER_HANDLER</span> so that it can be an
<a href="../abenabap_timer_handler_glosry" class="grey" title="Glossary Entry">ABAP Timer handler</a> for an
<a href="../abenabap_timer_glosry" class="grey" title="Glossary Entry">ABAP Timer</a>. Although daemons
should never be stopped in practice, daemons created by this example are deleted automatically after an hour (if not stopped explicitly first).</p>
<ul>

<li>IF_ABAP_DAEMON_EXTENSION~ON_ACCEPT</li>

</ul>

<dd>
<span class="qtext">METHOD if_abap_daemon_extension~on_accept. <br>&#xA0;&#xA0;TRY. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DATA(caller) = i_context_base-&gt;get_start_caller_info( )-program. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;IF caller = &apos;CL_DEMO_ABAP_DAEMON_BROKER====CP&apos;. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;e_setup_mode = co_setup_mode-accept. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;ENDIF. <br>&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_abap_daemon_error. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;RETURN. <br>&#xA0;&#xA0;ENDTRY. <br>ENDMETHOD.</span>
</dd>

<dd>
Before the daemon is started, this method checks whether the calling program is the class pool of the
class <span class="lnkgrey">CL_DEMO_ABAP_DAEMON_BROKER</span>. Only in this case is the output parameter E_SETUP_MODE set so that the daemon can be started.
</dd>

<ul>

<li>IF_ABAP_DAEMON_EXTENSION~ON_START</li>

</ul>

<dd>
<span class="qtext">METHOD if_abap_daemon_extension~on_start. <br>&#xA0;&#xA0;TRY. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;set_context( context = i_context <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; version = i_context-&gt;get_start_parameter( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;)-&gt;get_field( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; i_name = `Version` ) ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( |Daemon started as version { <br>&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_context-&gt;get_application_parameter( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; )-&gt;get_field( i_name = `Version` ) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;} on { sy-host }| ). <br>
 <br>&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_ac_message_type_pcp_error <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;cx_abap_daemon_error <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;cx_abap_timer_error INTO DATA(exc). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Exception, ` &amp;&amp; exc-&gt;get_text( ) ). <br>
&#xA0;&#xA0;ENDTRY. <br>ENDMETHOD.</span>
</dd>

<dd>
Directly after the daemon is started, this method calls the helper method SET_CONTEXT, which saves context
information and starts a timer. One example of context information here is the version number passed by the caller when the daemon is started.
</dd>

<ul>

<li>IF_ABAP_DAEMON_EXTENSION~ON_MESSAGE</li>

</ul>

<dd>
<span class="qtext">METHOD if_abap_daemon_extension~on_message. <br>&#xA0;&#xA0;TRY. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DATA(type) = i_message-&gt;get_field( i_name = `Type` ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;CASE type. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WHEN `msg`. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|Message &quot;{ i_message-&gt;get_text( ) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&quot; received on { sy-host }| ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WHEN `amc`. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Sending AMC message in daemon` ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;send_amc( `Hello from daemon` ). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WHEN `err`. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Raising exception in daemon` ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;MESSAGE `Type X message in daemon` TYPE &apos;X&apos;. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WHEN `blk`. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Executing blocking statement in daemon` ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WAIT UP TO 1 SECONDS. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WHEN `rst`. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Restarting from daemon` ). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_context-&gt;restart( ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WHEN `rlo`. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Relocating daemon` ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;relocate( ). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WHEN `stp`. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Stopping from daemon` ). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_context-&gt;stop( ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;ENDCASE. <br>&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_ac_message_type_pcp_error <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;cx_abap_daemon_error INTO DATA(exc). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Exception, ` &amp;&amp; exc-&gt;get_text( ) ). <br>
&#xA0;&#xA0;ENDTRY. <br>ENDMETHOD.</span>
</dd>

<dd>
This method evaluates the inbound <a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> messages and performs the actions in question directly or calls helper methods from the ABAP Daemon class.
</dd>

<ul>

<li>IF_ABAP_DAEMON_EXTENSION~ON_ERROR</li>

</ul>

<dd>
<span class="qtext">METHOD if_abap_daemon_extension~on_error. <br>&#xA0;&#xA0;set_context( i_context ). <br>
&#xA0;&#xA0;TRY. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`Daemon restarted after error and version increased to ` &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; i_context-&gt;get_application_parameter( <br>&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;)-&gt;get_field( i_name = `Version` ) ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_ac_message_type_pcp_error <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;cx_abap_daemon_error INTO DATA(exc). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Exception, ` &amp;&amp; exc-&gt;get_text( ) ). <br>&#xA0;&#xA0;ENDTRY. <br>ENDMETHOD.</span>
</dd>

<dd>
IF_ABAP_DAEMON_EXTENSION~ON_RESTART
</dd>

<dd>
<span class="qtext">METHOD if_abap_daemon_extension~on_restart. <br>&#xA0;&#xA0;set_context( i_context ). <br>
&#xA0;&#xA0;TRY. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;`Daemon restarted and version increased to ` &amp;&amp; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; i_context-&gt;get_application_parameter( <br>&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;)-&gt;get_field( i_name = `Version` ) ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_ac_message_type_pcp_error <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;cx_abap_daemon_error INTO DATA(exc). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Exception, ` &amp;&amp; exc-&gt;get_text( ) ). <br>&#xA0;&#xA0;ENDTRY. <br>ENDMETHOD.</span>
</dd>

<dd>
These methods call the helper method SET_CONTEXT to set the context information again after a restart.
</dd>

<ul>

<li>IF_ABAP_DAEMON_EXTENSION~ON_SERVER_SHUTDOWN</li>

</ul>

<dd>
<code style="display: inline;"><span class="qtext">METHOD if_abap_daemon_extension~on_server_shutdown. <br>&#xA0;&#xA0;relocate( ). <br>ENDMETHOD.</span></code>
</dd>

<dd>
When the current AS Instance is shut down, this method calls the helper method RELOCATE to move the daemon to a different AS Instance.
</dd>

<ul>

<li>IF_ABAP_TIMER_HANDLER~ON_TIMEOUT</li>

</ul>

<dd>
<span class="qtext">METHOD if_abap_timer_handler~on_timeout. <br>&#xA0;&#xA0;TRY. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Timeout reached, stopping daemon` ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;daemon_context-&gt;stop( ). <br>&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_abap_daemon_error INTO DATA(exc). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Exception, ` &amp;&amp; exc-&gt;get_text( ) ). <br>&#xA0;&#xA0;ENDTRY. <br>ENDMETHOD.</span>
</dd>

<dd>
In the case of a timeout event of the <a href="../abenabap_timer_glosry" class="grey" title="Glossary Entry">ABAP Timer</a> set in SET_CONTEXT, this method stops the daemon.
</dd>

<ul>

<li>SET_CONTEXT</li>

</ul>

<dd>
<span class="qtext">METHOD set_context. <br>&#xA0;&#xA0;daemon_context = context. <br>&#xA0;&#xA0;TRY. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DATA(pcp) = cl_ac_message_type_pcp=&gt;create( ). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;pcp-&gt;set_field( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_name = `Version` <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_value = COND #( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WHEN version IS NOT SUPPLIED <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;THEN context-&gt;get_application_parameter( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; )-&gt;get_field( i_name = `Version` ) + 1 <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;ELSE version ) ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;context-&gt;set_application_parameter( i_parameter = pcp ). <br> <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;cl_abap_timer_manager=&gt;get_timer_manager( <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;)-&gt;start_timer( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_timer_handler = me <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i_timeout = 3600 * 1000 ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Daemon timeout set to one hour` ). <br> <br>&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_ac_message_type_pcp_error <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;cx_abap_daemon_error <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;cx_abap_timer_error INTO DATA(exc). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Exception, ` &amp;&amp; exc-&gt;get_text( ) ). <br>&#xA0;&#xA0;ENDTRY. <br>ENDMETHOD.</span>
</dd>

<dd>
This method sets an attribute of the class to the context object and uses its method SET_APPLICATION_PARAMETER to save the current version number in the
<a href="../abenabap_daemon_memory_glosry" class="grey" title="Glossary Entry">ABAP Daemon memory</a> in
<a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> format. If SET_CONTEXT is called
after a restart, the previous version number is fetched from the ABAP Daemon memory and raised by 1. Furthermore, SET_CONTEXT initializes an
<a href="../abenabap_timer_glosry" class="grey" title="Glossary Entry">ABAP Timer</a> responded to by the method IF_ABAP_TIMER_HANDLER~ON_TIMEOUT of the current daemon.
</dd>

<ul>

<li>SEND_AMC</li>

</ul>

<dd>
<span class="qtext">METHOD send_amc. <br>&#xA0;&#xA0;TRY. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;CAST if_amc_message_producer_text( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; cl_amc_channel_manager=&gt;create_message_producer( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; i_application_id = &apos;DEMO_AMC&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; i_channel_id&#xA0;&#xA0;&#xA0;&#xA0; = &apos;/demo_text&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; i_suppress_echo&#xA0;&#xA0;= &apos;X&apos; ) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;)-&gt;send( i_message = msg ). <br>&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_amc_error INTO DATA(amc_exc). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Exception, ` &amp;&amp; amc_exc-&gt;get_text( ) ). <br>&#xA0;&#xA0;ENDTRY. <br>ENDMETHOD.</span>
</dd>

<dd>
This method sends an <a href="../abenamc_glosry" class="grey" title="Glossary Entry">AMC</a> message.
</dd>

<ul>

<li>RELOCATE</li>

</ul>

<dd>
<span class="qtext">METHOD relocate. <br>&#xA0;&#xA0;DATA list TYPE TABLE OF msxxlist WITH EMPTY KEY. <br>
&#xA0;&#xA0;CALL FUNCTION &apos;TH_SERVER_LIST&apos; <br>&#xA0;&#xA0;&#xA0;&#xA0;TABLES <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;list&#xA0;&#xA0; = list <br>
&#xA0;&#xA0;&#xA0;&#xA0;EXCEPTIONS <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;OTHERS = 4. <br>&#xA0;&#xA0;IF sy-subrc &lt;&gt; 0 OR lines( list ) &lt; 2. <br>
&#xA0;&#xA0;&#xA0;&#xA0;write_log( `No other application server available`). <br>&#xA0;&#xA0;&#xA0;&#xA0;RETURN. <br>
&#xA0;&#xA0;ENDIF. <br> <br>&#xA0;&#xA0;DELETE list WHERE host = sy-host. <br>&#xA0;&#xA0;DATA(server) = list[ <br>
&#xA0;&#xA0;&#xA0;&#xA0;cl_abap_random_int=&gt;create( <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;seed = CONV #( sy-uzeit ) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;min&#xA0;&#xA0;= 1 <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;max&#xA0;&#xA0;= lines( list ) )-&gt;get_next( ) ]. <br>
 <br>&#xA0;&#xA0;TRY. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;IF cl_demo_abap_daemon_broker=&gt;start_daemon( <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;pcp = daemon_context-&gt;get_application_parameter( ) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;destination = server-name ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Daemon relocated to ` &amp;&amp; server-host &amp;&amp; ` `&#xA0;&#xA0;). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;daemon_context-&gt;stop( ). <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;ELSE. <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Daemon not accepted on ` &amp;&amp; server-host ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;ENDIF. <br>&#xA0;&#xA0;&#xA0;&#xA0;CATCH cx_abap_daemon_error INTO DATA(exc). <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;write_log( `Exception, ` &amp;&amp; exc-&gt;get_text( ) ). <br>&#xA0;&#xA0;ENDTRY. <br> <br>ENDMETHOD.</span>
</dd>

<dd>
This method attempts to move the current daemon to a different AS Instance. To do this, an AS Instances
is selected at random from a list in the current AS ABAP. This application server is then used as a
destination for starting a daemon of the current ABAP Daemon class using CL_ABAP_DAEMON_BROKER. Here, the current context information from the
<a href="../abenabap_daemon_memory_glosry" class="grey" title="Glossary Entry">ABAP Daemon memory</a> is passed directly as start parameters in
<a href="../abenpcp_glosry" class="grey" title="Glossary Entry">PCP</a> format. The current daemon is then stopped.
</dd>

<ul>

<li>WRITE_LOG</li>

</ul>

<dd>
<span class="qtext">METHOD write_log. <br>&#xA0;&#xA0;DATA ts TYPE timestampl. <br>&#xA0;&#xA0;GET TIME STAMP FIELD ts. <br>
 <br>&#xA0;&#xA0;DATA(daemon_log) = ``. <br>&#xA0;&#xA0;IMPORT daemon_log = daemon_log <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FROM DATABASE demo_indx_blob(dm) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ID cl_demo_abap_daemon_broker=&gt;daemon_log. <br>&#xA0;&#xA0;daemon_log = daemon_log &amp;&amp; |{ ts TIMESTAMP = ISO }: { msg }\n|. <br>
&#xA0;&#xA0;EXPORT daemon_log = daemon_log <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TO DATABASE demo_indx_blob(dm) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ID cl_demo_abap_daemon_broker=&gt;daemon_log. <br>&#xA0;&#xA0;COMMIT CONNECTION default. <br>ENDMETHOD.</span>
</dd>

<dd>
This method writes log entries to the <a href="../abenexport_import_table_glosry" class="grey" title="Glossary Entry">
export/import table</a> DEMO_INDX_BLOB as a string. It is called by the other methods to log the actions of the daemon for the output of the program DEMO_ABAP_DAEMON.
</dd>

<p>In this example, the remaining methods of the interface <span class="lnkgrey">IF_ABAP_DAEMON_EXTENSION</span> only write log entries.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>This simple example does not guarantee that an ABAP Daemon in the ABAP Daemon class CL_ABAP_DAEMON is
a system-wide singleton. Any parallel reads that cause restarts can be the source of multiple unwanted
daemons. This applies in particular when moving daemons to other AS Instances. A great deal more work
is required to create a real singleton. See the class <span class="lnkgrey">CL_AD_EXT_SIMPLE_DAEMON</span>, which can be used by the program <span class="lnkgrey">RS_ABAP_DAEMON_TEST</span>.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abenabap_daemon/" title="ADF - ABAP Daemon Framework" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ADF - ABAP Daemon Framework
              </div>
            </div>
          </a>
        
        
          <a href="../abenabap_daemon_abexas/" title="Examples for ABAP Daemons" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Examples for ABAP Daemons
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>