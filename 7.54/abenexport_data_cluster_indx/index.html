


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenexport data cluster indx - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exportimport-tables" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenexport data cluster indx
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#structure-for-data-clusters-in-one-row" class="md-nav__link">
    Structure for Data Clusters in One Row
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structure-for-data-clusters-in-multiple-rows" class="md-nav__link">
    Structure for Data Clusters in Multiple Rows
  </a>
  
    <nav class="md-nav" aria-label="Structure for Data Clusters in Multiple Rows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abenexport_data_cluster_indx.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abendata_cluster" class="blue">Data Cluster</a>&#xA0;&#x2192;&#xA0;
<a href="../abapexport_data_cluster" class="blue">EXPORT</a>&#xA0;</small></p>
<h1 id="exportimport-tables">Export/Import Tables</h1>
<p>When storing <a href="../abendata_cluster_glosry" class="grey" title="Glossary Entry">data clusters</a> in database tables and application buffers of the
<a href="../abenshared_memory_glosry" class="grey" title="Glossary Entry">shared memory</a>, database tables with one of the following structures must be specified: These database tables are known as
<a href="../abenexport_import_table_glosry" class="grey" title="Glossary Entry">export/import tables</a>.</p>
<ul>

<li><a href="#@@ITOC@@ABENEXPORT_DATA_CLUSTER_INDX_1" class="blue">Structure for Data Clusters in One Row</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENEXPORT_DATA_CLUSTER_INDX_2" class="blue">Structure for Data Clusters in Multiple Rows</a></li>

</ul>

<p>Other versions: 
 <a href="../../7.31/abenexport_data_cluster_indx">7.31</a> | <a href="../../7.40/abenexport_data_cluster_indx">7.40</a> | <b>7.54</b></p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>The structure for data clusters in a single row is the newer variant and is recommended for new database tables.</li>

<p></ul>
<ul></p>
<li>Status information about the actual data cluster, such as date, user, or language, can be saved in custom fields.</li>

<p></ul>
<ul></p>
<li>Notes about how to edit <a href="../abenexport_import_table_glosry" class="grey" title="Glossary Entry">export/import tables</a> using SQL can be found under
<a href="../abenindx_type_table_and_sql" class="blue">SQL Access to Export/Import Tables</a>.</li>

<p></ul>
<a name="@@ITOC@@ABENEXPORT_DATA_CLUSTER_INDX_1"></a>
</div></p>
<h2 id="structure-for-data-clusters-in-one-row">Structure for Data Clusters in One Row</h2>
<p>In export/import table structures like this, the data cluster is saved in a single row in a column CLUSTD of the type <a href="../abenddic_builtin_types" class="blue">RAWSTRING</a>
(<a href="../abenblob_glosry" class="grey" title="Glossary Entry">BLOB</a>).</p>
<ul>

<li>If the data objects are saved as client-specific objects, the first field must be a key field with
the name MANDT of type CLNT for the client. This component does not apply if objects are saved as cross-client objects.</li>

</ul>

<ul>

<li>The next field must be a key field with the name RELID of type CHAR and with length 2. The area saved here is specified as <code style="display: inline;"><span class="qtext">ar</span></code>.</li>

</ul>

<ul>

<li>This must be followed by at least one key field of type CHAR with any name. The identifier specified
in <code style="display: inline;"><span class="qtext">id</span></code> in the length of the key field is saved here. If more than one key
field is defined, the identifier is divided among them according to the respective length of the key
fields. If the total length of the key fields is not sufficient for the identifier, it is truncated on the right side.</li>

</ul>

<ul>

<li>Any number of fields with any name and type can follow, which are filled with values by specifying
<code style="display: inline;"><span class="qtext">FROM wa</span></code>. The addition <code style="display: inline;"><span class="qtext">TO wa</span></code> of the statement <code style="display: inline;"><span class="qtext">IMPORT</span></code> reads these fields again.</li>

</ul>

<ul>

<li>The final field must be called CLUSTD and associated with the data element <span class="lnkgrey">INDX_CLUST_BLOB</span> with the dictionary type
<a href="../abenddic_builtin_types" class="blue">RAWSTRING</a>. This column is given the actual data cluster.</li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>The total length of all <a href="../abenddic_database_tables_key" class="blue">key fields</a> (meaning the total length of MANDT, RELID, the key fields for the ID, and SRTF2) is limited to 900 bytes, like every AS ABAP
<a href="../abenddic_database_tables" class="blue">database</a> defined in ABAP Dictionary. If the table content is transported by specifying a key, a limit of 120 bytes is required here too.</p>
<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The database table <span class="lnkgrey">DEMO_INDX_BLOB</span> is an example of how data clusters are saved in a single row.</p>
<p><a name="@@ITOC@@ABENEXPORT_DATA_CLUSTER_INDX_2"></a>
</div></p>
<h2 id="structure-for-data-clusters-in-multiple-rows">Structure for Data Clusters in Multiple Rows</h2>
<p>In export/import table structures like this, the data cluster is saved in a column CLUSTD of the type
<a href="../abenddic_builtin_types" class="blue">LRAW</a> and can span multiple rows. The structure needs the additional columns SRTF2 and CLUSTR to manage this repository.</p>
<ul>

<li>The structure starts with the same key fields as in the structure above for data clusters in a single row.</li>

</ul>

<ul>

<li>The next field must be a further key field with the name SRTF2 of type INT4. It contains the row
numbers of the data cluster saved in the field CLUSTD. This cluster can span multiple rows and is filled
automatically by the system. If more rows are required than allowed by the value range of SRFT2, a non-handleable exception is raised.</li>

</ul>

<ul>

<li>Any number of fields with custom names and types can follow. The same applies to these fields as to the structure above for data clusters in a single row.</li>

</ul>

<ul>

<li>The last two components must be called CLUSTR and CLUSTD and have the types
<a href="../abenddic_builtin_types" class="blue">INT2</a> and
<a href="../abenddic_builtin_types" class="blue">LRAW</a> of any length. The current length of the
field CLUSTD of each row is saved in CLUSTR, while CLUSTD contains the actual data cluster (which can span multiple rows).</li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>When a data cluster is split across multiple rows, the associated administration data must be saved for each row. In each row, the content of the custom fields are saved redundantly.</li>

<p></ul>
<ul></p>
<li>The additional key field SRTF2 is part of the total length of all
<a href="../abenddic_database_tables_key" class="blue">key fields</a>. When table content is transported
by specifying a key, the key field SRTF2 does not usually need to be specified since only transports of all rows in a data cluster are feasible.</li>

<p></ul>
<ul></p>
<li>A database table <span class="lnkgrey">INDX</span>, delivered by SAP, has the layout for a data
cluster in multiple rows and can be used as a template for creating custom database tables or for test purposes. In production programs, however, it is strongly recommended that separate
<a href="../abenexport_import_table_glosry" class="grey" title="Glossary Entry">export/import tables</a> are used:</li>

<p></ul>
<ul class="circlem2"></p>
<li>When data is saved in the table INDX, data is at risk of being overwritten or deleted by other programs.</li>

<p></ul>
<ul class="circlem2"></p>
<li>The custom fields between SRTF2 and CLUSTR do not usually match their own application.</li>

<p></ul>
<ul class="circlem2"></p>
<li>The table INDX has the <a href="../abenddic_database_tables_delivery" class="blue">delivery class</a>
<span class="qtext400">A</span> and is client-specific. The delivery class <span class="qtext400">L</span>
may be better suited for saving temporary data. If the data needs to be cross-client data, the table used should not contain a client column. This prevents redundant data from being saved.</li>

<p></ul>
<ul class="circlem2"></p>
<li>New export/import tables should be created using a <a href="../abenblob_glosry" class="grey" title="Glossary Entry">BLOB</a> column CLUSTD.</li>

<p></ul>
<ul></p>
<li>Old export/import tables can also occur, however, where the column SRTF2 has the data type INT1 or INT2. In these tables, a data cluster cannot cover more rows than allowed by the value range of these types.</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The database table <span class="lnkgrey">DEMO_INDX_TABLE</span> is an example of how data clusters are saved in multiple rows.</p>
</div>

<h3 id="continue">Continue</h3>
<p><a href="../abenindx_type_table_and_sql" class="blue">SQL access to export tables/import tables</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>