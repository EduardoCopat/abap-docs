


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenldb usage executable - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#logical-databases-associated-with-executable-programs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenldb usage executable
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-the-association-works" class="md-nav__link">
    How the Association Works
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selection-screen" class="md-nav__link">
    Selection Screen
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#runtime-behavior" class="md-nav__link">
    Runtime Behavior
  </a>
  
    <nav class="md-nav" aria-label="Runtime Behavior">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#executable-example" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abenldb_usage_executable.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_obsolete" class="blue">Obsolete Language Elements</a>&#xA0;&#x2192;&#xA0;
<a href="../abendata_storage_obsolete" class="blue">Obsolete Processing of External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenldb" class="blue">Logical Databases (Obsolete)</a>&#xA0;&#x2192;&#xA0;
<a href="../abenldb_usage" class="blue">Logical Databases - Use</a>&#xA0;</small></p>
<h1 id="logical-databases-associated-with-executable-programs">Logical Databases - Associated with Executable Programs</h1>
<ul>

<li><a href="#@@ITOC@@ABENLDB_USAGE_EXECUTABLE_1" class="blue">How the Association Works</a></li>

<p></ul>
<ul></p>
<li><a href="#@@ITOC@@ABENLDB_USAGE_EXECUTABLE_2" class="blue">Selection Screen</a></li>

<p></ul>
<ul></p>
<li><a href="#@@ITOC@@ABENLDB_USAGE_EXECUTABLE_3" class="blue">Runtime Behavior</a></li>

<p></ul>
<a name="@@ITOC@@ABENLDB_USAGE_EXECUTABLE_1"></a>
Other versions: 
 <s><i>7.31</i></s> | <a href="../../7.40/abenldb_usage_executable">7.40</a> | <b>7.54</b></p>
<h2 id="how-the-association-works">How the Association Works</h2>
<p>When an <a href="../abenexecutable_program_glosry" class="grey" title="Glossary Entry">executable program</a>
is associated with a logical database (meaning that the logical database is entered in the program attributes), the subroutines of the
<a href="../abenldb_program" class="blue">database program</a> are combined with the
<a href="../abenabap_processing_blocks" class="blue">reporting event blocks</a> of the executable program
to create a complete modularized program for reading and processing data. The individual processing
blocks are called in a fixed order by the runtime environment. The runtime behavior is controlled by
the structure, selections, and <code style="display: inline;"><span class="qtext">PUT</span></code> statements of the logical database, plus the <code style="display: inline;"><span class="qtext">GET</span></code> statements of the executable program.</p>
<p>The runtime environment calls are determined by both the structure of the logical database and the definition
of the executable program. The structure of the logical database specifies in which order the subroutines
of the logical database are called, which themselves call the <code style="display: inline;"><span class="qtext">GET</span></code> event blocks
in the executable program. The <code style="display: inline;"><span class="qtext">GET</span></code> event blocks defined in the executable
program determine the read depth of the logical database.. <code style="display: inline;"><span class="qtext">NODES</span></code> statements
or <code style="display: inline;"><span class="qtext">TABLES</span></code> statements in the global declaration part of the executable program
determine which of the input fields defined in the logical database are included on the selection screen and define interface work areas for passing data between the logical database and the executable program.</p>
<p>Generally, the database is actually accessed using ABAP SQL statements implemented in the <code style="display: inline;"><span class="qtext">put_node</span></code>
subroutines. The data read is passed to the executable program using the interface work areas. Once
the data is read in the logical database program, the executable program can process this data in the
<code style="display: inline;"><span class="qtext">GET</span></code> event blocks. This is the point at which the reader actions are separated from processor actions.</p>
<p><a name="@@ITOC@@ABENLDB_USAGE_EXECUTABLE_2"></a></p>
<h2 id="selection-screen">Selection Screen</h2>
<p>If a logical database is specified in the attributes of an executable program, this modifies the
<a href="../abenstandard_selscreen_glosry" class="grey" title="Glossary Entry">standard selection screen</a>
of the program. The standard selection screen contains both the selections (selection criteria and parameters)
of the logical database and the program-specific selections. By declaring interface work areas, the
executable program determines which database-specific selections are relevant for its data analysis and appear on the selection screen.</p>
<p><a name="@@ITOC@@ABENLDB_USAGE_EXECUTABLE_3"></a></p>
<h2 id="runtime-behavior">Runtime Behavior</h2>
<p>The following describes the order in which the ABAP runtime environment calls the subroutines of the
logical database and the event blocks in the executable program. Usually, the subroutines are called
before the event blocks. To do this, various processors (such as the selection screen processor and reporting processor) are executed in sequence in the runtime environment (see also
<a href="../abenreporting_process" class="blue">Flow of an Executable Program</a>).</p>
<li>
Initializations before selection screen processing. <br> <br>Subroutine <code style="display: inline;"><span class="qtext">init</span></code> <br>
This subroutine is called once only before the selection screen is sent for the first time. <br> <br>Event block <code style="display: inline;"><span class="qtext">INITIALIZATION</span></code> <br>
This event occurs once only before the selection screen is sent for the first time. <br> <br>
</li>

<li>
PBO of the selection screen. Initializations every time the selection screen is sent (for example, to get the defaults for key fields). <br>
 <br>Subroutine <code style="display: inline;"><span class="qtext">pbo</span></code> <br>This subroutine is called before each occasion a selection screen is sent. <br>
 <br>Event block <code style="display: inline;"><span class="qtext">AT SELECTION-SCREEN OUTPUT</span></code> <br>This event occurs before each occasion a selection screen is sent. <br> <br>
</li>

<li>
The selection screen is displayed and the user can enter values in the input fields. <br> <br>
</li>

<li>
Request for input help (<span class="qtext400">F4</span>) and field help (<span class="qtext400">F1</span>) (optional). <br>
 <br>Subroutines <code style="display: inline;"><span class="qtext">...val</span></code> and <code style="display: inline;"><span class="qtext">...hlp</span></code> <br>If the
user requests input help or field help for database-specific parameters or selection criteria, these subroutines are called accordingly. <br>
 <br>Event blocks <code style="display: inline;"><span class="qtext">AT SELECTION-SCREEN ON VALUE-REQUEST FOR ...</span></code> and <code style="display: inline;"><span class="qtext">AT SELECTION-SCREEN ON HELP-REQUEST FOR ...</span></code> <br>
If the user requests input help or field help for program-specific parameters or selection criteria, these events are raised accordingly. <br> <br>
</li>

<li>
PAI of the selection screen. This checks whether the user input is correct, complete, and plausible.
An authorization check for the user is also run. If an error occurs, a user dialog with the user can be incorporated and the fields reset for new input. <br>
 <br>Subroutine <code style="display: inline;"><span class="qtext">pai USING fname mark</span></code>. <br>The interface parameters <span class="qtext">
fname</span> and <code style="display: inline;"><span class="qtext">mark</span></code> are passed by the runtime environment. <code style="display: inline;"><span class="qtext">fname</span></code>
contains the name of a selection criterion or parameter on the selection screen. If <code style="display: inline;"><span class="qtext">mark</span></code>
is initial, the user entered a simple single value selection or interval selection. If <code style="display: inline;"><span class="qtext">mark</span></code>
has the value &quot;*&quot;, the user also made entries on the multiple selection screen. A combination of &quot;*&quot;
for <code style="display: inline;"><span class="qtext">fname</span></code> and <span class="qtext400">&quot;ANY&quot;</span> for <code style="display: inline;"><span class="qtext">mark</span></code> enables all entries to be check at once for a user action. <br>
 <br>Event blocks <code style="display: inline;"><span class="qtext">AT SELECTION-SCREEN ON ...</span></code> and <code style="display: inline;"><span class="qtext">AT SELECTION-SCREEN</span></code> without additions. <br>
Events for processing a specific input field, for processing multiple selections, and for processing all user input. <br> <br>
</li>

<li>
Actions before data is read. <br> <br>Subroutine <code style="display: inline;"><span class="qtext">before_event</span></code> with parameter <span class="qtext400">&quot;START-OF-SELECTION&quot;</span> <br>
The logical database can perform actions before data is read, such as initializing tables. <br> <br>Event block <code style="display: inline;"><span class="qtext">START-OF-SELECTION</span></code> <br>
The first reporting event after selection screen processing. Preparations can be performed in the program in this event block. <br> <br>
</li>

<li>
Reading data in the logical database and processing in the executable program. <br> <br>Subroutines <code style="display: inline;"><span class="qtext">put_node</span></code> <br>
The logical database reads the selected data of the node <code style="display: inline;"><span class="qtext">node</span></code>. <br> <br>Event block <code style="display: inline;"><span class="qtext"> GET table <i class="bn">[</i>LATE<i class="bn">]</i></span></code> <br>
This event is raised in the subroutine above by the <code style="display: inline;"><span class="qtext">PUT</span></code> statement. In this
event block, the data read for <code style="display: inline;"><span class="qtext">node</span></code> can be passed from the corresponding interface work area. <br> <br>
</li>

<li>
Actions after data is read. <br> <br>Subroutine <code style="display: inline;"><span class="qtext">after_event</span></code> with parameter <span class="qtext400">&quot;END-OF-SELECTION&quot;</span> <br>
The logical database can perform actions before data is read, such as releasing memory. <br> <br>Event block <code style="display: inline;"><span class="qtext">END-OF-SELECTION</span></code> <br>
Last reporting event. In this event block, all buffered data can be edited (for example, sorted). <br> <br>
</li>

<li>
If the steps above involve writing data to a classic list, control is passed from the runtime environment to the list processor and the list is displayed.
</li>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>Authorization checks performed by the statement <a href="../abapauthority-check" class="blue"><span class="qtext">
AUTHORITY-CHECK</span></a> are useful in the following subroutines of the database program or the event blocks of the executable program:</p>
<ul>

<li>Subroutines <code style="display: inline;"><span class="qtext">pai</span></code> and <code style="display: inline;"><span class="qtext">authority_check...</span></code></li>

</ul>

<ul>

<li>Event blocks <code style="display: inline;"><span class="qtext">AT SELECTION SCREEN ...</span></code> and <code style="display: inline;"><span class="qtext">GET</span></code></li>

</ul>

<p>Authorization checks should always be implemented centrally and should be reusable in the logical database
program. The actual location of an authorization check (in the database program or in the executable program) can depend on the following factors, however:</p>
<ul>

<li>The structure of the logical database. For example, in the case where a company code authorization is only to be checked when a row with the Company Code field is read at runtime as well.</li>

</ul>

<ul>

<li>Performance. Multiple checks, for example within <code style="display: inline;"><span class="qtext">SELECT</span></code> loops, should be avoided.</li>

</ul>

</div>

<h3 id="executable-example">Executable Example</h3>
<p><a href="../abenreport_abexa" class="blue">Logical Database, Associated with a Program</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>