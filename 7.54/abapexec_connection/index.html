


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>EXEC SQL - CONNECT - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exec-sql-connect" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              EXEC SQL - CONNECT
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#open-connection" class="md-nav__link">
    Open Connection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selecting-a-connection" class="md-nav__link">
    Selecting a Connection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syntax_1" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#determining-the-connection" class="md-nav__link">
    Determining the Connection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syntax_2" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#close-connection" class="md-nav__link">
    Close connection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syntax_3" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_3" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abapexec_connection.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="exec-sql-connect">EXEC SQL - CONNECT</h1>
<p>A connection must be defined with the database before
<a href="../abennative_sql_glosry" class="grey" title="Glossary Entry">Native SQL</a> statements can be used. When
<a href="../abensap_nw_abap_glosry" class="grey" title="Glossary Entry">AS ABAP</a> is started, a
<a href="../abenstandard_db_connection_glosry" class="grey" title="Glossary Entry">standard connection</a> from the database interface to the
<a href="../abenstandard_db_glosry" class="grey" title="Glossary Entry">standard
AS ABAP database</a> is opened. This connection is defined as the current connection for embedded Native SQL statements and as a standard connection for
<a href="../abenopen_sql_glosry" class="grey" title="Glossary Entry">ABAP SQL</a> statements when an
ABAP program is started. Use the following SAP-specific Native SQL statements, to start additional database connections. These connections can be accessed in static Native SQL.</p>
<p>The possible additional AS ABAP connections to database systems are
<a href="../abensecondary_db_connection_glosry" class="grey" title="Glossary Entry">secondary connections</a> defined in the database table <span class="lnkgrey">DBCON</span> or
<a href="../abenservice_connection_glosry" class="grey" title="Glossary Entry">service connections</a> whose name starts with <span class="qtext400">R/3*</span>.</p>
<ul>

<li><a href="#@@ITOC@@ABAPEXEC_CONNECTION_1" class="blue">Open Connection</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABAPEXEC_CONNECTION_2" class="blue">Selecting a Connection</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABAPEXEC_CONNECTION_3" class="blue">Determining the Connection</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABAPEXEC_CONNECTION_4" class="blue">Close connection</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABAPEXEC_CONNECTION_5" class="blue">Example</a></li>

</ul>

<p><a href="../abapexec_connection">7.31</a> <a href="../abapexec_connection">7.40</a> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abennative_sql" class="blue">Native SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abennativesql" class="blue">EXEC SQL - Embedded Native SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abapexec" class="blue">EXEC SQL</a>&#xA0;</small>
<br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>Detailed information about database connections can be found <a href="../abenopensql_multiconnect" class="blue">here</a>.</p>
<p><a name="@@CONNECT TO@@EXEC SQL@@"></a>
<a name="@@ITOC@@ABAPEXEC_CONNECTION_1"></a>
</div></p>
<h2 id="open-connection">Open Connection</h2>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">EXEC SQL.</span> <br><span class="qtext">&#xA0;&#xA0;CONNECT TO conn <i class="bn">[</i>AS name<i class="bn">]</i></span> <br><span class="qtext">ENDEXEC.</span> 
</code></pre></p>
<h3 id="effect">Effect</h3>
<p>This static Native SQL statement requests a database connection called <code style="display: inline;"><span class="qtext">conn</span></code>.
This connection is opened (or reused) if it already exists in an inactive state for the current work
process. Once <code style="display: inline;"><span class="qtext">CONNECT TO</span></code> is executed, the specified connection is the current
connection of the internal session, which means that all subsequent static Native SQL statements work
with this connection until a connection other than the current is set using a new <code style="display: inline;"><span class="qtext">CONNECT TO</span></code> statement or using <code style="display: inline;"><span class="qtext">SET CONNECTION</span></code>.</p>
<p>For <code style="display: inline;"><span class="qtext">conn</span></code>, a a literal or a <a href="../abapexec_host" class="blue">host variable</a> that contains one of the following values can be specified:</p>
<ul>

<li>
A name from the column CON_NAME of the database table <span class="lnkgrey">DBCON</span> used to specify a <a href="../abensecondary_db_connection_glosry" class="grey" title="Glossary Entry">secondary connection</a>
</li>
<li>
A name with the prefix <span class="qtext400">R/3*</span> used to specify a <a href="../abenservice_connection_glosry" class="grey" title="Glossary Entry">service connection</a>
<br></li>

</ul>

<p>Both of these instances are case-sensitive. If a secondary connection that is not in the database table <span class="lnkgrey">DBCON</span> is specified, a handleable exception of the class CX_SY_NATIVE_SQL_ERROR is raised. If a
<a href="../abensecondary_db_glosry" class="grey" title="Glossary Entry">secondary database</a> cannot be reached, <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is set to 4.</p>
<p>The addition <code style="display: inline;"><span class="qtext">AS</span></code> can be used to specify a name <code style="display: inline;"><span class="qtext">name</span></code>
for the connection. For <code style="display: inline;"><span class="qtext">name</span></code>, a literal or a character-like host variable
can be specified whose content is used as the name. A connection called <code style="display: inline;"><span class="qtext">name</span></code>
is not the same connection as a connection requested without using the addition <code style="display: inline;"><span class="qtext">AS</span></code>.
This makes it possible to open parallel connections with separate database LUWs for the same secondary
connection or service connection within an internal session, In an internal session, only one active
database session can be called <code style="display: inline;"><span class="qtext">name</span></code>. Any attempt to activate a further connection
with the same name produces a runtime error. A connection called <code style="display: inline;"><span class="qtext">name</span></code> can only be specified in the statement <code style="display: inline;"><span class="qtext">SET CONNECTION</span></code> using this name.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The <a href="../abenstandard_db_connection_glosry" class="grey" title="Glossary Entry">standard connection</a> cannot be requested using <code style="display: inline;"><span class="qtext">CONNECT TO</span></code>.
</li>

<li>
A name granted using <code style="display: inline;"><span class="qtext">AS</span></code> can also be used in ABAP SQL after the addition <span class="qtext">
CONNECTION</span> and in the statements <a href="../abapcommit_rollback_connection" class="blue"><span class="qtext">
COMMIT CONNECTION</span></a> and <a href="../abapcommit_rollback_connection" class="blue"><code style="display: inline;"><span class="qtext">ROLLBACK CONNECTION</span></code></a>, as long as it is in uppercase letters.
<br></li>

<p></ul>
<a name="@@SET CONNECTION@@EXEC SQL@@"></a>
<a name="@@ITOC@@ABAPEXEC_CONNECTION_2"></a>
</div></p>
<h2 id="selecting-a-connection">Selecting a Connection</h2>
<h2 id="syntax_1">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">EXEC SQL.</span> <br><span class="qtext">&#xA0;&#xA0;SET CONNECTION <i class="bn">{</i>conn<i class="bn">|</i>DEFAULT<i class="bn">}</i></span> <br><span class="qtext">ENDEXEC.</span>
</code></pre></p>
<h3 id="effect_1">Effect</h3>
<p>This static Native SQL statement sets the current connection for all following static Native SQL statements.
For <code style="display: inline;"><span class="qtext">conn</span></code>, a literal or a character-like host variable can be specified that contains the name of connection activated in the current connection.</p>
<ul>

<li>
<span class="qtext400">DEFAULT</span> in uppercase letters or <code style="display: inline;"><span class="qtext">DEFAULT</span></code> specified directly can be used to specified the
<a href="../abenstandard_db_connection_glosry" class="grey" title="Glossary Entry">standard connection</a>.
</li>
<li>
A secondary or service connection activated using <code style="display: inline;"><span class="qtext">CONNECT TO</span></code> without specifying a name after <code style="display: inline;"><span class="qtext">AS</span></code> can be specified under its name <code style="display: inline;"><span class="qtext">conn</span></code>.
</li>
<li>
A secondary or service connection activated using <code style="display: inline;"><span class="qtext">CONNECT TO</span></code> while specifying a name after <code style="display: inline;"><span class="qtext">AS</span></code> can be specified under this name <code style="display: inline;"><span class="qtext">name</span></code>.
<br></li>

</ul>

<p>All of these instances are case-sensitive. When an unknown connection is specified, the current connection remains unchanged and <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is set to 4.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
When a current connection is switched to a different current connection, no database LUW is closed and no new LUW is opened.
</li>

<li>
Any changes to the current connection are applied only in static Native SQL after <code style="display: inline;"><span class="qtext">EXEC SQL</span></code>. ABAP SQL and any other variant of Native SQL remain unaffected.
</li>

<li>
The current connection is switched regardless of whether the connections in question are active or (after their database LUWs are closed) inactive.
<br></li>

<p></ul>
<a name="@@GET CONNECTION@@EXEC SQL@@"></a>
<a name="@@ITOC@@ABAPEXEC_CONNECTION_3"></a>
</div></p>
<h2 id="determining-the-connection">Determining the Connection</h2>
<h2 id="syntax_2">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">EXEC SQL.</span> <br><span class="qtext">&#xA0;&#xA0;GET CONNECTION :conn</span> <br><span class="qtext">ENDEXEC.</span>
</code></pre></p>
<h3 id="effect_2">Effect</h3>
<p>This static Native SQL statement assigns the name of the current connection to <code style="display: inline;"><span class="qtext">conn</span></code>.
<code style="display: inline;"><span class="qtext">conn</span></code> expects a character-like host variable. If the current connection was
activated using the statement <code style="display: inline;"><span class="qtext">CONNECT TO</span></code> and <code style="display: inline;"><span class="qtext">AS</span></code>
was used to give it a name at the same time, this name is assigned. If the connection is activated without
being given a name, the name of the secondary connection or service connection is assigned. If the current connection is the standard connection, the value <span class="qtext400">DEFAULT</span> is assigned.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>The current connection can be active or (after its database LUW is closed) inactive.</p>
<p><a name="@@DISCONNECT@@EXEC SQL@@"></a>
<a name="@@ITOC@@ABAPEXEC_CONNECTION_4"></a>
</div></p>
<h2 id="close-connection">Close connection</h2>
<h2 id="syntax_3">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">EXEC SQL.</span> <br><span class="qtext">&#xA0;&#xA0;DISCONNECT conn</span> <br><span class="qtext">ENDEXEC.</span>
</code></pre></p>
<h3 id="effect_3">Effect</h3>
<p>This static Native SQL statement closes the connection <code style="display: inline;"><span class="qtext">conn</span></code> for the current work process, which discards all database changes not yet committed using a
<a href="../abendb_commit" class="blue">database commit</a>. For <code style="display: inline;"><span class="qtext">conn</span></code>, a
literal or a character-like host variable can be specified that contains the name of a secondary connection or service connection activated in the internal session.</p>
<ul>

<li>
A secondary or service connection activated using <code style="display: inline;"><span class="qtext">CONNECT TO</span></code> without specifying a name after <code style="display: inline;"><span class="qtext">AS</span></code> can be specified under its name <code style="display: inline;"><span class="qtext">conn</span></code>.
</li>
<li>
A secondary or service connection activated using <code style="display: inline;"><span class="qtext">CONNECT TO</span></code> while specifying a name after <code style="display: inline;"><span class="qtext">AS</span></code> can be specified under this name <code style="display: inline;"><span class="qtext">name</span></code>.
<br></li>

</ul>

<p>If anything else is specified (most specifically <span class="qtext400">DEFAULT</span>), a runtime error
occurs. If the closed secondary connection or service connection is the current connection, the standard connection is set as the new current connection implicitly. All of these instances are case-sensitive.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The closed connection can be active or (after its database LUW is closed) inactive.
</li>

<li>
It is recommended that database connections are only closed implicitly by the ABAP runtime environment and not explicitly, since it takes a lot of resources to restore a connection.
<br></li>

<p></ul>
<a name="@@ITOC@@ABAPEXEC_CONNECTION_5"></a>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Opens a connection to an SAP HANA database and imports all entries of a column in the database table SCARR.</p>
<div class="highlight"><pre><span></span><code><span class="k">DATA</span> <span class="nv">conn</span> <span class="k">TYPE </span><span class="nv">dbcon</span><span class="o">-</span><span class="nv">con_name</span><span class="p">.</span> 
<span class="nv">cl_demo_input</span><span class="o">=&gt;</span><span class="nf">request</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">conn</span> <span class="p">).</span> 

<span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="nv">dbms</span> 
       <span class="k">FROM</span> <span class="nv">dbcon</span> 
       <span class="k">WHERE</span> <span class="nv">con_name</span> <span class="o">=</span> <span class="err">@</span><span class="nv">conn</span> <span class="ow">AND</span> 
             <span class="nv">dbms</span>     <span class="o">=</span> <span class="s1">&#39;HDB&#39;</span> 
       <span class="k">INTO</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">dbtype</span><span class="p">).</span> 

<span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">.</span> 
  <span class="k">RETURN</span><span class="p">.</span> 
<span class="k">ENDIF</span><span class="p">.</span> 

<span class="k">TRY</span><span class="p">.</span> 
    <span class="nv">EXEC</span> <span class="nv">SQL</span><span class="p">.</span> 
      <span class="nv">CONNECT</span> <span class="k">TO</span> <span class="p">:</span><span class="nv">conn</span> 
    <span class="nv">ENDEXEC</span><span class="p">.</span> 
    <span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">.</span> 
      <span class="k">RAISE</span> <span class="k">EXCEPTION</span> <span class="k">TYPE </span><span class="nv">cx_sy_native_sql_error</span> 
        <span class="k">EXPORTING</span> 
          <span class="nv">textid</span> <span class="o">=</span> <span class="nv">cx_sy_native_sql_error</span><span class="o">=&gt;</span><span class="nv">cx_sy_native_sql_error</span><span class="p">.</span> 
    <span class="k">ENDIF</span><span class="p">.</span> 
    <span class="nv">EXEC</span> <span class="nv">SQL</span><span class="p">.</span> 
      <span class="nv">OPEN</span> <span class="nv">dbcur</span> <span class="k">FOR</span> 
        <span class="k">SELECT</span> <span class="nv">carrid</span> 
               <span class="k">FROM</span> <span class="nv">scarr</span> 
               <span class="k">WHERE</span> <span class="nv">mandt</span> <span class="o">=</span> <span class="p">:</span><span class="nv">sy</span><span class="o">-</span><span class="nv">mandt</span> 
    <span class="nv">ENDEXEC</span><span class="p">.</span> 
    <span class="k">DATA</span> <span class="nv">carrid</span> <span class="k">TYPE </span><span class="nv">scarr</span><span class="o">-</span><span class="nv">carrid</span><span class="p">.</span> 
    <span class="k">DO</span><span class="p">.</span> 
      <span class="nv">EXEC</span> <span class="nv">SQL</span><span class="p">.</span> 
        <span class="k">FETCH</span> <span class="k">NEXT</span> <span class="nv">dbcur</span> <span class="k">INTO</span> <span class="p">:</span><span class="nv">carrid</span> 
      <span class="nv">ENDEXEC</span><span class="p">.</span> 
      <span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">.</span> 
        <span class="k">EXIT</span><span class="p">.</span> 
      <span class="k">ELSE</span><span class="p">.</span> 
        <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="p">|{</span> <span class="nv">carrid</span> <span class="p">}|</span> <span class="p">).</span> 
      <span class="k">ENDIF</span><span class="p">.</span> 
    <span class="k">ENDDO</span><span class="p">.</span> 
    <span class="nv">EXEC</span> <span class="nv">SQL</span><span class="p">.</span> 
      <span class="nv">CLOSE</span> <span class="nv">dbcur</span> 
    <span class="nv">ENDEXEC</span><span class="p">.</span> 
    <span class="nv">EXEC</span> <span class="nv">SQL</span><span class="p">.</span> 
      <span class="nv">DISCONNECT</span> <span class="p">:</span><span class="nv">conn</span> 
    <span class="nv">ENDEXEC</span><span class="p">.</span> 
  <span class="k">CATCH</span> <span class="nv">cx_sy_native_sql_error</span> <span class="k">INTO</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">exc</span><span class="p">).</span> 
    <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="nv">exc</span><span class="o">-&gt;</span><span class="nf">get_text</span><span class="p">(</span> <span class="p">)</span> <span class="p">).</span> 
<span class="k">ENDTRY</span><span class="p">.</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="p">).</span> 
</code></pre></div>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abapexec/" title="EXEC SQL" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                EXEC SQL
              </div>
            </div>
          </a>
        
        
          <a href="../abapexec_cursor/" title="EXEC SQL - OPEN, FETCH, CLOSE" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                EXEC SQL - OPEN, FETCH, CLOSE
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>