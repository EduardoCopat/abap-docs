


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenamdp procedure methods - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#amdp-procedure-implementations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenamdp procedure methods
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abenamdp_procedure_methods.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abenamdp" class="blue">AMDP - ABAP Managed Database Procedures</a>&#xA0;&#x2192;&#xA0;
<a href="../abenamdp_methods" class="blue">AMDP - Methods</a>&#xA0;</small></p>
<h1 id="amdp-procedure-implementations">AMDP - Procedure Implementations</h1>
<p>An AMDP procedure implementation is an AMDP method for implementing a
<a href="../abendatabase_procedure_glosry" class="grey" title="Glossary Entry">database procedure</a>. It is declared in an
<a href="../abenamdp_classes" class="blue">AMDP class</a> like a regular
<a href="../abenstatic_method_glosry" class="grey" title="Glossary Entry">static method</a> or
<a href="../abeninstance_method_glosry" class="grey" title="Glossary Entry">instance method</a> in any
<a href="../abenvisibility_section_glosry" class="grey" title="Glossary Entry">visibility section</a>. An AMDP procedure implementation cannot be identified as an AMDP method in the declaration part of the class.</p>
<p>An AMDP function implementation is indicated as an AMDP method in the implementation part of the class
using the addition <a href="../abapmethod_by_db_proc" class="blue"><span class="qtext">BY DATABASE
FUNCTION</span></a> of the statement <code style="display: inline;"><span class="qtext">METHOD</span></code>. At the same time, the database
system where the method is used and the programming language of the database system used to implement
the method are also defined. The database objects of the current database schema accessed in the AMDP
method must be declared using an addition <a href="../abapmethod_by_db_proc" class="blue"><code style="display: inline;"><span class="qtext">USING</span></code></a>.
If possible, the syntax check is performed on the basis of this information. When database tables defined
in ABAP Dictionary are accessed (and the access is known statically), the AMDP framework makes sure
that the order of the fields defined in the dictionary is respected (this may be different from the order on the database).</p>
<p>The following restrictions apply, however, with respect to the <a href="../abenparameter_interface_glosry" class="grey" title="Glossary Entry">parameter interface</a> of an AMDP procedure implementation:</p>
<ul>

<li>The typing of the parameters cannot be <a href="../abengeneric_typing_glosry" class="grey" title="Glossary Entry">generic</a>. Only
<a href="../abenelementary_data_type_glosry" class="grey" title="Glossary Entry">elementary data types</a> and
<a href="../abentable_type_glosry" class="grey" title="Glossary Entry">table types</a> with a structured row type can be used. The row type of a tabular type can only contain elementary data types as components</li>

</ul>

<ul>

<li>A parameter cannot have an <a href="../abenenumerated_type_glosry" class="grey" title="Glossary Entry">enumerated type</a> and cannot have a component with an enumerated type.</li>

</ul>

<ul>

<li>A parameter cannot be typed with a data type that references one of the obsolete built-in data types
<a href="../abenddic_builtin_types" class="blue">DF16_SCL</a> or <a href="../abenddic_builtin_types" class="blue">DF34_SCL</a> in ABAP Dictionary.</li>

</ul>

<ul>

<li>The parameters must be declared using <a href="../abapmethods_parameters" class="blue"><code style="display: inline;"><span class="qtext">VALUE</span></code></a> for
<a href="../abenpass_by_value_glosry" class="grey" title="Glossary Entry">pass by value</a>.
<a href="../abenpass_by_reference_glosry" class="grey" title="Glossary Entry">Pass by reference</a> is not permitted.</li>

</ul>

<ul>

<li><a href="../abenreturn_value_glosry" class="grey" title="Glossary Entry">Return
values</a> cannot be declared using <a href="../abapmethods_functional" class="blue"><code style="display: inline;"><span class="qtext">RETURNING</span></code></a>.</li>

</ul>

<ul>

<li>Only <a href="../abeninput_parameter_glosry" class="grey" title="Glossary Entry">input parameters</a> can be flagged as optional parameters.</li>

</ul>

<ul class="circlem2">

<li>Each elementary optional input parameter must have a replacement parameter declared using <a href="../abapmethods_parameters" class="blue">
<code style="display: inline;"><span class="qtext">DEFAULT</span></code></a>. Only literals or constants can be specified as replacement parameters.</li>

</ul>

<ul class="circlem2">

<li>Unlike in <a href="../abapmethods_parameters" class="blue">regular methods</a>, a literal specified
as a replacement parameter must be convertible to the data type of the input parameter. If not, a syntax error occurs.</li>

</ul>

<ul class="circlem2">

<li>Input parameters of the types <code style="display: inline;"><span class="qtext">string</span></code>,
 <code style="display: inline;"><span class="qtext">xstring</span></code>, <code style="display: inline;"><span class="qtext">decfloat16</span></code>, and <code style="display: inline;"><span class="qtext">decfloat34</span></code> cannot have replacement parameters and hence cannot be optional.</li>

</ul>

<ul class="circlem2">

<li>An optional tabular input parameter cannot have any replacement parameters and must be made optional instead using <a href="../abapmethods_parameters" class="blue"><code style="display: inline;"><span class="qtext">OPTIONAL</span></code></a>.</li>

</ul>

<ul>

<li>Parameter names:</li>

</ul>

<ul class="circlem2">

<li>Parameter names cannot start with the characters &quot;%_&quot;.</li>

</ul>

<ul class="circlem2">

<li>The parameter name <code style="display: inline;"><span class="qtext">connection</span></code> can only be used for an input parameter
of type <span class="lnkgrey">DBCON_NAME</span>, if the name of the database connection can be passed to the input parameter.</li>

</ul>

<ul class="circlem2">

<li>The parameter name <code style="display: inline;"><span class="qtext">client</span></code> is reserved for future enhancements.</li>

</ul>

<ul class="circlem2">

<li>The parameter name <code style="display: inline;"><span class="qtext">endmethod</span></code> is not permitted.</li>

</ul>

<ul>

<li><a href="../abapmethods_general" class="blue"><code style="display: inline;"><span class="qtext">RAISING</span></code></a> can be used to specify the the exceptions specified under
<a href="../abenamdp_exceptions" class="blue">AMDP -Exception Classes</a> to handle these classes for
a call. Other exceptions cannot be handled. No non-class-based exceptions can be created using the addition <a href="../abapmethods_general" class="blue"><code style="display: inline;"><span class="qtext">EXCEPTIONS</span></code></a>.</li>

</ul>

<p>The following restrictions apply to method implementation:</p>
<ul>

<li>An AMDP method must not be empty.</li>

</ul>

<ul>

<li><a href="../abenddl_glosry" class="grey" title="Glossary Entry">DDL</a> statements are not permitted for creating, changing or deleting database objects.</li>

</ul>

<ul>

<li>No statements are allowed that are only possible in database tables and not in views, such as <span class="qtext400">TRUNCATE TABLE</span> or <span class="qtext400">LOCK TABLE</span>.</li>

</ul>

<ul>

<li>Local temporary database objects cannot be accessed.</li>

</ul>

<ul>

<li>Executing transactional statements is not permitted. In particular, no
<a href="../abendb_commit" class="blue">database commits</a> and
<a href="../abendb_rollback" class="blue"> database rollbacks</a> using <span class="qtext400">COMMIT</span> and <span class="qtext400">ROLLBACK</span> statements are allowed. This also applies to called procedures.
<a href="../abenluw_glosry" class="grey" title="Glossary Entry">LUWs</a> should always be handled in the ABAP program, to ensure data consistency between procedures.</li>

</ul>

<ul>

<li>Writes cannot be performed on database tables where
<a href="../abensap_buffering_glosry" class="grey" title="Glossary Entry">table buffering</a> is switched on, since SQLScript accesses are ignored by buffer synchronizations.</li>

</ul>

<ul>

<li>AMDP methods do not have any <a href="../abenimplicit_enh_points" class="blue">implicit enhancement options</a>.</li>

</ul>

<p>Further restrictions may apply depending on the programming language of the database system and these are discussed in the corresponding sections:</p>
<ul>

<li><a href="../abenamdp_hdb_sqlscript" class="blue">SQL Script for the SAP HANA Database</a></li>

</ul>

<ul>

<li><a href="../abenamdp_hdb_l_internal" class="blue">L for the SAP HANA Database</a> (used internally at SAP only)</li>

</ul>

<p>Other versions: 
 <s><i>7.31</i></s> | <s><i>7.40</i></s> | <b>7.54</b></p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>It is strongly recommended that only the character set 7-bit-ASCII is used when implementing an AMDP method.</li>

<p></ul>
<ul></p>
<li>The use of dynamic programming techniques is strongly discouraged, even if supposedly permitted by the programming language of the database system.</li>

<p></ul>
<ul class="circlem2"></p>
<li>The existence of other database objects cannot be checked or guaranteed when they are accessed dynamically. This is particularly relevant when other AMDP methods are called.</li>

<p></ul>
<ul class="circlem2"></p>
<li>When database tables in ABAP Dictionary are accessed dynamically, the AMDP framework cannot respect
the order of the fields defined here and the order of fields on the database (which might be different)
is used instead. This can produce the wrong values when making assignments to ABAP data objects declared with respect to ABAP Dictionary.</li>

<p></ul>
<ul class="circlem2"></p>
<li>In dynamic accesses, it is not possible to prevent writes from being performed on database tables with activated table buffering and this can cause inconsistencies in buffer synchronizations.</li>

<p></ul>
<ul class="circlem2"></p>
<li>Dynamic accesses can be the cause of <a href="../abensql_inj_amdp_scrty" class="blue">SQL injections</a> related to input from outside.</li>

<p></ul>
<ul></p>
<li>When passed to an actual parameter, a <a href="../abennull_value_glosry" class="grey" title="Glossary Entry">null value</a> is passed to its type-dependent initial value.</li>

</ul>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>