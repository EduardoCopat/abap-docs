


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abentable exp result - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#table_exp-result" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abentable exp result
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternatives" class="md-nav__link">
    Alternatives
  </a>
  
    <nav class="md-nav" aria-label="Alternatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-1" class="md-nav__link">
    Alternative 1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-2" class="md-nav__link">
    Alternative 2
  </a>
  
    <nav class="md-nav" aria-label="Alternative 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-example" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-3" class="md-nav__link">
    Alternative 3
  </a>
  
    <nav class="md-nav" aria-label="Alternative 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abentable_exp_result.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_data_working" class="blue">Processing Internal Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenitab" class="blue">Internal Tables</a>&#xA0;&#x2192;&#xA0;
<a href="../abentable_processing_expr_func" class="blue">Expressions and Functions for Internal Tables</a>&#xA0;&#x2192;&#xA0;
<a href="../abentable_expressions" class="blue">table_exp - Table Expressions</a>&#xA0;</small></p>
<h1 id="table_exp-result">table_exp - Result</h1>
<p>Other versions: 
 <s><i>7.31</i></s> | <a href="../../7.40/abentable_exp_result">7.40</a> | <b>7.54</b></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">... <i class="bn">{</i>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0; itab[ <a href="../abentable_exp_itab_line" class="blue">itab_line</a> ]<a href="../abentable_exp_chaining" class="blue"><i class="bn">[</i>...<i class="bn">]</i></a> <i class="bn">}</i></span> <br>
<span class="qtext">&#xA0;&#xA0;<i class="bn">|</i> <i class="bn">{</i> VALUE type( itab[
<a href="../abentable_exp_itab_line" class="blue">itab_line</a> ]<a href="../abentable_exp_chaining" class="blue"><i class="bn">[</i>...<i class="bn">]</i></a> <i class="bn">[</i>
<a href="../abentable_exp_optional_default" class="blue">default</a><i class="bn">]</i> ) <i class="bn">}</i></span> <br>
<span class="qtext">&#xA0;&#xA0;<i class="bn">|</i> <i class="bn">{</i> REF&#xA0;&#xA0; type( itab[
<a href="../abentable_exp_itab_line" class="blue">itab_line</a> ]<a href="../abentable_exp_chaining" class="blue"><i class="bn">[</i>...<i class="bn">]</i></a> <i class="bn">[</i>
<a href="../abentable_exp_optional_default" class="blue">default</a><i class="bn">]</i>&#xA0;&#xA0;) <i class="bn">}</i> ...</span> 
</code></pre></p>
<h2 id="alternatives">Alternatives</h2>
<p><a href="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... itab[ ... ]<i class="bn">[</i>...<i class="bn">]</i></span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... VALUE type( itab[ ... ]<i class="bn">[</i>...<i class="bn">]</i> <i class="bn">[</i>default<i class="bn">]</i> )</span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <code style="display: inline;"><span class="qtext">... REF type( itab[ ... ]<i class="bn">[</i>...<i class="bn">]</i> <i class="bn">[</i>default<i class="bn">]</i> )</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>If a <a href="../abentable_expressions" class="blue">table expression</a> is specified in a
<a href="../abengeneral_expr_position_glosry" class="grey" title="Glossary Entry">general expression position</a> or in a
<a href="../abenfunctional_position_glosry" class="grey" title="Glossary Entry">functional operand position</a>, the read row can be passed to this position in three different ways:</p>
<ul>

<li>As a <a href="../abenfield_symbol_glosry" class="grey" title="Glossary Entry">field symbol</a> to which the table row is assigned.</li>

</ul>

<ul>

<li>As a <a href="../abenwork_area_glosry" class="grey" title="Glossary Entry">work area</a> that contains the content of the table row.</li>

</ul>

<ul>

<li>As a <a href="../abendata_reference_variable_glosry" class="grey" title="Glossary Entry">data reference variable</a> that points to the table row.</li>

</ul>

<p>The result of a table expression is only available temporarily. It is used as an operand of a statement
and then deleted again. It is deleted when the current statement is closed or after the analysis of a relational expression once the truth value is determined.</p>
<p>The alternative ways of specifying a table expression shown here define the method used to return the
table row. A default value <a href="../abentable_exp_optional_default" class="blue"><code style="display: inline;"><span class="qtext">default</span></code></a> can be specified for the result in two alternatives.  </p>
<p><a name="!ABAP_ALTERNATIVE_1@1@"></a></p>
<h2 id="alternative-1">Alternative 1</h2>
<p><code style="display: inline;"><span class="qtext">... itab[ ... ]</span></code><br />
 <br><!-- /A --></p>
<p><a name="!ABAP_ALTERNATIVE_2@2@"></a></p>
<h2 id="alternative-2">Alternative 2</h2>
<p><code style="display: inline;"><span class="qtext">... VALUE type( itab[ ... ] <i class="bn">[</i>default<i class="bn">]</i> )</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_1">Effect</h3>
<p>Both alternatives can be specified in all reading positions for table expressions in which the row type matches the operand type (see also
<a href="../abentable_exp_chaining" class="blue">Chainings</a>). The result is either a temporary field
symbol, a temporary work area, or the value is assigned directly to a target variable. If the value
operator <code style="display: inline;"><span class="qtext">VALUE</span></code> is used, an optional default value <a href="../abentable_exp_optional_default" class="blue">
<code style="display: inline;"><span class="qtext">default</span></code></a> can be specified for cases where no table row is found.</p>
<ul>

<li>If the table expression is not specified as an operand of the value operator <a href="../abenconstructor_expression_value" class="blue">
<code style="display: inline;"><span class="qtext">VALUE</span></code></a> or of the reference operator <a href="../abenconstructor_expression_ref" class="blue">
<code style="display: inline;"><span class="qtext">REF</span></code></a>, the result is usually a temporary field symbol typed with the row
type of the internal table and to which the table row in question is assigned. For performance reasons, there are exceptions to this rule in the following cases:</li>

</ul>

<ul class="circlem2">

<li>If the table expression is specified as the right side of an
<a href="../abenequals_operator" class="blue">assignment</a>, the content of the table row or a
<a href="../abentable_exp_chaining" class="blue">component</a> is assigned directly to the target variable instead of a temporary result being produced.</li>

</ul>

<ul class="circlem2">

<li>If the row type of the internal table is flat and thin and used directly in the operand position
(for example as an operand of an arithmetic expression or as a formal parameter for an actual parameter where pass by value is declared), the result is a temporary work area.</li>

</ul>

<ul>

<li>If the table expression is specified as an operand of the value operator <a href="../abenconstructor_expression_value" class="blue">
<code style="display: inline;"><span class="qtext">VALUE</span></code></a>, the result is always a temporary work area, except if the expression is specified as the right side of an
<a href="../abenequals_operator" class="blue">assignment</a>. The data type of the work area is determined
by specifying <a href="../abenconstructor_expression_value" class="blue"><code style="display: inline;"><span class="qtext">type</span></code></a> for the constructor expression:</li>

</ul>

<ul class="circlem2">

<li>If the <code style="display: inline;"><span class="qtext">#</span></code> character is specified for <code style="display: inline;"><span class="qtext">type</span></code> and
the data type required in an operand position is known uniquely and completely, the operand type is used. Otherwise the row type of the internal table or of a
<a href="../abentable_exp_chaining" class="blue">chaining</a> specified here is applied.</li>

</ul>

<ul class="circlem2">

<li>If a non-generic data type <code style="display: inline;"><span class="qtext">dtype</span></code> is specified for <code style="display: inline;"><span class="qtext">type</span></code>,
the row type of the internal table must be compatible with this data type or be convertible to this
data type. In this case, the temporary work area has the data type <code style="display: inline;"><span class="qtext">dtype</span></code> and the data of the row in question is converted to this data type, if necessary, in accordance with the
<a href="../abenconversion_rule_glosry" class="grey" title="Glossary Entry">conversion rules</a>.</li>

</ul>

<dd>
If the expression is specified as the right side of an
<a href="../abenequals_operator" class="blue">assignment</a>, the content of the table row or
<a href="../abentable_exp_chaining" class="blue">component</a> is also assigned directly when using <code style="display: inline;"><span class="qtext">VALUE</span></code>.
</dd>

<p>In most cases, it is transparent (and irrelevant) whether the result is made available as a field symbol
or as a work area. In some cases, however, performance reasons or side effects dictate that the standard behavior is suspended and data written explicitly to a temporary work area instead.</p>
<ul>

<li>For notes about performance, see the programming guideline
<a href="../abentable_output_guidl" class="lnkpurple" title="Guideline">Output Behavior</a>. This guideline should also be respected when using table expressions. In the
<a href="../abenextended_program_check_glosry" class="grey" title="Glossary Entry">extended program
checks</a>, a syntax check warning (which can hidden using a pragma) is produced if there is an obvious violation of the rule.</li>

</ul>

<ul>

<li>Side effects can occur if the row of the internal table to which the temporary field symbol points is modified while the binding to the field symbol persists.</li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>A table expression whose result is a temporary field symbol can be viewed as a short form of the
statement <a href="../abapread_table" class="blue"><code style="display: inline;"><span class="qtext">READ TABLE</span></code></a> with the
addition <a href="../abapread_table_outdesc" class="blue"><code style="display: inline;"><span class="qtext">ASSIGNING</span></code></a>
an table expression whose result is a temporary work area can be viewed as a short form of this statement
with the addition <a href="../abapread_table_outdesc" class="blue"><code style="display: inline;"><span class="qtext">INTO</span></code></a>. The corresponding rules and notes apply.</li>

<p></ul>
<ul></p>
<li>More specifically, <a href="../abapread_table_outdesc" class="blue">restrictions</a> with respect
to modifying key fields apply to table expressions (in writer positions) whose results are temporary field symbols.</li>

<p></ul>
<ul></p>
<li>In variant 1, the compiler decides whether the result is a field symbol or a work area, not the table content at runtime.</li>

<p></ul>
<ul></p>
<li><a href="../abentable_exp_chaining" class="blue">Chainings</a> of table expressions can also be
specified as an argument of the value operator <code style="display: inline;"><span class="qtext">VALUE</span></code>. This argument then determines the final result of the chaining.</li>

<p></ul>
<ul></p>
<li>Unlike when using the value operator <a href="../abenconstructor_expression_value" class="blue"><span class="qtext">
VALUE</span></a> for constructing values, you can specify elementary types or reference types for table expressions for <code style="display: inline;"><span class="qtext">type</span></code>.</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following program excerpt shows table expression with field symbols and work areas as a result.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">CLASS</span> <span class="k">class</span> <span class="k">DEFINITION</span><span class="p">.</span> 
  <span class="k">PUBLIC SECTION</span><span class="p">.</span> 
    <span class="k">CLASS-METHODS</span> <span class="nv">meth</span> <span class="k">IMPORTING</span> <span class="nv">p1</span> <span class="k">TYPE </span><span class="nv">i</span>      <span class="nv">OPTIONAL</span> 
                                <span class="nv">p2</span> <span class="k">TYPE </span><span class="nv">string</span> <span class="nv">OPTIONAL</span> 
                                <span class="nv">p3</span> <span class="k">TYPE </span><span class="nv">c</span>      <span class="nv">OPTIONAL</span><span class="p">.</span> 
<span class="k">ENDCLASS</span><span class="p">.</span> 

<span class="k">CLASS</span> <span class="k">class</span> <span class="k">IMPLEMENTATION</span><span class="p">.</span> 
  <span class="k">METHOD</span> <span class="nf">meth</span><span class="p">.</span> 
  <span class="k">ENDMETHOD</span><span class="p">.</span> 
<span class="k">ENDCLASS</span><span class="p">.</span> 

<span class="k">TYPES</span> <span class="nv">text</span>   <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">1000</span><span class="p">.</span> 
<span class="k">DATA</span> <span class="nv">itab</span> <span class="k">TYPE TABLE OF</span> <span class="nv">i</span><span class="p">.</span> 
<span class="k">DATA</span>  <span class="nv">jtab</span> <span class="k">TYPE TABLE OF</span> <span class="nv">string</span><span class="p">.</span> 
<span class="k">DATA</span>  <span class="nv">ktab</span> <span class="k">TYPE TABLE OF</span> <span class="nv">text</span><span class="p">.</span> 

<span class="k">FIELD-SYMBOLS</span> <span class="nv">&lt;itab&gt;</span> <span class="k">TYPE INDEX</span> <span class="k">TABLE</span><span class="p">.</span> 

<span class="k">START-OF-SELECTION</span><span class="p">.</span> 

  <span class="nv">itab</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="p">(</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">).</span> 
  <span class="nv">jtab</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="p">(</span> <span class="nv">CONV</span> <span class="nv">string</span><span class="p">(</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">abcde</span> <span class="p">)</span> <span class="p">)</span> <span class="p">).</span> 
  <span class="nv">ktab</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="p">(</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">abcde</span> <span class="p">)</span> <span class="p">).</span> 

  <span class="k">DATA</span><span class="p">(</span><span class="nv">number</span><span class="p">)</span> <span class="o">=</span> <span class="nv">itab</span><span class="p">[</span> <span class="mi">1</span> <span class="p">].</span> 
  <span class="k">DATA</span><span class="p">(</span><span class="nv">text</span><span class="p">)</span>   <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="nv">jtab</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">).</span> 

  <span class="k">class</span><span class="o">=&gt;</span><span class="nf">meth</span><span class="p">(</span> <span class="nv">p1</span> <span class="o">=</span> <span class="nv">itab</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">)</span>            <span class="cs">##operator</span><span class="p">.</span> 
  <span class="k">class</span><span class="o">=&gt;</span><span class="nf">meth</span><span class="p">(</span> <span class="nv">p2</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="nv">jtab</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="cs">##operator</span><span class="p">.</span> 
  <span class="k">class</span><span class="o">=&gt;</span><span class="nf">meth</span><span class="p">(</span> <span class="nv">p3</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="nv">ktab</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="cs">##operator</span><span class="p">.</span> 

  <span class="k">ASSIGN</span> <span class="nv">itab</span> <span class="k">TO</span> <span class="nv">&lt;itab&gt;</span><span class="p">.</span> 
  <span class="k">class</span><span class="o">=&gt;</span><span class="nf">meth</span><span class="p">(</span> <span class="nv">p1</span> <span class="o">=</span> <span class="nv">&lt;itab&gt;</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">).</span>
</code></pre></div>
<ul></p>
<li>Temporary work areas are passed in the assignments to <code style="display: inline;"><span class="qtext">number</span></code> and <span class="qtext">
text</span>. The <code style="display: inline;"><span class="qtext">VALUE</span></code> operator of the second assignment expresses this explicitly, but is not necessary.</li>

<p></ul>
<ul></p>
<li>In the passes to the formal parameter of the method <code style="display: inline;"><span class="qtext">meth</span></code>, the results
are temporary field symbols by default. In two cases, the <code style="display: inline;"><span class="qtext">VALUE</span></code> operator
forces a work area explicitly. In the extended program checks, all passes produces syntax check warnings that can be hidden here using the pragma <code style="display: inline;"><span class="qtext">##operator</span></code>.</li>

<p></ul>
<ul class="circlem2"></p>
<li>In the pass to the formal parameter <code style="display: inline;"><span class="qtext">p1</span></code>, using a field symbol by default
is bad for performance, since the row is a flat thin table row. The <code style="display: inline;"><span class="qtext">VALUE</span></code> operator is recommended instead.</li>

<p></ul>
<ul class="circlem2"></p>
<li>In the pass to the formal parameter <code style="display: inline;"><span class="qtext">p2</span></code>, specifying a work area explicitly
is bad for performance, since the row is a deep table row. The <code style="display: inline;"><span class="qtext">VALUE</span></code> operator is not recommended here.</li>

<p></ul>
<ul class="circlem2"></p>
<li>In the pass to the formal parameter <code style="display: inline;"><span class="qtext">p3</span></code>, specifying a work area explicitly
is bad for performance, since the row is a wide table row. The <code style="display: inline;"><span class="qtext">VALUE</span></code> operator is not recommended here.</li>

<p></ul>
<ul></p>
<li>When specifying the internal table using a generically typed field symbol <code style="display: inline;"><span class="qtext">itab</span></code>,
using the temporary field symbol by default does not produce a syntax check warning, since no fixed work area can be derived here.</li>

<p></ul>
</div></p>
<h3 id="executable-example">Executable Example</h3>
<p><a href="../abentable_exp_side_effect_abexa" class="blue">Table Expressions, Side Effects</a>  </p>
<p><a name="!ABAP_ALTERNATIVE_3@3@"></a></p>
<h2 id="alternative-3">Alternative 3</h2>
<p><code style="display: inline;"><span class="qtext">... REF type( itab[ ... ] <i class="bn">[</i>default<i class="bn">]</i> )</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_2">Effect</h3>
<p>This alternative can be specified in all reading positions for table expressions in which a data reference
variable with a suitable type is expected. If a table expression is used as an argument of a constructor
expression with the reference operator <a href="../abenconstructor_expression_ref" class="blue"><span class="qtext">
REF</span></a>, the result is a temporary data reference variable that points to the table row in question.
 If no table row is found, an optional default value <a href="../abentable_exp_optional_default" class="blue"><code style="display: inline;"><span class="qtext">default</span></code></a> can be specified.</p>
<p>The <a href="../abenstatic_type_glosry" class="grey" title="Glossary Entry">static type</a> of the
reference variable is determined by specifying <a href="../abenconstructor_expression_ref" class="blue"><code style="display: inline;"><span class="qtext">type</span></code></a> for the constructor expression:</p>
<ul>

<li>If the <code style="display: inline;"><span class="qtext">#</span></code> character is specified for <code style="display: inline;"><span class="qtext">type</span></code>, the row type of the internal table is used as the static type.</li>

</ul>

<ul>

<li>If a non-generic data type <code style="display: inline;"><span class="qtext">dtype</span></code> or the generic data type <a href="../abenbuilt_in_types_generic" class="blue">
<code style="display: inline;"><span class="qtext">data</span></code></a> is specified for <code style="display: inline;"><span class="qtext">type</span></code>, they determine
the static type of the result. A non-generic data type, <code style="display: inline;"><span class="qtext">dtype</span></code>, must be compatible with the row type of the internal table.</li>

</ul>

<p>If the reference operator <a href="../abenconstructor_expression_ref" class="blue"><code style="display: inline;"><span class="qtext">REF</span></code></a> is specified in front of a
<a href="../abentable_exp_chaining" class="blue">chaining</a> whose result is a component of a structured
table row, it creates a reference to this component. In this case, no substring accesses <a href="../abenoffset_length" class="blue"><code style="display: inline;"><span class="qtext">+off(len)</span></code></a> can be specified after the component.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>A table expression whose result is a temporary data reference variable can be viewed as a short
form of the statement <a href="../abapread_table" class="blue"><code style="display: inline;"><span class="qtext">READ TABLE</span></code></a>
with the addition <a href="../abapread_table_outdesc" class="blue"><code style="display: inline;"><span class="qtext">REFERENCE INTO</span></code></a>. The corresponding rules and notes apply.</li>

<p></ul>
<ul></p>
<li>More specifically, <a href="../abapread_table_outdesc" class="blue">restrictions</a> with respect
to modifying key fields apply to table expressions (in writer positions) whose results are temporary data reference variables.</li>

<p></ul>
<ul></p>
<li>The static type of the temporary data reference variable can only be the row type of the internal table or be fully generic.</li>

<p></ul>
<ul></p>
<li><a href="../abentable_exp_chaining" class="blue">Chainings</a> of table expressions can also be
specified as an argument of the reference operator <code style="display: inline;"><span class="qtext">REF</span></code>. This argument then determines the final result of the chaining.</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following program is similar to the example for <a href="../abapread_table_outdesc" class="blue"><span class="qtext">
READ TABLE REFERENCE INTO</span></a>, but the statement <code style="display: inline;"><span class="qtext">READ</span></code> has been replaced by a table expression in the constructor expression <code style="display: inline;"><span class="qtext">REF</span></code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">DATA</span><span class="p">:</span> <span class="nv">carrid</span> <span class="k">TYPE </span><span class="nv">sflight</span><span class="o">-</span><span class="nv">carrid</span><span class="p">,</span> 
      <span class="nv">connid</span> <span class="k">TYPE </span><span class="nv">sflight</span><span class="o">-</span><span class="nv">connid</span><span class="p">,</span> 
      <span class="nv">fldate</span> <span class="k">TYPE </span><span class="nv">sflight</span><span class="o">-</span><span class="nv">fldate</span><span class="p">.</span> 

<span class="p">...</span> 

<span class="k">DATA</span> <span class="nv">sflight_tab</span> <span class="k">TYPE SORTED TABLE OF</span> <span class="nv">sflight</span> 
                 <span class="k">WITH UNIQUE KEY</span> <span class="nv">carrid</span> <span class="nv">connid</span> <span class="nv">fldate</span><span class="p">.</span> 

<span class="k">SELECT</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="nv">sflight</span> 
       <span class="k">WHERE</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="err">@</span><span class="nv">carrid</span> <span class="ow">AND</span> 
             <span class="nv">connid</span> <span class="o">=</span> <span class="err">@</span><span class="nv">connid</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">sflight_tab</span><span class="p">.</span> 

<span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span> 
  <span class="k">TRY</span><span class="p">.</span> 
      <span class="k">DATA</span><span class="p">(</span><span class="nv">sflight_ref</span><span class="p">)</span> <span class="o">=</span> 
        <span class="nv">REF</span> <span class="err">#</span><span class="p">(</span> <span class="nv">sflight_tab</span><span class="p">[</span> <span class="k">KEY</span> <span class="nv">primary_key</span> 
                           <span class="k">COMPONENTS</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="nv">carrid</span> 
                                      <span class="nv">connid</span> <span class="o">=</span> <span class="nv">connid</span> 
                                      <span class="nv">fldate</span> <span class="o">=</span> <span class="nv">fldate</span> <span class="p">]</span> <span class="p">).</span> 
      <span class="nv">sflight_ref</span><span class="o">-&gt;</span><span class="nv">price</span> <span class="o">*=</span> <span class="s1">&#39;0.9&#39;</span><span class="p">.</span> 
    <span class="k">CATCH</span> <span class="nv">cx_sy_itab_line_not_found</span><span class="p">.</span> 
      <span class="p">...</span> 
  <span class="k">ENDTRY</span><span class="p">.</span> 
<span class="k">ENDIF</span><span class="p">.</span>
</code></pre></div>

</div>

<h3 id="continue">Continue</h3>
<p><a href="../abentable_exp_side_effect_abexa" class="blue">Table Expressions, Side Effects</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>