


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapsort itab - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sort-itab" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapsort itab
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extras" class="md-nav__link">
    Extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-examples" class="md-nav__link">
    Executable Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-1" class="md-nav__link">
    Addition 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-2" class="md-nav__link">
    Addition 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-3" class="md-nav__link">
    Addition 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_3" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-example" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-4" class="md-nav__link">
    Addition 4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_4" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-5" class="md-nav__link">
    Addition 5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_5" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-6" class="md-nav__link">
    Addition 6
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_6" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-example_1" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handleable-exceptions" class="md-nav__link">
    Handleable Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-handleable-exceptions" class="md-nav__link">
    Non-Handleable Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abapsort_itab.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_data_working" class="blue">Processing Internal Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenitab" class="blue">Internal Tables</a>&#xA0;&#x2192;&#xA0;
<a href="../abentable_processing_statements" class="blue">Processing Statements for Internal Tables</a>&#xA0;</small></p>
<h1 id="sort-itab">SORT itab</h1>
<p><a href="../abapsort_itab_shortref" class="blue">Quick Reference</a>  </p>
<p>Other versions: 
 <a href="../../7.31/abapsort_itab">7.31</a> | <a href="../../7.40/abapsort_itab">7.40</a> | <b>7.54</b></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">SORT itab <i class="bn">[</i>STABLE<i class="bn">]</i> <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">{</i> <i class="bn">{</i> <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i> <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">[</i>AS TEXT<i class="bn">]</i> <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">[</i>BY <i class="bn">{</i>
<a href="../abenitab_components" class="blue">comp1</a> <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i> <i class="bn">[</i>AS TEXT<i class="bn">]</i><i class="bn">}</i> <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">{</i>
<a href="../abenitab_components" class="blue">comp2</a> <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i> <i class="bn">[</i>AS TEXT<i class="bn">]</i><i class="bn">}</i> <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;... <i class="bn">]</i> <i class="bn">}</i> <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">|</i> <i class="bn">{</i> <i class="bn">[</i>BY (otab)<i class="bn">]</i> <i class="bn">}</i> <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">|</i> <i class="bn">{</i> <i class="bn">[</i>BY expr<i class="bn">]</i> <i class="bn">}</i> <i class="bn">}</i>.</span> 
</code></pre></p>
<h3 id="extras">Extras</h3>
<p><a href="#!ABAP_ADDITION_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... STABLE</span></code> </a><br />
 <a href="#!ABAP_ADDITION_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... ASCENDING<i class="bn">|</i>DESCENDING</span></code> </a><br />
 <a href="#!ABAP_ADDITION_3@3@" class="blue"> 3. <code style="display: inline;"><span class="qtext">... AS TEXT</span></code> </a> <br>
<br><a href="#!ABAP_ADDITION_4@4@" class="blue"> 4. <code style="display: inline;"><span class="qtext">... BY compi <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i> <i class="bn">[</i>AS TEXT<i class="bn">]</i></span></code> </a>  </p>
<p><a href="#!ABAP_ADDITION_5@5@" class="blue"> 5. <code style="display: inline;"><span class="qtext">... BY (otab)</span></code> </a><br />
 <a href="#!ABAP_ADDITION_6@6@" class="blue"> 6. <code style="display: inline;"><span class="qtext">... BY expr</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>This statement sorts an internal table <code style="display: inline;"><span class="qtext">itab</span></code> by the size of its components. Here, default sizes are compared using the general
<a href="../abenlogexp_rules" class="blue">comparison rules</a>, that is:</p>
<ul>

<li>
Numeric and byte-like components are sorted by their values.
</li>
<li>
Character-like components are sorted by default by their binary representation
(<a href="../abencodepage_glosry" class="grey" title="Glossary Entry">code page</a>). Textual sorting of character-like components can be performed using the addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code>.
</li>
<li>
The sizes of other component types are compared using the corresponding rules for
<a href="../abenlogexp_rules_operands_ref" class="blue">reference variables</a>,
<a href="../abenlogexp_rules_operands_struc" class="blue">structures</a>, and <a href="../abenlogexp_rules_operands_itab" class="blue">internal tables</a>.
<br></li>

</ul>

<p>If no explicit sort key is entered using the addition <code style="display: inline;"><span class="qtext">BY</span></code>, the internal table <code style="display: inline;"><span class="qtext">itab</span></code> is sorted by the
<a href="../abenprimary_table_key_glosry" class="grey" title="Glossary Entry">primary table key</a>. The priority of the sort is based on the order in which the
<a href="../abaptypes_keydef" class="blue">key fields</a> are specified in the table definition. In
<a href="../abenstandard_key_glosry" class="grey" title="Glossary Entry">standard
keys</a>, the sort is prioritized according to the order of the key fields in the row type of the table. If the primary table key of a standard table is
<a href="../abenitab_empty_key" class="blue">empty</a>, no sort takes place. If this is known statically, the syntax check produces a warning.</p>
<p>Sorting is unstable by default, which means that the relative order of rows that do not have different
sort keys is not preserved when they are sorted. The order can be different depending on the platform or when sorted multiple times. The addition <code style="display: inline;"><span class="qtext">STABLE</span></code> can be used for stable sorting.</p>
<p><code style="display: inline;"><span class="qtext">itab</span></code> expects a <a href="../abenstandard_table_glosry" class="grey" title="Glossary Entry">standard table</a> or a
<a href="../abenhashed_table_glosry" class="grey" title="Glossary Entry">hashed table</a>.</p>
<ul>

<li>
In standard tables, the <a href="../abenprimary_table_index_glosry" class="grey" title="Glossary Entry">primary table index</a> is applied in accordance with the sort order
</li>
<li>
In hashed tables, the internal order is modified. This internal order was defined either by inserting rows in the internal table or by a previous sort using the statement <code style="display: inline;"><span class="qtext">SORT</span></code>.
<br></li>

</ul>

<p>In both table categories, <code style="display: inline;"><span class="qtext">SORT</span></code> specifies the order in which a subsequent
<a href="../abaploop_at_itab" class="blue"><code style="display: inline;"><span class="qtext">LOOP</span></code></a> runs without the addition <code style="display: inline;"><span class="qtext">USING KEY</span></code>.</p>
<p>Sorted tables cannot be sorted using <code style="display: inline;"><span class="qtext">SORT</span></code> and applying the statement <code style="display: inline;"><span class="qtext">SORT</span></code> to
<a href="../abensorted_table_glosry" class="grey" title="Glossary Entry">sorted tables</a> is prohibited
by the syntax. If the system only detects that a sorted table is to be sorted at runtime, a non-handleable exception is raised if this action could modify the existing sorting. The latter occurs in the following cases:</p>
<ul>

<li>
if the addition <code style="display: inline;"><span class="qtext">BY</span></code> is used to specify a different sort key as the initial part of the table key.
</li>
<li>
if the addition <code style="display: inline;"><span class="qtext">DESCENDING</span></code> is used.
</li>
<li>
if the addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> is used.
</li>
<li>
if an attribute of an object is specified as a component in the addition <code style="display: inline;"><span class="qtext">BY</span></code>.
<br></li>

</ul>

<p>Otherwise, the statement <code style="display: inline;"><span class="qtext">SORT</span></code> is ignored for sorted tables.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
It is best to specify an explicit sort key behind <code style="display: inline;"><span class="qtext">BY</span></code>, if possible. An implicit sort behind the
<a href="../abentable_key_glosry" class="grey" title="Glossary Entry">primary table key</a> (which can itself, in standard tables, be defined implicitly as a
<a href="../abenstandard_key_glosry" class="grey" title="Glossary Entry">standard key</a>) makes a program difficult to understand and possibly unpredictable. 
</li>

<li>
When using the primary table key, note that this key can be the <a href="../abenstandard_key_glosry" class="grey" title="Glossary Entry">standard key</a>, which can also have unexpected consequences:
<br></li>

<p></ul>
<ul class="circlem2"></p>
<li>If the row type is structured, the table is sorted by all character-like and byte-like components.</li>

<p></ul>
<ul class="circlem2"></p>
<li>The standard key of a standard table can be <a href="../abenitab_empty_key" class="blue">empty</a>. <br></li>

<p></ul>
<ul></p>
<li>
Secondary table keys cannot be specified as sort keys. 
</li>

<li>
<code style="display: inline;"><span class="qtext">SORT</span></code>s are ignored by the assignment of rows to a <a href="../abensecondary_table_index_glosry" class="grey" title="Glossary Entry">secondary table index</a>. 
</li>

<li>
The addition <a href="../abaploop_at_itab_group_by" class="blue"><code style="display: inline;"><span class="qtext">GROUP BY</span></code></a>
of the statement <a href="../abaploop_at_itab" class="blue"><code style="display: inline;"><span class="qtext">LOOP AT itab</span></code></a>
or of a <a href="../abenfor_groups_of" class="blue"><code style="display: inline;"><span class="qtext">FOR</span></code> expression</a> also
has the additions <code style="display: inline;"><span class="qtext">ASCENDING</span></code> and <code style="display: inline;"><span class="qtext">DESCENDING</span></code> for
sorting groups. These can be used to expand the statement <code style="display: inline;"><span class="qtext">SORT</span></code> if its sort criteria are not sufficient (see the
<a href="../abenloop_group_by_sort_abexa" class="blue">executable example</a>). 
</li>

<li>
It is possible to sort columns with <a href="../abenreference_type_glosry" class="grey" title="Glossary Entry">
reference types</a> but doing this is questionable. Here it is important to note that no comparison
rule is defined for non-initial invalid references. An internal table can only be sorted by valid or initial references. A non-initial, invalid reference leads to a runtime error if it is involved in sorting. 
</li>

<li>
The system class <span class="lnkgrey">CL_ABAP_ITAB_UTILITIES</span> contains method VIRTUAL_SORT, which can be used to virtually sort a set of internal tables. See also the executable
<a href="../abenvirtual_sort_abexas" class="blue">examples</a> listed below. <br>
</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Simplest form of the statement <code style="display: inline;"><span class="qtext">SORT</span></code> for internal tables. The hash table <span class="qtext">
carriers</span> is sorted by its primary key (in other words, sorted by column <code style="display: inline;"><span class="qtext">carrid</span></code>).</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span> <span class="nv">carriers</span> <span class="k">TYPE HASHED TABLE OF</span> <span class="nv">scarr</span> 
              <span class="k">WITH UNIQUE KEY</span> <span class="nv">carrid</span><span class="p">.</span> 

<span class="k">SELECT</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="nv">scarr</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">carriers</span><span class="p">.</span> 

<span class="k">SORT</span> <span class="nv">carriers</span><span class="p">.</span> 
</code></pre></div>
</div></p>
<h3 id="executable-examples">Executable Examples</h3>
<ul>

<li><a href="../abensort_stable_abexa" class="blue">Sorting Internal Tables</a></li>

<p></ul>
<ul></p>
<li><a href="../abensort_itab_sec_key_abexa" class="blue">Sorting Internal Tables with Secondary Keys</a> </li>

<p></ul>
<a name="@@STABLE@@SORT itab@@"></a></p>
<h3 id="addition-1">Addition 1</h3>
<p><code style="display: inline;"><span class="qtext">... STABLE</span></code>   <br><!-- /A --></p>
<h3 id="effect_1">Effect</h3>
<p><code style="display: inline;"><span class="qtext">STABLE</span></code> is used to perform stable sorts, which means that the relative order
of rows (an order that does not change in the sort key) remains unchanged in the sort. If the addition <code style="display: inline;"><span class="qtext">STABLE</span></code> is not specified, the order is not stable:</p>
<ul>

<li>
The order can depend on the platform.
</li>
<li>
Multiple sorting of a table using the same sort key can produce a different order each time the table is sorted. <br>
</li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Produces a stable sort of the internal table <code style="display: inline;"><span class="qtext">flights</span></code> by columns <code style="display: inline;"><span class="qtext">cityfrom</span></code>
<code style="display: inline;"><span class="qtext">cityto</span></code>, whereby the order within this sorting with respect to <code style="display: inline;"><span class="qtext">carrid</span></code> and <code style="display: inline;"><span class="qtext">connid</span></code> is preserved.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">SELECT</span> <span class="nv">carrid</span><span class="p">,</span> <span class="nv">connid</span><span class="p">,</span> <span class="nv">cityfrom</span><span class="p">,</span> <span class="nv">cityto</span> 
       <span class="k">FROM</span> <span class="nv">spfli</span> 
       <span class="k">ORDER BY</span> <span class="nv">carrid</span><span class="p">,</span> <span class="nv">connid</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">flights</span><span class="p">).</span> 

<span class="k">SORT</span> <span class="nv">flights</span> <span class="nv">STABLE</span> <span class="nv">BY</span> <span class="nv">cityfrom</span> <span class="nv">cityto</span><span class="p">.</span> 
</code></pre></div>
<a name="@@ASCENDING@@SORT itab@@"></a>
<a name="@@DESCENDING@@SORT itab@@"></a>
</div></p>
<h3 id="addition-2">Addition 2</h3>
<p><code style="display: inline;"><span class="qtext">... ASCENDING<i class="bn">|</i>DESCENDING</span></code>   <br><!-- /A --></p>
<h3 id="effect_2">Effect</h3>
<p>The addition <code style="display: inline;"><span class="qtext">ASCENDING</span></code> or <code style="display: inline;"><span class="qtext">DESCENDING</span></code> can be used
to specify the sort direction explicitly as ascending or descending. If neither of the additions is
specified, the table is sorted in ascending order. This sort direction can be overwritten after the addition <code style="display: inline;"><span class="qtext">BY</span></code> for components specified individually here.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The internal table <code style="display: inline;"><span class="qtext">itab</span></code> is sorted by its primary key (in other words, by
its rows). Next, <a href="../abaploop_at_itab_group_by" class="blue"><code style="display: inline;"><span class="qtext">LOOP AT GROUP BY</span></code></a> can be used for grouping and determine the number of rows per group.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span> <span class="nv">itab</span> <span class="k">TYPE TABLE OF</span> <span class="nv">i</span> <span class="k">WITH NON-UNIQUE KEY</span> <span class="nv">table_line</span><span class="p">.</span> 

<span class="k">DATA</span><span class="p">(</span><span class="nv">rnd</span><span class="p">)</span> <span class="o">=</span> <span class="nv">cl_abap_random_int</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="nv">seed</span> <span class="o">=</span> <span class="o">+</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">uzeit</span> 
                                       <span class="nv">min</span>  <span class="o">=</span> <span class="mi">1</span> 
                                       <span class="nv">max</span>  <span class="o">=</span> <span class="mi">10</span> <span class="p">).</span> 

<span class="nv">itab</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="k">FOR</span> <span class="nv">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="nv">UNTIL</span> <span class="nv">i</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="p">(</span> <span class="nv">rnd</span><span class="o">-&gt;</span><span class="nf">get_next</span><span class="p">(</span> <span class="p">)</span> <span class="p">)</span> <span class="p">).</span> 

<span class="k">SORT</span> <span class="nv">itab</span> <span class="nv">DESCENDING</span><span class="p">.</span> 

<span class="k">LOOP AT </span><span class="nv">itab</span> <span class="k">ASSIGNING</span> <span class="k">FIELD</span><span class="o">-</span><span class="nv">SYMBOL</span><span class="p">(</span><span class="nv">&lt;fs&gt;</span><span class="p">)</span> 
             <span class="k">GROUP BY</span> <span class="p">(</span> <span class="k">key</span> <span class="o">=</span> <span class="nv">&lt;fs&gt;</span> <span class="k">size</span> <span class="o">=</span> <span class="nv">GROUP</span> <span class="k">SIZE</span> <span class="p">)</span> 
             <span class="k">ASSIGNING</span> <span class="k">FIELD</span><span class="o">-</span><span class="nv">SYMBOL</span><span class="p">(</span><span class="nv">&lt;key&gt;</span><span class="p">).</span> 
  <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="p">|{</span> <span class="nv">&lt;key&gt;</span><span class="o">-</span><span class="nv">key</span> <span class="k">WIDTH</span> <span class="o">=</span> <span class="mi">4</span> 
                        <span class="p">}{</span> <span class="nv">&lt;key&gt;</span><span class="o">-</span><span class="nv">size</span> <span class="p">}|</span> <span class="p">).</span> 
<span class="k">ENDLOOP</span><span class="p">.</span> 
<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="p">).</span> 
</code></pre></div>
<a name="@@AS TEXT@@SORT itab@@"></a>
</div></p>
<h3 id="addition-3">Addition 3</h3>
<p><code style="display: inline;"><span class="qtext">... AS TEXT</span></code>   <br><!-- /A --></p>
<h3 id="effect_3">Effect</h3>
<p>The addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> specifies that
<a href="../abentextlike_data_type_glosry" class="grey" title="Glossary Entry">text-like</a> components are sorted in accordance with the
<a href="../abenlocale_glosry" class="grey" title="Glossary Entry">locale</a> of the current
<a href="../abentext_environment_glosry" class="grey" title="Glossary Entry">text environment</a>.
If <code style="display: inline;"><span class="qtext">AS TEXT</span></code> is not specified, text-like components are sorted according to
the encoding in the code page of the current text environment. This can be overwritten after the addition <code style="display: inline;"><span class="qtext">BY</span></code> for the components specified individually here. The text environment is set when an
<a href="../abeninternal_session_glosry" class="grey" title="Glossary Entry">internal session</a> is
opened or by using the statement <a href="../abapset_locale" class="blue"><code style="display: inline;"><span class="qtext">SET LOCALE</span></code></a>.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
 The result of sorting without the addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> depends on the operating system of the
<a href="../abenhost_computer_glosry" class="grey" title="Glossary Entry">host computer</a> of the current
<a href="../abenapplication_server_glosry" class="grey" title="Glossary Entry">AS Instance</a>. Although
the sequence of individual letters that belong to the activated language remains the same across different
operating systems, there are differences in terms of the characters that do not belong to the alphabet
of the activated language. Even if only the letters from the alphabet of the activated language are
used, some slight differences occur when sorting complete words. Furthermore, the order of uppercase and lowercase letters is specific to the operating system.
</li>

<li>
The use of the addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> usually renders the statement <a href="../abapconvert_text" class="blue">
<code style="display: inline;"><span class="qtext">CONVERT TEXT</span></code></a> superfluous in the context of internal tables.
</li>

<li>
A sort without the addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> is considerably faster than a sort that
does use this addition. If it is certain that both sorts produce the same order, the addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> is not necessary. This can be the case if, for example, text-like components contain characters from the
<a href="../abenascii_glosry" class="grey" title="Glossary Entry">ASCII</a> character set only and only lowercase or uppercase letters. <br>
</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Sorts a <a href="../abenhashed_table_glosry" class="grey" title="Glossary Entry">hashed table</a> <code style="display: inline;"><span class="qtext">text_tab</span></code> by the order in the code page and in accordance with the locale of the current
<a href="../abentext_environment" class="blue">text environment</a>. If a western European text environment
is configured, the sorts produce the orders Miller, Moller, Muller, M&#xF6;ller and Miller, Moller, M&#xF6;ller, Muller respectively (also see the
<a href="../abenset_locale_abexa" class="blue">executable example</a> for <code style="display: inline;"><span class="qtext">SET LOCALE</span></code>).</p>
<p><div class="highlight"><pre><span></span><code><span class="k">CLASS</span> <span class="nv">demo</span> <span class="k">DEFINITION</span><span class="p">.</span> 
  <span class="k">PUBLIC SECTION</span><span class="p">.</span> 
    <span class="k">CLASS-METHODS</span> <span class="nv">main</span><span class="p">.</span> 
  <span class="k">PRIVATE SECTION</span><span class="p">.</span> 
    <span class="k">CLASS-DATA</span> <span class="nv">text_tab</span> <span class="k">TYPE HASHED TABLE OF</span> <span class="nv">string</span> 
               <span class="k">WITH UNIQUE KEY</span> <span class="nv">table_line</span><span class="p">.</span> 
<span class="k">ENDCLASS</span><span class="p">.</span> 

<span class="k">CLASS</span> <span class="nv">demo</span> <span class="k">IMPLEMENTATION</span><span class="p">.</span> 
  <span class="k">METHOD</span> <span class="nf">main</span><span class="p">.</span> 
    <span class="nv">text_tab</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> 
      <span class="p">(</span> <span class="s1">`Muller`</span> <span class="p">)</span> 
      <span class="p">(</span> <span class="s1">`Möller`</span> <span class="p">)</span> 
      <span class="p">(</span> <span class="s1">`Moller`</span> <span class="p">)</span> 
      <span class="p">(</span> <span class="s1">`Miller`</span> <span class="p">)</span> <span class="p">).</span> 
    <span class="k">SORT</span> <span class="nv">text_tab</span><span class="p">.</span> 
    <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">write_data</span><span class="p">(</span> <span class="nv">text_tab</span> <span class="p">).</span> 
    <span class="k">SORT</span> <span class="nv">text_tab</span> <span class="k">AS</span> <span class="nv">TEXT</span><span class="p">.</span> 
    <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display_data</span><span class="p">(</span> <span class="nv">text_tab</span> <span class="p">).</span> 
  <span class="k">ENDMETHOD</span><span class="p">.</span> 
<span class="k">ENDCLASS</span><span class="p">.</span> 

<span class="k">START-OF-SELECTION</span><span class="p">.</span> 
  <span class="nv">demo</span><span class="o">=&gt;</span><span class="nf">main</span><span class="p">(</span> <span class="p">).</span> 
</code></pre></div>
</div></p>
<h3 id="executable-example">Executable Example</h3>
<p><a href="../abensort_text_abexa" class="blue">Sorting Internal Tables Alphabetically</a>  </p>
<p><a name="@@BY@@SORT itab@@"></a>
<a name="@@ASCENDING@@SORT BY - itab@@"></a>
<a name="@@DESCENDING@@SORT BY - itab@@"></a>
<a name="@@AS TEXT@@SORT BY - itab@@"></a></p>
<h3 id="addition-4">Addition 4</h3>
<p><code style="display: inline;"><span class="qtext">... BY compi <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i> <i class="bn">[</i>AS TEXT<i class="bn">]</i></span></code>   <br><!-- /A --></p>
<h3 id="effect_4">Effect</h3>
<p>The addition <code style="display: inline;"><span class="qtext">BY compi</span></code> does not sort the table by the
<a href="../abaptypes_keydef" class="blue">primary table key</a>, but by the components <code style="display: inline;"><span class="qtext">comp1 comp2...</span></code> specified after it instead. The components are specified as described under
<a href="../abenitab_components" class="blue">Specifying Components</a>. If all components are specified
using <code style="display: inline;"><span class="qtext">name</span></code> variables and these variables contain only blanks, no sort takes
place. The priority of the sort depends on the order in which the components <span class="qtext">comp1
comp2 ...</span> are specified from left to right. The specified components can also be duplicated or can overlap. The specified components can have any data type. The relevant
<a href="../abenlogexp_rules" class="blue">comparison rules</a> apply to the evaluation.</p>
<p>If neither of the additions <code style="display: inline;"><span class="qtext">ASCENDING</span></code> or <code style="display: inline;"><span class="qtext">DESCENDING</span></code>
are specified after <code style="display: inline;"><span class="qtext">compi</span></code>, the sort direction specified by addition 2 is
used. If one of the additions <code style="display: inline;"><span class="qtext">ASCENDING</span></code> or <code style="display: inline;"><span class="qtext">DESCENDING</span></code> is specified, it overwrites the default for this component.</p>
<p>If the addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> is not specified after a text-like component <span class="qtext">
compi</span>, the instructions defined by addition 3 are used. If the addition <span class="qtext">AS
TEXT</span> is specified after a text-like component, it overwrites the default for this component.
In non-text-like components, <code style="display: inline;"><span class="qtext">AS TEXT</span></code> cannot be specified, unless a structured
component is specified. In structured components, <code style="display: inline;"><span class="qtext">AS TEXT</span></code> only affects text-like components.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
If the row type of the internal table is not known statically, the components can only be specified dynamically and not directly.
</li>

<li>
Instead of individual dynamic components, an internal table can be specified directly as <code style="display: inline;"><span class="qtext">otab</span></code>
or as the result of an expression <code style="display: inline;"><span class="qtext">expr</span></code> as a dynamic sort key (see additions
5 and 6). Using a table like this has the advantage that any exceptions are handleable. When specifying
the table, the number of components of the sort key is also dynamic. In contrast, when individual dynamic
components are used, a character-like data object must be specified for any required component, which is ignored if it only contains blank characters. 
</li>

<li>
An <a href="../abapsort_itab_obsolete" class="blue">obsolete variant</a> allows field symbols to also be specified for the components outside of classes, for standard tables. <br>
</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Sorts the internal table <code style="display: inline;"><span class="qtext">itab</span></code> in ascending order by column <code style="display: inline;"><span class="qtext">col1</span></code> and in descending order by column <code style="display: inline;"><span class="qtext">col2</span></code>.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">TYPES</span><span class="p">:</span> 
  <span class="k">BEGIN OF</span> <span class="nv">line</span><span class="p">,</span> 
    <span class="nv">col1</span> <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">1</span><span class="p">,</span> 
    <span class="nv">col2</span> <span class="k">TYPE </span><span class="nv">i</span><span class="p">,</span> 
  <span class="k">END OF</span> <span class="nv">line</span><span class="p">.</span> 

<span class="k">DATA</span> <span class="nv">itab</span> <span class="k">TYPE STANDARD TABLE OF</span> <span class="nv">line</span> <span class="k">WITH</span> <span class="nv">EMPTY</span> <span class="k">KEY</span><span class="p">.</span> 

<span class="nv">itab</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="p">(</span> <span class="nv">col1</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">6</span> <span class="p">)</span> 
                <span class="p">(</span> <span class="nv">col1</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">4</span> <span class="p">)</span> 
                <span class="p">(</span> <span class="nv">col1</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">7</span> <span class="p">)</span> 
                <span class="p">(</span> <span class="nv">col1</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">)</span> 
                <span class="p">(</span> <span class="nv">col1</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">)</span> 
                <span class="p">(</span> <span class="nv">col1</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">9</span> <span class="p">)</span> 
                <span class="p">(</span> <span class="nv">col1</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">)</span> 
                <span class="p">(</span> <span class="nv">col1</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">5</span> <span class="p">)</span> 
                <span class="p">(</span> <span class="nv">col1</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">8</span> <span class="p">)</span> <span class="p">).</span> 

<span class="k">SORT</span> <span class="nv">itab</span> <span class="nv">BY</span> <span class="nv">col1</span> <span class="nv">ASCENDING</span> <span class="nv">col2</span> <span class="nv">DESCENDING</span><span class="p">.</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="nv">itab</span> <span class="p">).</span> 
</code></pre></div>
</div></p>
<h3 id="addition-5">Addition 5</h3>
<p><code style="display: inline;"><span class="qtext">... BY (otab)</span></code>   <br><!-- /A --></p>
<h3 id="effect_5">Effect</h3>
<p>The addition <code style="display: inline;"><span class="qtext">BY (otab)</span></code> does not sort the table by the
<a href="../abaptypes_keydef" class="blue">primary table key</a>, but by the component specified dynamically
in the internal table <code style="display: inline;"><span class="qtext">otab</span></code> instead. Each row of the table <code style="display: inline;"><span class="qtext">otab</span></code>
defines a component of the sort key. The priority of the sort is based on the order of the rows in <code style="display: inline;"><span class="qtext">otab</span></code>. If the table <code style="display: inline;"><span class="qtext">otab</span></code> is initial, the table is not sorted.</p>
<p>For <code style="display: inline;"><span class="qtext">otab</span></code>, a standard table of the table type <span class="lnkgrey">ABAP_SORTORDER_TAB</span>
from ABAP Dictionary must be specified. The row type of this table is the dictionary structure <span class="lnkgrey">ABAP_SORTORDER</span> with the following components:</p>
<ul>

<li>
NAME of the type <a href="../abenddic_builtin_types" class="blue">SSTRING</a> <br> <br>for specifying
a component of the sort key. The component is specified in the form <span class="qtext400">&quot;comp_name[+off(len)]&quot;</span>,
where <span class="qtext400">&quot;comp_name&quot;</span> must be the name of a component in <code style="display: inline;"><span class="qtext">itab</span></code> (uppercase characters). The component name may contain
<a href="../abenoffset_length" class="blue">offsets and lengths</a>, structure component selectors, and component selectors for assigning structured data objects and attributes in classes or objects. 
</li>
<li>
DESCENDING of the type CHAR with length 1 <br> <br>for specifying the sort direction for the current
component. If DESCENDING is initial, the sort is performed in ascending order. If DESCENDING has the value <span class="qtext400">&quot;X&quot;</span>, the table is sorted in descending order. 
</li>
<li>
ASTEXT of the type CHAR with length 1 <br> <br>for the text sorting of the current component. If ASTEXT
has the value &quot;X&quot;, the sort is performed as with the addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code>. This
is only possible for character-like components. If ASTEXT is initial, character-like components are sorted in accordance with their binary representation.
<br></li>

</ul>

<p>If a column of <code style="display: inline;"><span class="qtext">otab</span></code> has invalid content (that is, if NAME contains the name
of a component that does not exist or an incorrect offset/length or if DESCENDING and ASTEXT do not
contain <span class="qtext400">&quot;X&quot;</span> or the initial value), this raises a handleable exception of the class CX_SY_DYN_TABLE_ILL_COMP_VAL.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The addition <code style="display: inline;"><span class="qtext">BY (otab)</span></code> cannot be combined with <code style="display: inline;"><span class="qtext">BY compi</span></code>. 
</li>

<li>
When using the addition <code style="display: inline;"><span class="qtext">BY (otab)</span></code>, it is not possible to use <code style="display: inline;"><span class="qtext">DESCENDING</span></code>
or <code style="display: inline;"><span class="qtext">AS TEXT</span></code> to specify a descending sort direction or textual sorting for all components. 
</li>

<li>
If a single parenthesized data object <code style="display: inline;"><span class="qtext">(dobj)</span></code> is specified after the addition <code style="display: inline;"><span class="qtext">BY</span></code>, its data type decides whether its content is used to specify a
<a href="../abenitab_components" class="blue">single dynamic component</a> or multiple components. In either case, no sort takes place if <code style="display: inline;"><span class="qtext">dobj</span></code> is initial. <br>
</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Imports a database table into a dynamic internal table dynamically and sorts its content dynamically. The name of the database table and the names of the columns (by which the table sorted) can be entered.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span> <span class="nv">dbtab</span> <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">30</span> <span class="k">VALUE</span> <span class="s1">&#39;spfli&#39;</span><span class="p">.</span> 
<span class="nv">cl_demo_input</span><span class="o">=&gt;</span><span class="nf">add_field</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">dbtab</span> <span class="p">).</span> 
<span class="k">DATA</span> <span class="nv">columns</span> <span class="k">TYPE </span><span class="nv">string</span> <span class="k">VALUE</span> <span class="s1">`cityfrom, cityto`</span><span class="p">.</span> 
<span class="nv">cl_demo_input</span><span class="o">=&gt;</span><span class="nf">request</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">columns</span> <span class="p">).</span> 
<span class="nv">dbtab</span> <span class="o">=</span> <span class="k">condense</span><span class="p">(</span> <span class="nv">to_upper</span><span class="p">(</span> <span class="nv">dbtab</span> <span class="p">)</span> <span class="p">).</span> 

<span class="k">DATA</span> <span class="nv">dref</span>  <span class="k">TYPE REF TO</span> <span class="k">data</span><span class="p">.</span> 
<span class="k">FIELD-SYMBOLS</span> <span class="nv">&lt;itab&gt;</span> <span class="k">TYPE </span><span class="nv">STANDARD</span> <span class="k">TABLE</span><span class="p">.</span> 

<span class="k">TRY</span><span class="p">.</span> 
    <span class="k">CREATE DATA</span> <span class="nv">dref</span> <span class="k">TYPE STANDARD TABLE OF</span> <span class="p">(</span><span class="nv">dbtab</span><span class="p">).</span> 
    <span class="k">ASSIGN</span> <span class="nv">dref-&gt;*</span> <span class="k">TO</span> <span class="nv">&lt;itab&gt;</span><span class="p">.</span> 
  <span class="k">CATCH</span> <span class="nv">cx_sy_create_data_error</span><span class="p">.</span> 
    <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="s1">&#39;Wrong data type!&#39;</span> <span class="p">).</span> 
    <span class="k">LEAVE</span> <span class="k">PROGRAM</span><span class="p">.</span> 
<span class="k">ENDTRY</span><span class="p">.</span> 

<span class="k">TRY</span><span class="p">.</span> 
    <span class="k">SELECT</span> <span class="o">*</span> 
           <span class="k">FROM</span> <span class="p">(</span><span class="nv">dbtab</span><span class="p">)</span> 
           <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">&lt;itab&gt;</span><span class="p">.</span> 
  <span class="k">CATCH</span> <span class="nv">cx_sy_dynamic_osql_semantics</span><span class="p">.</span> 
    <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="s1">&#39;Wrong database table!&#39;</span> <span class="p">).</span> 
    <span class="k">LEAVE</span> <span class="k">PROGRAM</span><span class="p">.</span> 
<span class="k">ENDTRY</span><span class="p">.</span> 

<span class="k">SPLIT</span> <span class="nv">columns</span> <span class="k">AT</span> <span class="s1">`,`</span> <span class="k">INTO</span> <span class="k">TABLE</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">column_tab</span><span class="p">).</span> 
<span class="k">DATA</span><span class="p">(</span><span class="nv">order</span><span class="p">)</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="nv">abap_sortorder_tab</span><span class="p">(</span> 
                <span class="k">FOR</span> <span class="nv">wa</span> <span class="k">IN</span> <span class="nv">column_tab</span> 
               <span class="p">(</span> <span class="nv">name</span> <span class="o">=</span> <span class="k">condense</span><span class="p">(</span> <span class="nv">to_upper</span><span class="p">(</span> <span class="nv">wa</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">).</span> 

<span class="k">TRY</span><span class="p">.</span> 
    <span class="k">SORT</span> <span class="nv">&lt;itab&gt;</span> <span class="nv">BY</span> <span class="p">(</span><span class="nv">order</span><span class="p">).</span> 
  <span class="k">CATCH</span> <span class="nv">cx_sy_dyn_table_ill_comp_val</span><span class="p">.</span> 
    <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span>  <span class="s1">&#39;Wrong column name!&#39;</span> <span class="p">).</span> 
    <span class="k">LEAVE</span> <span class="k">PROGRAM</span><span class="p">.</span> 
<span class="k">ENDTRY</span><span class="p">.</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="nv">&lt;itab&gt;</span> <span class="p">).</span> 
</code></pre></div>
</div></p>
<h3 id="addition-6">Addition 6</h3>
<p><code style="display: inline;"><span class="qtext">... BY expr</span></code>   <br><!-- /A --></p>
<h3 id="effect_6">Effect</h3>
<p>The addition <code style="display: inline;"><span class="qtext">BY expr</span></code> can be used to specify an expression or a functional
method call <code style="display: inline;"><span class="qtext">expr</span></code> whose result is an internal table with the same type and content as in the preceding addition <code style="display: inline;"><span class="qtext">BY (otab)</span></code>. <code style="display: inline;"><span class="qtext">expr</span></code> is a
<a href="../abengeneral_expr_position_glosry" class="grey" title="Glossary Entry">general expression position</a>. The behavior is the same as when specifying a parenthesized internal table directly.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>Parentheses cannot be placed around <code style="display: inline;"><span class="qtext">expr</span></code>.  </p>
<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The above example for specifying <code style="display: inline;"><span class="qtext">BY (otab)</span></code> can be written in a shorter form
as shown below. Instead of specifying the unnecessary internal table <code style="display: inline;"><span class="qtext">order</span></code>,
it is possible to specify the tabular value (constructed using the value operator <a href="../abenconstructor_expression_value" class="blue"><code style="display: inline;"><span class="qtext">VALUE</span></code></a>) of the required content).</p>
<dd>
<span class="qtext">... <br> <br>SPLIT columns AT `,` INTO TABLE DATA(column_tab). <br>TRY. <br>&#xA0;&#xA0;&#xA0;&#xA0;SORT &lt;itab&gt; BY VALUE #( FOR wa IN column_tab <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;( name = condense( to_upper( wa ) ) ) ). <br>
&#xA0;&#xA0;CATCH cx_sy_dyn_table_ill_comp_val. <br>&#xA0;&#xA0;&#xA0;&#xA0;cl_demo_output=&gt;display(&#xA0;&#xA0;&apos;Wrong column name!&apos; ). <br>&#xA0;&#xA0;&#xA0;&#xA0;LEAVE PROGRAM. <br>ENDTRY. <br> <br>...</span>

</dd>

</div>

<h3 id="executable-example_1">Executable Example</h3>
<p><a href="../abensort_itab_exp_abexa" class="blue">Sorting Internal Tables Dynamically</a>.  </p>
<h3 id="exceptions">Exceptions</h3>
<h3 id="handleable-exceptions">Handleable Exceptions</h3>
<p><span class="lnkgrey">CX_SY_DYN_TABLE_ILL_LINE_TYPE</span></p>
<ul>

<li>
<span class="italic">Cause:</span> The table <code style="display: inline;"><span class="qtext">otab</span></code> has an invalid row type. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DYN_TABLE_ILL_LINE_TYPE</span></code>
<br></li>

</ul>

<p><span class="lnkgrey">CX_SY_DYN_TABLE_ILL_COMP_VAL</span></p>
<ul>

<li>
<span class="italic">Cause:</span> A column of the table <code style="display: inline;"><span class="qtext">otab</span></code> contains an invalid value. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DYN_TABLE_ILL_COMP_VAL</span></code>
<br></li>

</ul>

<h3 id="non-handleable-exceptions">Non-Handleable Exceptions</h3>
<ul>

<li>
<span class="italic">Cause:</span> A sort criterion specified dynamically in the form <code style="display: inline;"><span class="qtext">(name)</span></code>
with the explicit addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> is not text-like. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">SORT_AS_TEXT_BAD_DYN_TYPE</span></code>
</li>

<li>
<span class="italic">Cause:</span> A field symbol used as a dynamic sort criterion with an explicit addition <code style="display: inline;"><span class="qtext">AS TEXT</span></code> is not text-like. <br>
<span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">SORT_AS_TEXT_BAD_FS_TYPE</span></code>
</li>

<li>
<span class="italic">Cause:</span> A field symbol used as a dynamic sort criterion does not point to the header line of the internal table to be sorted. <br>
<span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">SORT_ITAB_FIELD_INVALID</span></code>
</li>

<li>
<span class="italic">Cause:</span> For a table of the type <code style="display: inline;"><span class="qtext">SORTED TABLE</span></code>, the sort key does not match a beginning piece of the table key. <br>
<span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">SORT_SORT_ILL_KEY_ORDER</span></code>
</li>

<li>
<span class="italic">Cause:</span> The additions <code style="display: inline;"><span class="qtext">DESCENDING</span></code> and <span class="qtext">AS
TEXT</span> are not allowed for tables of the type <code style="display: inline;"><span class="qtext">SORTED TABLE</span></code>. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">SORT_SORT_ILLEGAL</span></code>
</li>

<li>
<span class="italic">Cause:</span> Sorting method is not external (E) or internal (I) <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">SORT_ILLEGAL_MODE</span></code> <br>
</li>

</ul>

<h3 id="continue">Continue</h3>
<p><a href="../abensort_stable_abexa" class="blue">Sorting Internal Tables</a></p>
<p><a href="../abensort_itab_sec_key_abexa" class="blue">Sorting Internal Tables with Secondary Keys</a></p>
<p><a href="../abensort_text_abexa" class="blue">Sorting Internal Tables Alphabetically</a></p>
<p><a href="../abensort_itab_exp_abexa" class="blue">Sorting Internal Tables Dynamically</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>