


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Dependency Rules for Optimization of Access to Old Data - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dependency-rules-for-optimization-of-access-to-old-data" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Dependency Rules for Optimization of Access to Old Data
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basics-of-optimization" class="md-nav__link">
    Basics of Optimization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter-dependency-rules-for-data-aging" class="md-nav__link">
    Filter Dependency Rules for Data Aging
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#join-dependency-rules-for-data-aging" class="md-nav__link">
    Join Dependency Rules for Data Aging
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abenhana_data_aging_druls.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="dependency-rules-for-optimization-of-access-to-old-data">Dependency Rules for Optimization of Access to Old Data</h1>
<p><a href="../abenddic_dependency_rules" class="blue">Dependency rules</a> are SAP HANA database objects
that can represent dependencies between semantic columns and technical columns in a database table. The optimizer can then use these dependencies to create extended selection conditions when the table is read.</p>
<p>In database tables with a <a href="../abendata_aging_glosry" class="grey" title="Glossary Entry">temperature column</a>, and hence where
<a href="../abentemperature_column_glosry" class="grey" title="Glossary Entry">data aging</a> is enabled, dependency rules can be used to optimize access to old data. In this case, a dependency rule joins the
<a href="../abentemperature_column_glosry" class="grey" title="Glossary Entry">temperature column</a> of a database table with regular date columns in the table.</p>
<ul>

<li><a href="#@@ITOC@@ABENHANA_DATA_AGING_DRULS_1" class="blue">Basics of Optimization</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENHANA_DATA_AGING_DRULS_2" class="blue">Filter Dependency Rules for Data Aging</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENHANA_DATA_AGING_DRULS_3" class="blue">Join Dependency Rules for Data Aging</a></li>

</ul>

<p><a name="@@ITOC@@ABENHANA_DATA_AGING_DRULS_1"></a>
<s><i>7.31</i></s> <s><i>7.40</i></s> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_hana" class="blue">ABAP and SAP HANA</a>&#xA0;&#x2192;&#xA0;
<a href="../abenhana_data_aging" class="blue">Data Aging in SAP HANA</a>&#xA0;</small></p>
<h2 id="basics-of-optimization">Basics of Optimization</h2>
<p>In tables with a temperature column, only the current data is located in the main memory of the SAP HANA database and old data is moved to other partitions. By default, the
<a href="../abensap_nw_abap_glosry" class="grey" title="Glossary Entry">AS ABAP</a>
<a href="../abendatabase_interface_glosry" class="grey" title="Glossary Entry">database interface</a>
accesses current data only. The relationship between the actual data and the partition limits is defined
in data aging runs and is made transparent for application programming. This means that, when old data
is accessed, the data in all partitions must first be loaded to the main memory of the SAP HANA database, which can have a negative effect on performance. Old data can be accessed as follows:</p>
<ul>

<li>Disabling data aging in the database interface using the profile parameter <span class="lnkgrey">abap/data_aging</span>.</li>

</ul>

<ul>

<li>Bypassing data aging in ABAP SQL access to <a href="../abencds_view_glosry" class="grey" title="Glossary Entry">CDS views</a> and
<a href="../abencds_table_function_glosry" class="grey" title="Glossary Entry">CDS table functions</a> using the annotation <a href="../abencds_f1_view_entity_annotations" class="blue"><span class="qtext400">@DataAging.noAgingRestriction:true</span></a>.</li>

</ul>

<ul>

<li>Configuring a different temperature using the classes <span class="lnkgrey">CL_ABAP_SESSION_TEMPERATURE</span> and <span class="lnkgrey">CL_ABAP_STACK_TEMPERATURE</span>.</li>

</ul>

<ul>

<li>Access using <a href="../abenabap_managed_db_objects_nsql" class="blue">Non-ABAP-Managed Native SQL</a></li>

</ul>

<p>A dependency rule can be used to add a selection condition for the temperature column to an access of
this type. This restricts the temperatures to those that are in the same rows as the data that is actually
requested. This means that the SAP HANA database only has to load those partitions to its main memory that contain the required data.</p>
<p>It cannot be guaranteed, however, that the SAP HANA database optimizer actually creates the additional
selection condition for the temperature column. This is why this condition must not modify the results
set of the original query. This is technically possible, but produces undefined behavior in cases where the SAP HANA database optimizer responds differently depending how a query is formulated.</p>
<p>The following sections demonstrate how dependency rules for optimizing access to old data can be defined.</p>
<p><a name="@@ITOC@@ABENHANA_DATA_AGING_DRULS_2"></a></p>
<h2 id="filter-dependency-rules-for-data-aging">Filter Dependency Rules for Data Aging</h2>
<p>The <a href="../abentemperature_column_glosry" class="grey" title="Glossary Entry">temperature column</a> has the following important properties for
<a href="../abenddicddl_define_filter_drul" class="blue">filter dependencies</a>:</p>
<ul>

<li>The temperature column has the data type DATS.</li>

</ul>

<ul>

<li>For current data, the temperature column has the initial value <span class="qtext400">00000000</span>.</li>

</ul>

<ul>

<li>In the case of old data, the temperature column is given a date value created in the data aging run.</li>

</ul>

<p>This means that filter dependency rules can be defined as follows:</p>
<ul>

<li>For access to old data, filter dependency rules can derive additional selection conditions. These
conditions contain comparisons for the temperature column, restricting it to the same rows as the selection conditions for the associated date values.</li>

</ul>

<ul>

<li>If current data is required alongside old data, filter dependency rules must be defined in such
a way that the selection condition restricts the temperature column to the required date values without
excluding the current data. In this case, the additional selection condition must contain a relational
expression <span class="qtext400">dbtab._dataaging = &apos;00000000&apos;</span> joined using <span class="qtext400">OR</span>.</li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>The actual design of filter dependency rules for optimizing access to old data is determined by the layout of the database tables and the rules applied in the data aging run.</p>
<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>In the following CDS view, data aging is disabled for the database table DAAG_SFLIGHT using the annotation <a href="../abencds_f1_view_entity_annotations" class="blue"><span class="qtext400">@DataAging.noAgingRestriction:true</span></a>.</p>
<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;DEMOCDSDAAGSFL&apos; <br>@DataAging.noAgingRestriction:true <br>
DEFINE VIEW demo_cds_daag_sflight AS <br>&#xA0;&#xA0;SELECT FROM daag_sflight <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; { carrid, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; connid, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; fldate, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; planetype, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; seatsocc };</span>
</dd>

<p>When this view is accessed using ABAP SQL, both old and current data is read:</p>
<dd>
<span class="qtext">SELECT * <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FROM demo_cds_daag_sflight <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE fldate &gt;= &apos;20160101&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INTO TABLE @DATA(result).</span>
</dd>

<p>To avoid loading all partitions, a filter dependency rule can be defined as follows. Here, the assumption is made that the temperature column _DATAAGING for old data has the same value as the column FLDATE.</p>
<dd>
<span class="qtext400">DEFINE FILTER DEPENDENCY RULE demo_daag_sflight_rule <br>&#xA0;&#xA0;ON daag_sflight <br>
&#xA0;&#xA0;&#xA0;&#xA0;IF { daag_sflight.fldate &gt;= $1 } <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;THEN { daag_sflight._dataaging &gt;= $1 OR <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; daag_sflight._dataaging =&#xA0;&#xA0;&apos;00000000&apos; }</span>
</dd>

<p>The SAP HANA database then adds the following additional selection condition to the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition of the shown <code style="display: inline;"><span class="qtext">SELECT</span></code> statement implicitly:</p>
<dd>
<code style="display: inline;"><span class="qtext">AND daag_sflight~_dataaging &gt;= &apos;20160101&apos; <br>&#xA0;&#xA0;&#xA0;&#xA0;OR&#xA0;&#xA0;daag_sflight~_dataaging =&#xA0;&#xA0;&apos;00000000&apos;</span></code>
</dd>

<p>This does not modify the results set of the query.</p>
<p><a name="@@ITOC@@ABENHANA_DATA_AGING_DRULS_3"></a>
</div></p>
<h2 id="join-dependency-rules-for-data-aging">Join Dependency Rules for Data Aging</h2>
<p>If multiple database tables are joined together in a relational model, data aging must be respected
for all these tables. Rows in different database tables that have the same date are usually joined using join expressions. These joins can be in ABAP SQL, Native SQL, or in views.</p>
<p><a href="../abenddicddl_define_join_drul" class="blue">Join dependency</a> rules can be defined to
optimize access to old data for database tables joined like this. As in filter dependency rules, the actual design of the data aging must be known as well as how the tables are dependent on each other.</p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>In the following CDS view, data aging is disabled for the database tables DAAG_SFLIGHT and DAAG_SBOOK using the annotation <a href="../abencds_f1_view_entity_annotations" class="blue"><span class="qtext400">@DataAging.noAgingRestriction:true</span></a>.</p>
<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;DEMOCDSDAAGSFLBK&apos; <br>@DataAging.noAgingRestriction:true <br>
DEFINE VIEW demo_cds_daag_sflight_sbook AS <br>&#xA0;&#xA0;SELECT FROM daag_sflight <br>&#xA0;&#xA0;&#xA0;&#xA0; INNER JOIN daag_sbook <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ON daag_sflight.carrid = daag_sbook.carrid AND <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;daag_sflight.connid = daag_sbook.connid AND <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;daag_sflight.fldate = daag_sbook.fldate <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; { daag_sflight.carrid, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; daag_sflight.connid, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; daag_sflight.fldate, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; daag_sbook.bookid, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; daag_sbook.customid };</span>
</dd>

<p>When this view is accessed using ABAP SQL, both old and current data is read:</p>
<dd>
<span class="qtext">SELECT * <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FROM demo_cds_daag_sflight_sbook <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WHERE fldate &gt;= &apos;20160101&apos; <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; INTO TABLE @DATA(result).</span>
</dd>

<p>To avoid loading all partitions, a join dependency rule can be defined as follows, in addition to the
filter dependency rules in the previous example. Here, the assumption is made that the temperature column _DATAAGING for old data in both tables has the same value as the column FLDATE.</p>
<dd>
<span class="qtext400">DEFINE JOIN DEPENDENCY RULE demo_daag_sflight_sbook_rule <br>&#xA0;&#xA0;ON daag_sflight, daag_sbook <br>
&#xA0;&#xA0;&#xA0;&#xA0;IF { daag_sflight.mandt&#xA0;&#xA0;= daag_sbook.mandt&#xA0;&#xA0;AND <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; daag_sflight.carrid = daag_sbook.carrid AND <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; daag_sflight.connid = daag_sbook.connid AND <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; daag_sflight.fldate = daag_sbook.fldate } <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;THEN { daag_sflight._dataaging = daag_sbook._dataaging }</span>
</dd>

<p>The SAP HANA database then adds the following additional selection condition to the <span class="qtext400">ON</span> condition of the join expression of the CDS view implicitly:</p>
<dd>
<span class="qtext400">AND daag_sflight._dataaging = daag_sbook._dataaging</span>
</dd>

<p>The following additional selection conditions from the filter condition are also added to the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition of the shown <code style="display: inline;"><span class="qtext">SELECT</span></code> statement:</p>
<dd>
<span class="qtext">AND daag_sflight~_dataaging &gt;= &apos;20160101&apos; <br>AND daag_sbook~_dataaging &gt;= &apos;20160101&apos; <br>
OR&#xA0;&#xA0;daag_sflight~_dataaging = &apos;00000000&apos; <br>OR&#xA0;&#xA0;daag_sbook~_dataaging =&#xA0;&#xA0;&apos;00000000&apos;</span>
</dd>

<p>This does not modify the results set of the query.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abenhana_data_aging/" title="Data Aging in SAP HANA" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Data Aging in SAP HANA
              </div>
            </div>
          </a>
        
        
          <a href="../abenhana_database_glosry/" title="SAP HANA database" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                SAP HANA database
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>