


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Automatic Authorization Checks - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#automatic-authorization-checks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Automatic Authorization Checks
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#authorization-check-in-the-operating-system" class="md-nav__link">
    Authorization Check in the Operating System
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authorization-checks-for-special-files" class="md-nav__link">
    Authorization Checks for Special Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authorization-object-s_dataset" class="md-nav__link">
    Authorization Object S_DATASET
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-table-spth-and-authorization-object-s_path" class="md-nav__link">
    Database Table SPTH and Authorization Object S_PATH
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abenfile_interface_authority.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="automatic-authorization-checks">Automatic Authorization Checks</h1>
<p>The following authorization checks take place automatically when data is accessed:</p>
<ul>

<li><a href="#@@ITOC@@ABENFILE_INTERFACE_AUTHORITY_1" class="blue">Authorization Check in the Operating System</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENFILE_INTERFACE_AUTHORITY_2" class="blue">Authorization Checks for Special Files</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENFILE_INTERFACE_AUTHORITY_3" class="blue">Authorization Object S_DATASET</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENFILE_INTERFACE_AUTHORITY_4" class="blue">Database Table SPTH and Authorization Object S_PATH</a></li>

</ul>

<p><a name="@@ITOC@@ABENFILE_INTERFACE_AUTHORITY_1"></a>
<a href="../abenfile_interface_authority">7.31</a> <a href="../abenfile_interface_authority">7.40</a> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_files" class="blue">ABAP File Interface</a>&#xA0;&#x2192;&#xA0;
<a href="../abendataset_auth" class="blue">Authorization for File Access</a>&#xA0;</small></p>
<h2 id="authorization-check-in-the-operating-system">Authorization Check in the Operating System</h2>
<p>From the point of view of the operating system on the
<a href="../abenhost_computer_glosry" class="grey" title="Glossary Entry">host computer</a> of a AS Instance, all files are accessed from
<a href="../abensap_nw_abap_glosry" class="grey" title="Glossary Entry">AS ABAP</a>. As a consequence, the user of the operating system that creates an instance of the
<a href="../abensap_nw_abap_glosry" class="grey" title="Glossary Entry">AS ABAP</a> AS Instance must
have the authority to read and write to all files and directories that are handled by the ABAP file
interface. If this authorization does not exist, the file interface statements can only be partially
carried out, or not at all. If a statement cannot be executed because of lack of authorization in the operating system, the return value <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is set to not equal to 0.</p>
<p><a name="@@ITOC@@ABENFILE_INTERFACE_AUTHORITY_2"></a></p>
<h2 id="authorization-checks-for-special-files">Authorization Checks for Special Files</h2>
<p>Every time a PSE file (file with the extension <span class="qtext400">.pse</span> for a Personal Security
Environment) is accessed, an automatic authorization check for the current user is performed with the value &quot;01&quot; for the field ACTVT of the authorization object S_RZL_ADM of the system administrator.</p>
<p><a name="@@ITOC@@ABENFILE_INTERFACE_AUTHORITY_3"></a></p>
<h2 id="authorization-object-s_dataset">Authorization Object S_DATASET</h2>
<p>An authorization check is performed for the current user each time a file is opened or deleted using the following:</p>
<ul>

<li><a href="../abapopen_dataset" class="blue"><code style="display: inline;"><span class="qtext">OPEN DATASET</span></code></a></li>

</ul>

<ul>

<li><a href="../abapdelete_dataset" class="blue"><code style="display: inline;"><span class="qtext">DELETE DATASET</span></code></a></li>

</ul>

<p>Also, the current program is executed using the predefined authorization object S_DATASET. This authorization
object contains the authorization fields PROGRAM for the program names, FILENAME for the opened files,
and ACTVT with the activities <span class="qtext400">Delete</span>, <span class="qtext400">Read</span>,
<span class="qtext400">Write</span>, <span class="qtext400">Read with Filter</span>, and <span class="qtext400">Write
with Filter</span>. If the user or program does not have the necessary authorization, a handleable exception
of the class CX_SY_FILE_AUTHORITY is raised. To avoid this, the function module <span class="lnkgrey">AUTHORITY_CHECK_DATASET</span>
can be called before the relevant ABAP statement to check whether the authorization exists.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>In the authorization check with the authorization object S_DATASET, the
<a href="../abenphysical_filename_glosry" class="grey" title="Glossary Entry">physical file name</a>
used in the statements above and the values of the authorization field FILENAME are subject to a literal
comparison. Any relative paths specified are not transformed to absolute paths. To avoid unexpected results, it is best to specify only absolute paths in physical file names.</p>
<p><a name="@@ITOC@@ABENFILE_INTERFACE_AUTHORITY_4"></a>
</div></p>
<h2 id="database-table-spth-and-authorization-object-s_path">Database Table SPTH and Authorization Object S_PATH</h2>
<p>An automatic check is made when the following statements access files:</p>
<ul>

<li><a href="../abapopen_dataset" class="blue"><code style="display: inline;"><span class="qtext">OPEN DATASET</span></code></a></li>

</ul>

<ul>

<li><a href="../abapdelete_dataset" class="blue"><code style="display: inline;"><span class="qtext">DELETE DATASET</span></code></a></li>

</ul>

<p>This check is made on entries in the database tables <span class="lnkgrey">SPTH</span>. The entries
in the database table SPTH control the general read and write accesses from ABAP programs to files and whether files should be backed up or not.</p>
<p>In the database table SPTH, reads and writes can be forbidden on all files specified absolutely or relatively, regardless of the
<a href="../abenauthorization_object_glosry" class="grey" title="Glossary Entry">authorization objects</a>.
For the remaining files (those that are generally allowed to be accessed for read or write according
to the database table SPTH), authorization checks can be carried out on the basis of authorization objects.
In the database table <span class="lnkgrey">SPTH</span>, authorization groups from the table <span class="lnkgrey">SPTHB</span>
(texts in <span class="lnkgrey">SPTHT</span>, shared view <span class="lnkgrey">V_SPT</span>) for program-independent
authorization checks can be defined. The following table shows the columns of the database table SPTH.
If the check on the database table SPTH has a negative result, a handleable exception of the class CX_SY_FILE_AUTHORITY is raised.</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>PATH</td>
<td>Absolute or relative path specified for directory names or file names. The content specified inthe other columns of this row applies to all the files of the AS Instance that are best described by the entry in this column.</td>
</tr>
<tr>
<td>SAVEFLAG</td>
<td>The value <span class="qtext400">&quot;X&quot;</span> in this column can be evaluated by backups. The ABAP runtime environment does not itself make any backups.</td>
</tr>
<tr>
<td>FS_NOREAD</td>
<td>If this column contains the value <span class="qtext400">&quot;X&quot;</span>, the files specified in thecolumn PATH cannot be accessed from ABAP. This setting overrides the setting in the columns FS_NOWRITE and FS_BRGRU as well as the authorization check on the authorization object S_DATASET.</td>
</tr>
<tr>
<td>FS_NOWRITE</td>
<td>If this column contains the value <span class="qtext400">&quot;X&quot;</span>, writes cannot be performedon the files specified in the column PATH from ABAP. This setting overrides the setting in the column FS_BRGRU as well as the authorization check on the authorization object S_DATASET.</td>
</tr>
<tr>
<td>FS_BRGRU</td>
<td>In this column, an authorization group can be specified that is defined in the table <span class="lnkgrey">SPTHB</span>.The files of multiple rows can be grouped together in this way. When the database table SPTH is evaluated,an authorization check for the current user is made against the authorization object S_PATH (which containsan authorization field FS_BRGRU and an authorization field ACTVT with the possible values <span class="qtext400">&quot;03&quot;</span>(Display), <span class="qtext400">&quot;02&quot;</span> (Change), <span class="qtext400">&quot;A6&quot;</span> (Displaywith Addition <a href="../abapopen_dataset_os_addition" class="blue"><code style="display: inline;"><span class="qtext">FILTER</span></code></a>), and <span class="qtext400">&quot;A7&quot;</span> (Change with Addition <a href="../abapopen_dataset_os_addition" class="blue"><code style="display: inline;"><span class="qtext">FILTER</span></code></a>). This makes it possible to grant access to the files specifiedin PATH to specific users. If no authorization group is entered, no authorization check is made against the authorization object S_PATH.</td>
</tr>
</tbody>
</table>
<p>In the paths specified in the column PATH, placeholders can be specified for specific
<a href="../abenprofile_parameter_glosry" class="grey" title="Glossary Entry">profile parameters</a> or for the current <a href="../abenclient_glosry" class="grey" title="Glossary Entry">client</a>:</p>
<p><span class="qtext400">... &lt;P=name&gt; ...</span></p>
<p>When evaluated, a placeholder is replaced by the value of the profile parameter specified in <span class="qtext400">name</span> or by the current
<a href="../abenclient_identifier_glosry" class="grey" title="Glossary Entry">client ID</a>. The possible
values for <span class="qtext400">name</span> are specified in the <span class="lnkgrey">documentation</span> of the table SPTH.</p>
<p>When a file is accessed using the statements <a href="../abapopen_dataset" class="blue">
<code style="display: inline;"><span class="qtext">OPEN DATASET</span></code></a> and <a href="../abapdelete_dataset" class="blue"><code style="display: inline;"><span class="qtext">DELETE DATASET</span></code></a>, a
<a href="../abenphysical_filename_glosry" class="grey" title="Glossary Entry">physical file name</a>
is used. When the content of the database table SPTH is transformed, a check is made to see whether
the physical file name starts with an entry in the column PATH and the row with the longest matching path is used. Before the check, a specified path in the physical file name is standardized as follows:</p>
<ul>

<li>Any <span class="qtext400">../</span> segments are removed. For example, a path specified as <span class="qtext400">/tmp/sub1/../sub2/file</span> is transformed to <span class="qtext400">/tmp/sub2/file</span>.</li>

</ul>

<ul>

<li>If the operating system is not an MS Windows operating system, the <span class="qtext400">/</span>
characters are converted to <span class="qtext400">\</span> characters and all letters are changed to uppercase letters.</li>

</ul>

<p>If no matching path is specified in the column PATH, the row is used in which the column PATH contains
the entry <span class="qtext400">&quot;*&quot;</span>. If this entry does not exist either, no automatic authorization check is made.</p>
<p>The character <span class="qtext400">&quot;*&quot;</span> in the column PATH is relevant only if it is the only
character entered here. When specified within paths, is subject to literal comparisons and is not used as a wildcard character.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>In comparison to the authorization check using the authorization object S_DATASET (see above), an authorization check using the authorization object S_PATH is independent of the ABAP program in which it occurs.</li>

<p></ul>
<ul></p>
<li>Paths specified in the column PATH should usually exist in a standardized form.</li>

<p></ul>
<ul></p>
<li>When the path specified is standardized to a physical file name, any relative paths specified are not transformed to absolute paths. Any links and any other changeable information are not resolved.</li>

<p></ul>
<ul></p>
<li>The comparison rule for a path specified in the column PATH with a physical file name used to access
a file is both literal and (due to the check on whether the initial segment matches) generic too. The following aspects should be noted to avoid unexpected results:</li>

<p></ul>
<ul class="circlem2"></p>
<li>The character <span class="qtext400">&quot;*&quot;</span> only has a special function if it is the only character in the column PATH.</li>

<p></ul>
<ul class="circlem2"></p>
<li>The table SPTH should always contain an entry with the value <span class="qtext400">&quot;*&quot;</span> for the column PATH. This entry is used whenever no other entries match.</li>

<p></ul>
<ul class="circlem2"></p>
<li>The names of directories should always be closed with the character <span class="qtext400">&quot;/&quot;</span>.
If this is not the case, a path specified as <span class="qtext400">&quot;/tmp&quot;</span> in the column PATH
specifies all files and directories that start with <span class="qtext400">&quot;/tmp&quot;</span> (like <span class="qtext400">&quot;/tmpxxx&quot;</span>) and not just the directory <span class="qtext400">&quot;/tmp/&quot;</span>.</li>

<p></ul>
<ul></p>
<li>Any path specified in the column PATH is not unique. It can contain hard links and soft links. Mount points, network paths, and similar entries can also be specified. This means the following must be noted:</li>

<p></ul>
<ul class="circlem2"></p>
<li>A combination of paths specified in the column PATH with values <span class="qtext400">&quot;X&quot;</span>
in the columns FS_NOREAD and FS_NOWRITE defines non-user-specific blacklists of forbidden paths. The access rights are not necessarily unique, which makes them difficult to delimit sufficiently.</li>

<p></ul>
<ul class="circlem2"></p>
<li>A combination of paths specified in the column PATH with authorization groups in the column FS_BRGRU
defines whitelists of valid paths for authorized users. In this case, the lack of uniqueness of the access rights is not critical.</li>

<p></ul>
<dd>
For this reason, is recommended that the authorization groups in the column FS_BRGRU and the authorization object S_PATH are used instead of the columns FS_NOREAD and FS_NOWRITE.
</dd>
<ul></p>
<li>Unlike in an authorization check using the authorization object S_PATH, checks made on the columns FS_NOREAD and FS_NOWRITE are not made as part of the general
<a href="../abenbc_authority_check" class="blue">authorization concept</a> and none of the associated log entries are written.</li>

<p></ul>
<ul></p>
<li>For compatibility reasons, even empty values are accepted for the activity when the authorization
object S_PATH is checked, which means that files can be opened using the addition <a href="../abapopen_dataset_os_addition" class="blue"><code style="display: inline;"><span class="qtext">FILTER</span></code></a>.</li>

<p></ul>
<ul></p>
<li>The column SAVEFLAG, used for backups, should only be used together with a value in another column, preferably FS_BRGRU. If not, no authorization check is made on files covered by the path specified in PATH.</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The table SPTH is filled as follows:</p>
<table>
<thead>
<tr>
<th>PATH</th>
<th>SAVEFLAG</th>
<th>FS_NOREAD</th>
<th>FS_NOWRITE</th>
<th>FS_BRGRU</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">*</span></td>
<td>-</td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">SUPR</span></td>
</tr>
<tr>
<td><span class="qtext400">/</span></td>
<td>-</td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">ROOT</span></td>
</tr>
<tr>
<td><span class="qtext400">/dir_open/</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
</tr>
<tr>
<td><span class="qtext400">/tmp/sub/data/</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">UDAT</span></td>
</tr>
<tr>
<td><span class="qtext400">/tmp/sub/data/work/</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">UWRK</span></td>
</tr>
<tr>
<td><span class="qtext400">/tmp/sub/prefix</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">UPRE</span></td>
</tr>
</tbody>
</table>
<p>These entries have the following effects:</p>
<ul>

<li>Every user can make reads and writes on files in the directory <span class="qtext400">/dir_open</span> and its subdirectories, since no restrictions are entered.</li>

</ul>

<ul>

<li>Only users with an authorization for the authorization group UWRK can access files in the directory <span class="qtext400">/tmp/sub/data/work/</span> and its subdirectories.</li>

</ul>

<ul>

<li>Only users with an authorization for the authorization group UDAT can access files in the directory
<span class="qtext400">/tmp/sub/data/</span> and its subdirectories (with the exception of <span class="qtext400">/tmp/sub/data/work/</span>).
Instead, an authorization for the authorization group UWRK is required for <span class="qtext400">/tmp/sub/data/work/</span>.</li>

</ul>

<ul>

<li>Users with an authorization for the authorization group UPRE can access not just those files in
the directory <span class="qtext400">/tmp/sub</span> whose names start with <span class="qtext400">prefix</span>
but also all files in subdirectories whose names start with <span class="qtext400">/tmp/sub/prefix</span>.
If restricted access to files in a subdirectory <span class="qtext400">/tmp/sub/prefix</span> is required, the entry made in PATH must be closed using <span class="qtext400">&quot;/&quot;</span>.</li>

</ul>

<ul>

<li>User with an authorization for the authorization group ROOT can access files in any directory, as long as the physical file name is specified with <span class="qtext400">&quot;/&quot;</span> at the start or is absolute.</li>

</ul>

<ul>

<li>Users with an authorization for the authorization group SUPR can access files in any directories
specified as relative directories as long as the directories are not specified with <span class="qtext400">&quot;/&quot;</span> at the start.</li>

</ul>

<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The table SPTH is filled as follows:</p>
<table>
<thead>
<tr>
<th>PATH</th>
<th>SAVEFLAG</th>
<th>FS_NOREAD</th>
<th>FS_NOWRITE</th>
<th>FS_BRGRU</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">*</span></td>
<td>-</td>
<td><span class="qtext400">X</span></td>
<td><span class="qtext400">X</span></td>
<td>-</td>
</tr>
<tr>
<td><span class="qtext400">/</span></td>
<td>-</td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">ROOT</span></td>
</tr>
<tr>
<td><span class="qtext400">/tmp/</span></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><span class="qtext400">/tmp/myfiles/</span></td>
<td><span class="qtext400">-</span></td>
<td>-</td>
<td>-</td>
<td><span class="qtext400">FILE</span></td>
</tr>
</tbody>
</table>
<p>The entries have the following properties:</p>
<ul>

<li>The entries in the first row apply to all fields on the AS Instance except for those in the paths <span class="qtext400">/</span>, <span class="qtext400">/tmp/</span>, and their subdirectories.</li>

</ul>

<ul>

<li>The entries in the second row apply to all fields on the AS Instance in the path <span class="qtext400">/</span> except for the files in the path <span class="qtext400">/tmp</span> and its subdirectories.</li>

</ul>

<ul>

<li>The entries in the third row apply to all fields on the AS Instance in the path <span class="qtext400">/tmp</span>
except for the files in the path <span class="qtext400">/tmp/myfiles</span> and its subdirectories.</li>

</ul>

<ul>

<li>The entries in the fourth row apply to the fields in the path <span class="qtext400">/tmp/myfiles</span> and its subdirectories.</li>

</ul>

<p>The entries dictate that no user can make reads or writes on files specified using relative paths. Users
with authorization for the authorization group ROOT can access all files specified using absolute paths
except for the files in the path <span class="qtext400">/tmp/myfiles</span>. All users can make both
reads and writes on the files in the path <span class="qtext400">/tmp</span>. Only users who have an
authorization for the authorization group <span class="qtext400">FILE</span> can make reads and writes
on the files in the path <span class="qtext400">/tmp/myfiles</span>.  When the table above is applied,
this means that the following program lines produce a runtime error for all users except those with authorization for the authorization group ROOT,</p>
<dd>
<code style="display: inline;"><span class="qtext">DATA fname TYPE string. <br>fname = `/system/files`. <br>OPEN DATASET fname FOR OUTPUT IN BINARY MODE.</span></code>
</dd>

<p>This configuration forbids the use of any relative paths when files are accessed. This rule is generally only advisable if this behavior is explicitly required.</p>
<ul>

<li>All permitted paths should be specified in the table SPTH and associated with the appropriate authorization groups.</li>

</ul>

<ul>

<li>Access to the path specified as <span class="qtext400">&quot;*</span> should also be subject to an authorization group permitting access using any relative paths for authorized users.</li>

</ul>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abenfile_glosry/" title="file" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                file
              </div>
            </div>
          </a>
        
        
          <a href="../abenfile_interface_glosry/" title="ABAP file interface" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                ABAP file interface
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>