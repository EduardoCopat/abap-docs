


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>CDS Metadata Extensions with CDS Variants - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cds-metadata-extensions-with-cds-variants" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              CDS Metadata Extensions with CDS Variants
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#source-code" class="md-nav__link">
    Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
    <nav class="md-nav" aria-label="Description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#caution" class="md-nav__link">
    Caution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cds-variants-are-not-currently-released-for-general-use-it-is-not-possible-to-define-standalone-cds-variants-and-the-use-of-cds-variants-in-metadata-extensions-produces-a-syntax-check-warning" class="md-nav__link">
    CDS variants are not currently released for general use. It is not possible to define standalone CDS variants and the use of CDS variants in metadata extensions produces a syntax check warning.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abencds_annotate_view_abexa.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="cds-metadata-extensions-with-cds-variants">CDS Metadata Extensions with CDS Variants</h1>
<p>The example demonstrates the <a href="../abencds_meta_data_extension_eval" class="blue">evaluation</a> of CDS annotations that are defined in CDS metadata extensions.</p>
<p><a name="@@ITOC@@ABENCDS_ANNOTATE_VIEW_ABEXA_1"></a>
<s><i>7.31</i></s> <s><i>7.40</i></s> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_dictionary" class="blue">ABAP - Dictionary</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds" class="blue">ABAP CDS in ABAP Dictionary</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds_annotations" class="blue">ABAP CDS - Annotations</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds_anno_usage" class="blue">ABAP CDS - Specifying Annotations</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds_meta_data_extensions" class="blue">ABAP CDS Metadata Extensions</a>&#xA0;</small></p>
<h2 id="source-code">Source Code</h2>
<p><div class="highlight"><pre><span></span><code>    <span class="k">DATA</span><span class="p">(</span><span class="nv">out</span><span class="p">)</span> <span class="o">=</span> <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">new</span><span class="p">(</span>
      <span class="p">)</span><span class="o">-&gt;</span><span class="nf">next_section</span><span class="p">(</span> <span class="s1">&#39;No Meta Data Extension&#39;</span> <span class="p">).</span>
    <span class="nv">cl_dd_ddl_annotation_service</span><span class="o">=&gt;</span><span class="nf">get_annos</span><span class="p">(</span>
      <span class="k">EXPORTING</span>
        <span class="nv">entityname</span>         <span class="o">=</span>     <span class="s1">&#39;DEMO_CDS_MDE&#39;</span>
        <span class="nv">metadata_extension</span> <span class="o">=</span>     <span class="nv">abap_false</span>
      <span class="k">IMPORTING</span>
        <span class="nv">element_annos</span>      <span class="o">=</span>     <span class="k">DATA</span><span class="p">(</span><span class="nv">element_annos</span><span class="p">)</span> <span class="p">).</span>
    <span class="k">DELETE</span> <span class="nv">element_annos</span> <span class="k">WHERE</span> <span class="nv">elementname</span> <span class="o">&lt;&gt;</span> <span class="s1">&#39;ELEMENT&#39;</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="nv">element_annos</span>
      <span class="p">)</span><span class="o">-&gt;</span><span class="nf">next_section</span><span class="p">(</span> <span class="s1">&#39;With Meta Data Extension&#39;</span>
      <span class="p">)</span><span class="o">-&gt;</span><span class="nf">begin_section</span><span class="p">(</span> <span class="s1">&#39;No Variant&#39;</span> <span class="p">).</span>
    <span class="nv">cl_dd_ddl_annotation_service</span><span class="o">=&gt;</span><span class="nf">get_annos</span><span class="p">(</span>
      <span class="k">EXPORTING</span>
        <span class="nv">entityname</span>         <span class="o">=</span>     <span class="s1">&#39;DEMO_CDS_MDE&#39;</span>
        <span class="nv">metadata_extension</span> <span class="o">=</span>     <span class="nv">abap_true</span>
      <span class="k">IMPORTING</span>
        <span class="nv">element_annos</span>      <span class="o">=</span>     <span class="nv">element_annos</span> <span class="p">).</span>
    <span class="k">DELETE</span> <span class="nv">element_annos</span> <span class="k">WHERE</span> <span class="nv">elementname</span> <span class="o">&lt;&gt;</span> <span class="s1">&#39;ELEMENT&#39;</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="nv">element_annos</span>
      <span class="p">)</span><span class="o">-&gt;</span><span class="nf">next_section</span><span class="p">(</span> <span class="s1">&#39;DemoVariant1&#39;</span> <span class="p">).</span>
    <span class="nv">cl_dd_ddl_annotation_service</span><span class="o">=&gt;</span><span class="nf">get_annos</span><span class="p">(</span>
      <span class="k">EXPORTING</span>
        <span class="nv">entityname</span>         <span class="o">=</span>     <span class="s1">&#39;DEMO_CDS_MDE&#39;</span>
        <span class="nv">variant</span>            <span class="o">=</span>     <span class="s1">&#39;DEMOVARIANT1&#39;</span>
        <span class="nv">metadata_extension</span> <span class="o">=</span>     <span class="nv">abap_true</span>
      <span class="k">IMPORTING</span>
        <span class="nv">element_annos</span>      <span class="o">=</span>     <span class="nv">element_annos</span> <span class="p">).</span>
    <span class="k">DELETE</span> <span class="nv">element_annos</span> <span class="k">WHERE</span> <span class="nv">elementname</span> <span class="o">&lt;&gt;</span> <span class="s1">&#39;ELEMENT&#39;</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="nv">element_annos</span>
      <span class="p">)</span><span class="o">-&gt;</span><span class="nf">next_section</span><span class="p">(</span> <span class="s1">&#39;DemoVariant2&#39;</span> <span class="p">).</span>
    <span class="nv">cl_dd_ddl_annotation_service</span><span class="o">=&gt;</span><span class="nf">get_annos</span><span class="p">(</span>
      <span class="k">EXPORTING</span>
        <span class="nv">entityname</span>         <span class="o">=</span>     <span class="s1">&#39;DEMO_CDS_MDE&#39;</span>
        <span class="nv">variant</span>            <span class="o">=</span>     <span class="s1">&#39;DEMOVARIANT2&#39;</span>
        <span class="nv">metadata_extension</span> <span class="o">=</span>     <span class="nv">abap_true</span>
      <span class="k">IMPORTING</span>
        <span class="nv">element_annos</span>      <span class="o">=</span>     <span class="nv">element_annos</span> <span class="p">).</span>
    <span class="k">DELETE</span> <span class="nv">element_annos</span> <span class="k">WHERE</span> <span class="nv">elementname</span> <span class="o">&lt;&gt;</span> <span class="s1">&#39;ELEMENT&#39;</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="nv">element_annos</span>
      <span class="p">)</span><span class="o">-&gt;</span><span class="nf">next_section</span><span class="p">(</span> <span class="s1">&#39;Wrong Variant&#39;</span> <span class="p">).</span>
    <span class="nv">cl_dd_ddl_annotation_service</span><span class="o">=&gt;</span><span class="nf">get_annos</span><span class="p">(</span>
      <span class="k">EXPORTING</span>
        <span class="nv">entityname</span>         <span class="o">=</span>     <span class="s1">&#39;DEMO_CDS_MDE&#39;</span>
        <span class="nv">variant</span>            <span class="o">=</span>     <span class="s1">&#39;�wrxlbrxlkrk&#39;</span>
        <span class="nv">metadata_extension</span> <span class="o">=</span>     <span class="nv">abap_true</span>
      <span class="k">IMPORTING</span>
        <span class="nv">element_annos</span>      <span class="o">=</span>     <span class="nv">element_annos</span> <span class="p">).</span>
    <span class="k">DELETE</span> <span class="nv">element_annos</span> <span class="k">WHERE</span> <span class="nv">elementname</span> <span class="o">&lt;&gt;</span> <span class="s1">&#39;ELEMENT&#39;</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write</span><span class="p">(</span> <span class="nv">element_annos</span>
      <span class="p">)</span><span class="o">-&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="p">).</span>
</code></pre></div>
<a name="@@ITOC@@ABENCDS_ANNOTATE_VIEW_ABEXA_2"></a></p>
<h2 id="description">Description</h2>
<p>The example program uses the method GET_ANNOS of class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span> to access the following CDS view:</p>
<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;DEMOCDSVIEWMDE&apos; <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
@Metadata.allowExtensions: true <br>define view Demo_Cds_MDE <br>&#xA0;&#xA0;as select from <br>&#xA0;&#xA0;&#xA0;&#xA0;demo_expressions <br>
&#xA0;&#xA0;&#xA0;&#xA0;{ <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@UI.dataPoint.title: &apos;View, title&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@UI.dataPoint.description: &apos;View, description&apos; <br>&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@UI.dataPoint.longDescription: &apos;View, longdescription&apos; <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&apos;X&apos; as element <br>
&#xA0;&#xA0;&#xA0;&#xA0;} <br>&#xA0;&#xA0;&#xA0;&#xA0;where <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;id = &apos;X&apos;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </span>
</dd>

<p>The annotations of the view are extended or overridden by the following <a href="../abencds_metadata_extension_glosry" class="grey" title="Glossary Entry">CDS metadata extensions</a>:</p>
<ul>

<li>DEMO_CDS_MDE_INDSTR_NO_VARIANT</li>

</ul>

<dd>
<span class="qtext400">@Metadata.layer: #INDUSTRY <br>annotate view Demo_Cds_MDE with <br>{ <br>&#xA0;&#xA0;@UI.dataPoint.title: &apos;MDE INDUSTRY, no variant, title&apos; <br>
&#xA0;&#xA0;@UI.dataPoint.description: &apos;MDE INDUSTRY, no variant, description&apos; <br>&#xA0;&#xA0;element; <br>}</span>
</dd>

<ul>

<li>DEMO_CDS_MDE_INDSTR_VARIANT_1</li>

</ul>

<dd>
<span class="qtext400">@Metadata.layer: #INDUSTRY <br>annotate view Demo_Cds_MDE with <br>&#xA0;&#xA0;variant <br>
&#xA0;&#xA0;&#xA0;&#xA0;DemoVariant1 <br>{ <br>&#xA0;&#xA0;@UI.dataPoint.longDescription: &apos;MDE INDUSTRY, DemoVariant1, longDescription&apos; <br>&#xA0;&#xA0;element; <br>}</span>
</dd>

<ul>

<li>DEMO_CDS_MDE_INDSTR_VARIANT_2</li>

</ul>

<dd>
<span class="qtext400">@Metadata.layer: #INDUSTRY <br>annotate view Demo_Cds_MDE with <br>&#xA0;&#xA0;variant <br>
&#xA0;&#xA0;&#xA0;&#xA0;DemoVariant2 <br>{ <br>&#xA0;&#xA0;@UI.dataPoint.title: &apos;MDE INDUSTRY, DemoVariant2, title&apos; <br>
&#xA0;&#xA0;@UI.dataPoint.description: &apos;MDE INDUSTRY, DemoVariant2, description&apos; <br>&#xA0;&#xA0;element; <br>}</span>
</dd>

<ul>

<li>DEMO_CDS_MDE_PARTNR_NO_VARIANT</li>

</ul>

<dd>
<span class="qtext400">@Metadata.layer: #PARTNER <br>annotate view Demo_Cds_MDE with <br>{ <br>&#xA0;&#xA0;@UI.dataPoint.title: &apos;MDE PARTNER, no variant, title&apos; <br>&#xA0;&#xA0;element; <br>}</span>
</dd>

<ul>

<li>DEMO_CDS_MDE_PARTNR_VARIANT_1</li>

</ul>

<dd>
<span class="qtext400">@Metadata.layer: #PARTNER <br>annotate view Demo_Cds_MDE with <br>&#xA0;&#xA0;variant <br>
&#xA0;&#xA0;&#xA0;&#xA0;DemoVariant1 <br>{ <br>&#xA0;&#xA0;@UI.dataPoint.title: &apos;MDE PARTNER, DemoVariant1, title&apos; <br>&#xA0;&#xA0;element; <br>}</span>
</dd>

<ul>

<li>DEMO_CDS_MDE_PARTNR_VARIANT_2</li>

</ul>

<dd>
<span class="qtext400">@Metadata.layer: #PARTNER <br>annotate view Demo_Cds_MDE with <br>&#xA0;&#xA0;variant <br>
&#xA0;&#xA0;&#xA0;&#xA0;DemoVariant2 <br>{ <br>&#xA0;&#xA0;@UI.dataPoint.title: &apos;MDE PARTNER, DemoVariant2, title&apos; <br>
&#xA0;&#xA0;@UI.dataPoint.description: &apos;MDE PARTNER, DemoVariant2, description&apos; <br>&#xA0;&#xA0;element; <br>}</span>
</dd>

<p>The evaluation is done with different parameters for the method GET_ANNOS:</p>
<ul>

<li>If the value of <code style="display: inline;"><span class="qtext">abap_false</span></code> is transferred to the parameter METADATA_EXTENSION,
the default evaluation of the metadata extensions is switched off for the view and the annotations that are specified in the source code are returned.</li>

</ul>

<ul>

<li>If the value of <code style="display: inline;"><span class="qtext">abap_true</span></code> is transferred to the parameter METADATA_EXTENSION (default behavior), all existing metadata extensions for the view are evaluated as follows.</li>

</ul>

<ul class="circlem2">

<li>If the name of a CDS variant is not transferred, only annotations from metadata extensions that
are not assigned to a variant are used. DEMO_CDS_MDE_PARTNR_NO_VARIANT is evaluated first and the annotation
<span class="qtext400">@UI.dataPoint.title</span> is found there. This is ignored in the next metadata
extension in the hierarchy, DEMO_CDS_MDE_INDSTR_NO_VARIANT, from which only <span class="qtext400">@UI.dataPoint.description</span>
is used. Finally, <span class="qtext400">UI.dataPoint.longDescription</span> is used from the view itself, which has no entry in a metadata extension.</li>

</ul>

<ul class="circlem2">

<li>If the name of the CDS variant DemoVariant1 is transferred, annotations from the metadata extensions
that are assigned to this variant are used first, and then annotations from metadata extensions that
are not assigned to a variant. DEMO_CDS_MDE_PARTNR_VARIANT_1 is evaluated first and the annotation <span class="qtext400">
@UI.dataPoint.title</span> is found there. In the next metadata extension in the hierarchy, DEMO_CDS_MDE_INDSTR_VARIANT1,
the annotation <span class="qtext400">@UI.dataPoint.longDescription</span> is found. No annotation is
found in DEMO_CDS_MDE_PARTNR_NO_VARIANT. In DEMO_CDS_MDE_INDSTR_NO_VARIANT, the annotation <span class="qtext400">@UI.dataPoint.description</span>
(not used until now) is found and used. The annotations of the source code of the view are all overridden.</li>

</ul>

<ul class="circlem2">

<li>If the name of the CDS variant DemoVariant2 is passed, DEMO_CDS_MDE_PARTNR_VARIANT_2 is evaluated
first and the annotations <span class="qtext400">UI.dataPoint.title</span> and <span class="qtext400">@UI.dataPoint.description</span>
are found there. In the next metadata extension in the hierarchy, DEMO_CDS_MDE_INDSTR_VARIANT2, there
are no annotations that have not already been used.  The same applies to DEMO_CDS_MDE_PARTNR_NO_VARIANT
and DEMO_CDS_MDE_INDSTR_NO_VARIANT, which are evaluated next. Therefore, the annotation <span class="qtext400">UI.dataPoint.longDescription</span> from the view itself is used.</li>

</ul>

<ul class="circlem2">

<li>If the name of an invalid CDS variant is passed, an empty internal table is returned.</li>

</ul>

<p>The column SOURCEDDLX in the output internal tables contains the metadata extension in which an annotation is specified.</p>
<h3 id="caution">Caution</h3>
<h3 id="cds-variants-are-not-currently-released-for-general-use-it-is-not-possible-to-define-standalone-cds-variants-and-the-use-of-cds-variants-in-metadata-extensions-produces-a-syntax-check-warning">CDS variants are not currently released for general use. It is not possible to define standalone CDS variants and the use of CDS variants in metadata extensions produces a syntax check warning.</h3>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abencds_anno_usage/" title="ABAP CDS - Specifying Annotations" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ABAP CDS - Specifying Annotations
              </div>
            </div>
          </a>
        
        
          <a href="../abencds_annotation_array_abexa/" title="ABAP CDS, Annotation Array" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                ABAP CDS, Annotation Array
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>