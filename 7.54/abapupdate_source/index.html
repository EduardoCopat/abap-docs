


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapupdate source - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#update-dbtab-source" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapupdate source
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternatives" class="md-nav__link">
    Alternatives
  </a>
  
    <nav class="md-nav" aria-label="Alternatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-1" class="md-nav__link">
    Alternative 1
  </a>
  
    <nav class="md-nav" aria-label="Alternative 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extras" class="md-nav__link">
    Extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-example" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-1" class="md-nav__link">
    Addition 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-2" class="md-nav__link">
    Addition 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_3" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-2" class="md-nav__link">
    Alternative 2
  </a>
  
    <nav class="md-nav" aria-label="Alternative 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_4" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-3" class="md-nav__link">
    Alternative 3
  </a>
  
    <nav class="md-nav" aria-label="Alternative 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_5" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abapupdate_source.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopensql" class="blue">ABAP SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopen_sql_writing" class="blue">ABAP SQL - Write Accesses</a>&#xA0;&#x2192;&#xA0;
<a href="../abapupdate" class="blue">UPDATE dbtab</a>&#xA0;</small></p>
<h1 id="update-dbtab-source">UPDATE dbtab - source</h1>
<p><a href="../abapupdate_shortref" class="blue">Quick Reference</a>  </p>
<p>Other versions: 
 <a href="../../7.31/abapupdate_source">7.31</a> | <a href="../../7.40/abapupdate_source">7.40</a> | <b>7.54</b></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">... <i class="bn">{</i> <i class="bn">{</i>SET
<a href="../abapupdate_set_expression" class="blue">set_expression1</a>,
<a href="../abapupdate_set_expression" class="blue">set_expression2</a>, ... <i class="bn">[</i>WHERE
<a href="../abenwhere_logexp" class="blue">sql_cond</a><i class="bn">]</i> <i class="bn">[</i><a href="../abenosql_db_hints" class="blue">db_hints</a><i class="bn">]</i><i class="bn">}</i></span> <br>
<span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">|</i> <i class="bn">{</i>FROM <i class="bn">{</i>@wa<i class="bn">|</i>@( expr )<i class="bn">}</i><i class="bn">|</i><i class="bn">{</i>TABLE @itab<i class="bn">|</i>@( expr )<i class="bn">}</i><i class="bn">}</i> <i class="bn">}</i> ...</span> 
</code></pre></p>
<h2 id="alternatives">Alternatives</h2>
<p><a href="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... SET set_expression1, set_expression2, ... <i class="bn">[</i>WHERE sql_cond<i class="bn">]</i> <i class="bn">[</i>db_hints<i class="bn">]</i></span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... FROM @wa<i class="bn">|</i>@( expr )</span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <code style="display: inline;"><span class="qtext">... FROM TABLE @itab<i class="bn">|</i>@( expr )</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>The data in <code style="display: inline;"><span class="qtext">source</span></code> defines which rows and columns are changed. Either individual
columns are changed using the addition <code style="display: inline;"><span class="qtext">SET</span></code>, or entire rows are overwritten using the addition <code style="display: inline;"><span class="qtext">FROM</span></code>.</p>
<p>After <code style="display: inline;"><span class="qtext">FROM</span></code> a non-table-like data object, or after <code style="display: inline;"><span class="qtext">TABLE</span></code> an internal table, can be specified as a
<a href="../abenopen_sql_host_variables" class="blue">host variable</a> or
<a href="../abenopen_sql_host_expressions" class="blue">host expression</a>. The content of these objects determines which rows are changed and which values are used to overwrite the row(s).</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>Host variables without the escape character <code style="display: inline;"><span class="qtext">@</span></code> are
<a href="../abenopen_sql_hostvar_obsolete" class="blue">obsolete</a>. The escape character <code style="display: inline;"><span class="qtext">@</span></code> must be specified in the
<a href="../abenopensql_strict_modes" class="blue">strict modes</a> of the syntax check from Release 7.40, SP05.  </p>
<p><a name="@@SET@@UPDATE dbtab@@"></a>
<a name="@@WHERE@@UPDATE dbtab@@"></a>
</div>
<a name="!ABAP_ALTERNATIVE_1@1@"></a></p>
<h2 id="alternative-1">Alternative 1</h2>
<p><span class="qtext">... SET set_expression1, set_expression2, ... <i class="bn">[</i>WHERE
<a href="../abenwhere_logexp" class="blue">sql_cond</a><i class="bn">]</i> <i class="bn">[</i><a href="../abenosql_db_hints" class="blue">db_hints</a><i class="bn">]</i></span><br />
 <br><!-- /A --></p>
<h3 id="extras">Extras</h3>
<p><a href="#!ABAP_ADDITION_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... WHERE sql_cond</span></code> </a><br />
 <a href="#!ABAP_ADDITION_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... db_hints</span></code> </a>  </p>
<h3 id="effect_1">Effect</h3>
<p>After the addition <code style="display: inline;"><span class="qtext">SET</span></code>, the changes are specified in a list of change expressions:
<a href="../abapupdate_set_expression" class="blue"><code style="display: inline;"><span class="qtext">set_expression1</span></code></a>,
<a href="../abapupdate_set_expression" class="blue"><code style="display: inline;"><span class="qtext">set_expression2</span></code></a>, <code style="display: inline;"><span class="qtext">...</span></code>.</p>
<p>The content of primary key fields can be modified only if the affected database table is not associated
with a search help. If these changes would create a row which would produce duplicate entries in the
primary key or a unique secondary index of the database table, no rows are changed and <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is set to 4.</p>
<p>If the value of a column with type LRAW or LCHR is modified, the associated INT2 or INT4 field must also be given a value.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
When a comma-separated list is used, the syntax check is performed in a
<a href="../abenopensql_strict_mode_740_sp05" class="blue">strict mode</a>, which handles the statement more strictly than the regular syntax check.
</li>

<li>
Instead of using commas, blanks can be used to separate change expressions in an
<a href="../abenopen_sql_lists_obsolete" class="blue">obsolete form</a>. Commas must be specified, however, in the
<a href="../abenopensql_strict_modes" class="blue">strict modes</a> of the syntax check from Release 7.40, SP05.
<br></li>

<p></ul>
</div></p>
<h3 id="executable-example">Executable Example</h3>
<p><a href="../abenupdate_set_abexa" class="blue"><code style="display: inline;"><span class="qtext">UPDATE</span></code>, Use of <code style="display: inline;"><span class="qtext">SET</span></code></a>  </p>
<h3 id="addition-1">Addition 1</h3>
<p><code style="display: inline;"><span class="qtext">... WHERE sql_cond</span></code>   <br><!-- /A --></p>
<h3 id="effect_2">Effect</h3>
<p>The addition <code style="display: inline;"><span class="qtext">WHERE</span></code> determines in which rows of the database table the changes
are made. Those rows are change for which the logical expression <a href="../abenwhere_logexp" class="blue"><code style="display: inline;"><span class="qtext">sql_cond</span></code></a> is true. The
<a href="../abenwhere_logexp" class="blue">relational expressions</a> of the
logical expression <a href="../abenasql_cond" class="blue"><code style="display: inline;"><span class="qtext">sql_cond</span></code></a> are subject to the restriction that no
<a href="../abensubquery_glosry" class="grey" title="Glossary Entry">subqueries</a> can be evaluated
on the modified database table. If no <code style="display: inline;"><span class="qtext">WHERE</span></code> condition is specified, all the rows in the target of the statement are modified by default. In a client-specific target, these are the rows of the current client.
<a href="../abenopen_sql_client_handling" class="blue">Implicit client handling</a> can be defined using the addition <a href="../abapiumd_client" class="blue"><code style="display: inline;"><span class="qtext">USING</span></code></a>. The
<a href="../abenclient_column_glosry" class="grey" title="Glossary Entry">client column</a> of a client-specific target cannot be specified in the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
If the data source is accessed using generic <a href="../abensap_buffering_glosry" class="grey" title="Glossary Entry">
table buffering</a>, the buffered area must be specified in full in the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition. If not, buffering is bypassed.
</li>

<li>
If the data sources are accessed using single record buffering, the conditions joined using <code style="display: inline;"><span class="qtext">AND</span></code>
in the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition must be specified for all key fields of the primary key. If not, buffering is bypassed.
</li>

<li>
If <a href="../abenopen_sql_client_handling" class="blue">implicit client handling</a> is disabled
using the addition <a href="../abapud_client_obsolete" class="blue"><code style="display: inline;"><span class="qtext">CLIENT SPECIFIED</span></code></a>
(obsolete here), it is still possible to use a client column as an operand in the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition.
<br></li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Sets multiple columns in a row determined using a <code style="display: inline;"><span class="qtext">WHERE</span></code> condition.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DELETE</span> <span class="k">FROM</span> <span class="nv">demo_update</span><span class="p">.</span> 
<span class="k">INSERT</span> <span class="nv">demo_update</span> <span class="k">FROM</span> <span class="err">@</span><span class="p">(</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span> <span class="p">)</span> <span class="p">).</span> 

<span class="k">UPDATE</span> <span class="nv">demo_update</span> <span class="nv">SET</span> <span class="nv">col1</span> <span class="o">=</span> <span class="mi">100</span> 
                       <span class="nv">col2</span> <span class="o">=</span> <span class="mi">200</span> 
                       <span class="nv">col3</span> <span class="o">=</span> <span class="mi">300</span> 
                       <span class="nv">col4</span> <span class="o">=</span> <span class="mi">400</span> <span class="k">WHERE</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">.</span> 
</code></pre></div>
</div></p>
<h3 id="addition-2">Addition 2</h3>
<p><code style="display: inline;"><span class="qtext">... db_hints</span></code>   <br><!-- /A --></p>
<h3 id="effect_3">Effect</h3>
<p>In this variant, <a href="../abendatabase_hint_glosry" class="grey" title="Glossary Entry">database
hints</a> can be specified using <a href="../abenosql_db_hints" class="blue"><code style="display: inline;"><span class="qtext">db_hints</span></code></a>.  </p>
<p><a name="@@FROM@@UPDATE dbtab@@"></a>
<a name="!ABAP_ALTERNATIVE_2@2@"></a></p>
<h2 id="alternative-2">Alternative 2</h2>
<p><code style="display: inline;"><span class="qtext">... FROM @wa<i class="bn">|</i>@( expr )</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_4">Effect</h3>
<p>If a non-table-like work area is specified as a host variable <a href="../abenopen_sql_host_variables" class="blue">
<code style="display: inline;"><span class="qtext">@wa</span></code></a> or host expression <a href="../abenopen_sql_host_expressions" class="blue"><span class="qtext">@( expr
)</span></a>, a row is found in the database table whose primary key content is the same as that of the corresponding initial part of the work area. The work area must meet the
<a href="../abenopen_sql_wa" class="blue">prerequisites</a> for use in ABAP SQL statements.</p>
<ul>

<li>
If a work area which does not contain any reference variables for
<a href="../abenlob_handle_glosry" class="grey" title="Glossary Entry">LOB handles</a> is specified,
the content of the work area is interpreted without being converted and follows the structure of the
database table  or the view . The content of the work area is assigned to the rows found. The assignment takes place without conversion, from left to right following the structure of the database table  or the view .
</li>
<li>
When a <a href="../abenlob_handle_structure_glosry" class="grey" title="Glossary Entry">LOB handle structure</a> is specified, it must be constructed (in accordance with the
<a href="../abenopen_sql_wa" class="blue">prerequisites</a>) exactly like the structure of the database table. Work area components that are not
<a href="../abenlob_handle_structure_glosry" class="grey" title="Glossary Entry">LOB handle components</a>
are assigned directly to the corresponding column of the row found. In the case of a LOB handle component
of a read stream type, this type is created. In this case of a type for a locator: this must exist and is used as a source. For details, see <span class="lnkgrey">LOB handles</span>.
<br></li>

</ul>

<p>If there is no row with the same content for the primary key in the database or if the change would
produce a duplicate entry in a unique secondary index, the row is not changed and <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is set to 4.</p>
<p><a href="../abenopen_sql_client_handling" class="blue">Implicit ABAP SQL client handling</a> applies, in which a
<a href="../abenclient_identifier_glosry" class="grey" title="Glossary Entry">client ID</a> specified
in <code style="display: inline;"><span class="qtext">wa</span></code> is ignored. The current client is used by default. The addition <a href="../abapiumd_client" class="blue">
<code style="display: inline;"><span class="qtext">USING CLIENT</span></code></a> can be used to switch to an explicitly specified client.
The addition <a href="../abapiumd_client" class="blue"><code style="display: inline;"><span class="qtext">CLIENT SPECIFIED</span></code></a> can be used to switch to the client specified in <code style="display: inline;"><span class="qtext">wa</span></code>.</p>
<p><a href="../abenview_glosry" class="grey" title="Glossary Entry">Views</a> whose fields are all key fields should not be written to using <code style="display: inline;"><span class="qtext">UPDATE FROM</span></code>. For
<a href="../abendatabase_view_glosry" class="grey" title="Glossary Entry">database views</a>, this produces a syntax check warning and for
<a href="../abenprojection_view_glosry" class="grey" title="Glossary Entry">projection views</a> a syntax error or runtime error.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The work area <code style="display: inline;"><span class="qtext">wa</span></code> should always be declared in relation to the database table or the view in ABAP Dictionary. For the derivation of
<a href="../abenlob_handle_structure_glosry" class="grey" title="Glossary Entry">LOB handle structures</a>, there are special
<a href="../abaptypes_lob_handle" class="blue">additions</a> of the statements <code style="display: inline;"><span class="qtext">TYPES</span></code> and <code style="display: inline;"><span class="qtext"><i class="bn">[</i>CLASS-<i class="bn">]</i>DATA</span></code>.
</li>

<li>
Exceptions due to invalid values can be raised in compatible work areas too. For example, components
of the types <code style="display: inline;"><span class="qtext">d</span></code> and <code style="display: inline;"><span class="qtext">t</span></code> can contain invalid dates and times that are not accepted by columns of the types DATN and TIMN.
</li>

<li>
If a <a href="../abenconstructor_expression_glosry" class="grey" title="Glossary Entry">constructor expression</a> is specified as a
<a href="../abenopen_sql_host_expressions" class="blue">host expression</a> for the work area <span class="qtext">
wa</span>, for which the data type is inferred using the <code style="display: inline;"><span class="qtext">#</span></code> character, a structure consisting of all the database table columns is created as the type.
</li>

<li>
If the database table or view is specified statically, a
<a href="../abapupdate_obsolete" class="blue">short form</a> can be specified outside of classes. This means that the work area specified using <code style="display: inline;"><span class="qtext">FROM wa</span></code> can be omitted. The prerequisite is that a
<a href="../abentable_work_area_glosry" class="grey" title="Glossary Entry">table work area</a> <span class="qtext">
dbtab</span> for the respective database table or the view is declared using the statement <code style="display: inline;"><span class="qtext">TABLES</span></code>.
The system expands the <code style="display: inline;"><span class="qtext">UPDATE</span></code> statement implicitly to include the addition <code style="display: inline;"><span class="qtext">FROM dbtab</span></code>.
<br></li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Change the discount rate of customer with customer number &apos;00017777&apos; (in the current client) to 3 per cent.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span> <span class="nv">wa</span> <span class="k">TYPE </span><span class="nv">scustom</span><span class="p">.</span> 

<span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="nv">scustom</span> 
       <span class="k">WHERE</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;00017777&#39;</span> 
       <span class="k">INTO</span> <span class="err">@</span><span class="nv">wa</span><span class="p">.</span> 

<span class="nv">wa</span><span class="o">-</span><span class="nv">discount</span> <span class="o">=</span> <span class="s1">&#39;003&#39;</span><span class="p">.</span> 
<span class="k">UPDATE</span> <span class="nv">scustom</span> <span class="k">FROM</span> <span class="err">@</span><span class="nv">wa</span><span class="p">.</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The same example as before but with an inline declaration and a host expression.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="nv">scustom</span> 
       <span class="k">WHERE</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;00017777&#39;</span> 
       <span class="k">INTO</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">wa</span><span class="p">).</span> 

<span class="k">UPDATE</span> <span class="nv">scustom</span> <span class="k">FROM</span> <span class="err">@</span><span class="p">(</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="nv">BASE</span> <span class="nv">wa</span> <span class="nv">discount</span> <span class="o">=</span> <span class="s1">&#39;003&#39;</span> <span class="p">)</span> <span class="p">).</span> 
</code></pre></div>
<a name="@@FROM TABLE@@UPDATE dbtab@@"></a>
</div>
<a name="!ABAP_ALTERNATIVE_3@3@"></a></p>
<h2 id="alternative-3">Alternative 3</h2>
<p><code style="display: inline;"><span class="qtext">... FROM TABLE @itab<i class="bn">|</i>@( expr )</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_5">Effect</h3>
<p>If an internal table is specified as a host variable <a href="../abenopen_sql_host_variables" class="blue"><span class="qtext">
@itab</span></a> or host expression <a href="../abenopen_sql_host_expressions" class="blue"><span class="qtext">@( expr
)</span></a>, the system processes all the rows of the internal table in accordance with the rules for the work area <code style="display: inline;"><span class="qtext">wa</span></code>, with the exception that when specifying an internal table,
<a href="../abenlocator_glosry" class="grey" title="Glossary Entry">locators</a> are used as a source but
<a href="../abenwriter_stream_glosry" class="grey" title="Glossary Entry">reader streams</a> cannot be created.</p>
<p>The row type of the internal table must meet the <a href="../abenopen_sql_wa" class="blue">prerequisites</a> for use in ABAP SQL statements.</p>
<p>If there is no row with the same content of the <a href="../abenprimary_key_glosry" class="grey" title="Glossary Entry">
primary key</a> in the database (for a row of the internal table) or if the change would produce a duplicate
entry in a unique secondary index, the row is not changed and <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is set to 4. Then processing continues with the next row.</p>
<p>If the internal table is empty, no rows are changed. However <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is still set to 0. The system field <code style="display: inline;"><span class="qtext">sy-dbcnt</span></code> is set to the number of rows that are inserted.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
When an internal table is used, package by package processing performs a read (running in parallel to
an <code style="display: inline;"><span class="qtext">UPDATE</span></code> on the same rows) that partially shows the new status and partially shows the old status.
</li>

<li>
Statement <code style="display: inline;"><span class="qtext">UPDATE FROM TABLE</span></code> changes all rows for which this is possible.
If <code style="display: inline;"><span class="qtext">sy-subrc</span></code> contains the value 4 after the statement has been executed, this
does not mean that no rows were changed. It simply means that not all of the rows in the internal table could be taken into account.
</li>

<li>
If a <a href="../abenconstructor_expression_glosry" class="grey" title="Glossary Entry">constructor expression</a> as a
<a href="../abenopen_sql_host_expressions" class="blue">host expression</a> is specified as an internal
table <code style="display: inline;"><span class="qtext">itab</span></code>, for which the data type is inferred using the <code style="display: inline;"><span class="qtext">#</span></code>
character, a structured standard table (whose row type consists of all the database table columns) with an empty table key is created as the type.
<br></li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Reduces the flight price for all of today&apos;s flights of an airline carrier in the database table <span class="lnkgrey">
SFLIGHT</span> by the percentage <code style="display: inline;"><span class="qtext">percent</span></code>. The new price is always performed
in an internal table <code style="display: inline;"><span class="qtext">sflight_tab</span></code> (declared inline) and the database table is changed accordingly.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span><span class="p">:</span> <span class="nv">carrid</span>  <span class="k">TYPE </span><span class="nv">sflight</span><span class="o">-</span><span class="nv">carrid</span><span class="p">,</span> 
      <span class="nv">percent</span> <span class="k">TYPE </span><span class="nv">p</span> <span class="k">LENGTH</span> <span class="mi">1</span> <span class="k">DECIMALS</span> <span class="mi">0</span><span class="p">.</span> 

<span class="nv">cl_demo_input</span><span class="o">=&gt;</span><span class="nf">new</span><span class="p">(</span> 
  <span class="p">)</span><span class="o">-&gt;</span><span class="nf">add_field</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">carrid</span> 
  <span class="p">)</span><span class="o">-&gt;</span><span class="nf">add_field</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">percent</span> <span class="p">)</span><span class="o">-&gt;</span><span class="nf">request</span><span class="p">(</span> <span class="p">).</span> 

<span class="k">SELECT</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="nv">sflight</span> 
       <span class="k">WHERE</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="err">@</span><span class="nv">carrid</span> <span class="ow">AND</span> 
             <span class="nv">fldate</span> <span class="o">=</span> <span class="err">@</span><span class="nv">sy</span><span class="o">-</span><span class="nv">datum</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">sflight_tab</span><span class="p">).</span> 

<span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span> 
  <span class="k">LOOP AT </span><span class="nv">sflight_tab</span> <span class="k">ASSIGNING</span> <span class="k">FIELD</span><span class="o">-</span><span class="nv">SYMBOL</span><span class="p">(</span><span class="nv">&lt;sflight&gt;</span><span class="p">).</span> 
    <span class="nv">&lt;sflight&gt;</span><span class="o">-</span><span class="nv">price</span> <span class="o">*=</span> <span class="mi">1</span> <span class="o">-</span> <span class="nv">percent</span> <span class="p">/</span> <span class="mi">100</span><span class="p">.</span> 
  <span class="k">ENDLOOP</span><span class="p">.</span> 
<span class="k">ENDIF</span><span class="p">.</span> 

<span class="k">UPDATE</span> <span class="nv">sflight</span> <span class="k">FROM</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">sflight_tab</span><span class="p">.</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The same example as above, but the new price is calculated in a host expression for the internal table.</p>
<div class="highlight"><pre><span></span><code><span class="k">DATA</span><span class="p">:</span> <span class="nv">carrid</span>  <span class="k">TYPE </span><span class="nv">sflight</span><span class="o">-</span><span class="nv">carrid</span><span class="p">,</span> 
      <span class="nv">percent</span> <span class="k">TYPE </span><span class="nv">p</span> <span class="k">LENGTH</span> <span class="mi">1</span> <span class="k">DECIMALS</span> <span class="mi">0</span><span class="p">.</span> 

<span class="nv">cl_demo_input</span><span class="o">=&gt;</span><span class="nf">new</span><span class="p">(</span> 
  <span class="p">)</span><span class="o">-&gt;</span><span class="nf">add_field</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">carrid</span> 
  <span class="p">)</span><span class="o">-&gt;</span><span class="nf">add_field</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">percent</span> <span class="p">)</span><span class="o">-&gt;</span><span class="nf">request</span><span class="p">(</span> <span class="p">).</span> 

<span class="k">SELECT</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="nv">sflight</span> 
       <span class="k">WHERE</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="err">@</span><span class="nv">carrid</span> <span class="ow">AND</span> 
             <span class="nv">fldate</span> <span class="o">=</span> <span class="err">@</span><span class="nv">sy</span><span class="o">-</span><span class="nv">datum</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">sflight_tab</span><span class="p">).</span> 

<span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span> 
  <span class="k">UPDATE</span> <span class="nv">sflight</span> <span class="k">FROM</span> <span class="k">TABLE</span> <span class="err">@</span><span class="p">(</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> 
    <span class="k">FOR</span> <span class="nv">&lt;sflight&gt;</span> <span class="k">IN</span> <span class="nv">sflight_tab</span> 
      <span class="p">(</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> 
          <span class="nv">BASE</span> <span class="nv">&lt;sflight&gt;</span> 
          <span class="nv">price</span> <span class="o">=</span> <span class="nv">&lt;sflight&gt;</span><span class="o">-</span><span class="nv">price</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="nv">percent</span> <span class="p">/</span> <span class="mi">100</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">).</span> 
<span class="k">ENDIF</span><span class="p">.</span> 
</code></pre></div>

</div>

<h3 id="continue">Continue</h3>
<p><a href="../abapupdate_set_expression" class="blue">UPDATE dbtab - set_expression</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>