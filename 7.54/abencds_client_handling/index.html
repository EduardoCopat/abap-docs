


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abencds client handling - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#abap-cds-client-handling-in-cds-views" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abencds client handling
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#determining-client-dependency" class="md-nav__link">
    Determining Client Dependency
  </a>
  
    <nav class="md-nav" aria-label="Determining Client Dependency">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inherited" class="md-nav__link">
    #INHERITED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client_dependent" class="md-nav__link">
    #CLIENT_DEPENDENT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client_independent" class="md-nav__link">
    #CLIENT_INDEPENDENT
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#determining-client-handling" class="md-nav__link">
    Determining Client Handling
  </a>
  
    <nav class="md-nav" aria-label="Determining Client Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automated" class="md-nav__link">
    #AUTOMATED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session_variable" class="md-nav__link">
    #SESSION_VARIABLE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#none" class="md-nav__link">
    #NONE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#properties-of-client-specific-cds-views" class="md-nav__link">
    Properties of Client-Specific CDS Views
  </a>
  
    <nav class="md-nav" aria-label="Properties of Client-Specific CDS Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#executable-example" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abencds_client_handling.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_dictionary" class="blue">ABAP - Dictionary</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds" class="blue">ABAP CDS in ABAP Dictionary</a>&#xA0;&#x2192;&#xA0;
<a href="../abenddic_cds_entities" class="blue">ABAP CDS - Data Definitions</a>&#xA0;&#x2192;&#xA0;
<a href="../abenddic_cds_views" class="blue">ABAP CDS - Views</a>&#xA0;</small></p>
<h1 id="abap-cds-client-handling-in-cds-views">ABAP CDS - Client Handling in CDS Views</h1>
<p>For a CDS view in ABAP CDS, the <a href="../abencds_annotation_glosry" class="grey" title="Glossary Entry">
CDS annotation</a> <a href="../abencds_f1_view_entity_annotations" class="blue"><span class="qtext400">@ClientHandling</span></a> can be used to specify client handling.</p>
<ul>

<li><a href="#@@ITOC@@ABENCDS_CLIENT_HANDLING_1" class="blue">Determining Client Dependency</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENCDS_CLIENT_HANDLING_2" class="blue">Determining Client Handling</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENCDS_CLIENT_HANDLING_3" class="blue">Properties of Client-Specific CDS Views</a></li>

</ul>

<p><a name="@@ITOC@@ABENCDS_CLIENT_HANDLING_1"></a>
Other versions: 
 <s><i>7.31</i></s> | <a href="../../7.40/abencds_client_handling">7.40</a> | <b>7.54</b></p>
<h2 id="determining-client-dependency">Determining Client Dependency</h2>
<p>The annotation <span class="qtext400">@ClientHandling.type</span> determines the client dependency of the view. The following values can be specified for the annotation:</p>
<h3 id="inherited">#INHERITED</h3>
<p>Default value. The client dependency of the view is determined by the <a href="../abencds_f1_data_source" class="blue">data sources</a> used.</p>
<ul>

<li>If one of the data sources used in the view is <a href="../abenclient_dependence_glosry" class="grey" title="Glossary Entry">client-specific</a>, the view is client-specific.</li>

</ul>

<ul>

<li>If none of the data sources used in the view is <a href="../abenclient_dependence_glosry" class="grey" title="Glossary Entry">client-specific</a>, the view is a cross-client view.</li>

</ul>

<h3 id="client_dependent">#CLIENT_DEPENDENT</h3>
<p>The view is client-specific. A prerequisite for this is that at least on of the <a href="../abencds_f1_data_source" class="blue">data sources</a> used in the view is client-specific. If not, a syntax error occurs.</p>
<h3 id="client_independent">#CLIENT_INDEPENDENT</h3>
<p>The view is a cross-client view. A prerequisite for this is that none of the <a href="../abencds_f1_data_source" class="blue">data sources</a> used in the view is client-specific. If not, a syntax error occurs.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>CDS views for application data should usually be client-specific.</li>

<p></ul>
<ul></p>
<li>The annotation <a href="../abencds_f1_view_entity_annotations" class="blue"><span class="qtext400">@ClientHandling.type</span></a>
replaces the annotation <a href="../abencds_view_client_handling_obs" class="blue"><span class="qtext400">@ClientDependent</span></a> and should be used instead of this annotation.</li>

<p></ul>
<ul></p>
<li>Unlike the annotation <span class="qtext400">@ClientDependent</span>, the annotation <span class="qtext400">@ClientHandling.type</span>
cannot be used to make a CDS view into a cross-client view if it contains client-specific data sources.</li>

<p></ul>
<ul></p>
<li>If the annotation <span class="qtext400">@ClientHandling.type</span> is not specified, client dependency
is derived implicitly from the client dependency of the data sources uses, as when specified with the value <span class="qtext400">#INHERITED</span>.</li>

<p></ul>
<a name="@@ITOC@@ABENCDS_CLIENT_HANDLING_2"></a>
</div></p>
<h2 id="determining-client-handling">Determining Client Handling</h2>
<p>The annotation <span class="qtext400">@ClientHandling.algorithm</span> determines how implicit client handling is performed. The following values can be specified for the annotation:</p>
<h3 id="automated">#AUTOMATED</h3>
<p>Default value for the values <span class="qtext400">#INHERITED</span> and <span class="qtext400">#CLIENT_DEPENDENT</span>
of the annotation <span class="qtext400">@ClientHandling.type</span>. Cannot be used together with its value <span class="qtext400">#CLIENT_INDEPENDENT</span>.</p>
<p>The value <span class="qtext400">#AUTOMATED</span> expands the joins of the CDS view implicitly as shown
in the following table. In the case of outer joins, cross-client sides are made into client-specific
sides artificially using cross joins, which avoids NULL values. This applies to joins specified directly using <span class="qtext400">JOIN</span> and to instances of joins created when using
<a href="../abencds_path_expression_glosry" class="grey" title="Glossary Entry">SQL path expressions</a>.</p>
<table>
<thead>
<tr>
<th>Left Side</th>
<th>Right Side</th>
<th>INNER JOIN</th>
<th>LEFT OUTER JOIN</th>
<th>RIGHT OUTER JOIN</th>
<th>CROSS JOIN</th>
</tr>
</thead>
<tbody>
<tr>
<td>Client-specific</td>
<td>Client-specific</td>
<td>Compares the client columns in the <span class="qtext400">ON</span> condition</td>
<td>Compares the client columns in the <span class="qtext400">ON</span> condition</td>
<td>Compares the client columns in the <span class="qtext400">ON</span> condition</td>
<td>Transforms the cross join to an inner join using an <span class="qtext400">ON</span> condition for the client columns</td>
</tr>
<tr>
<td>Cross-client</td>
<td>Client-specific</td>
<td><span class="qtext400">-</span></td>
<td>The left side is replaced by a cross join of the cross-client data source with the database table<span class="lnkgrey">T000</span> and a comparison of the client columns in the <span class="qtext400">ON</span> condition.</td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
</tr>
<tr>
<td>Client-specific</td>
<td>Cross-client</td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td>The right side is replaced by a cross join of the cross-client data source with the database table<span class="lnkgrey">T000</span> and the client columns are compared in the <span class="qtext400">ON</span> condition.</td>
<td><span class="qtext400">-</span></td>
</tr>
<tr>
<td>Cross-client</td>
<td>Cross-client</td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
</tr>
</tbody>
</table>
<h3 id="session_variable">#SESSION_VARIABLE</h3>
<p>Cannot be used together with the value <span class="qtext400">#CLIENT_INDEPENDENT</span> of the annotation <span class="qtext400">@ClientHandling.type</span>.</p>
<p>The value <span class="qtext400">#SESSION_VARIABLE</span> expands the joins of the CDS view implicitly
as shown in the following table. This applies to joins specified explicitly and directly using <span class="qtext400">JOIN</span> and to instances of joins created when using
<a href="../abencds_path_expression_glosry" class="grey" title="Glossary Entry">SQL path expressions</a>.</p>
<table>
<thead>
<tr>
<th>Left Side</th>
<th>Right Side</th>
<th>INNER JOIN</th>
<th>LEFT OUTER JOIN</th>
<th>RIGHT OUTER JOIN</th>
<th>CROSS JOIN</th>
</tr>
</thead>
<tbody>
<tr>
<td>Client-specific</td>
<td>Client-specific</td>
<td>Compares the client columns in the <span class="qtext400">ON</span> condition</td>
<td>Compares the client columns in the <span class="qtext400">ON</span> condition</td>
<td>Compares the client columns in the <span class="qtext400">ON</span> condition</td>
<td>Transforms the cross join to an inner join using an <span class="qtext400">ON</span> condition for the client columns</td>
</tr>
<tr>
<td>Cross-client</td>
<td>Client-specific</td>
<td><span class="qtext400">-</span></td>
<td>Compares the client column with the value of the<a href="../abensession_variable_glosry" class="grey" title="Glossary Entry">session variable</a> <a href="../abencds_f1_session_variable" class="blue"><span class="qtext400">$session.client</span></a> in the <span class="qtext400">ON</span> condition</td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
</tr>
<tr>
<td>Client-specific</td>
<td>Cross-client</td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td>Compares the client column with the value of the<a href="../abensession_variable_glosry" class="grey" title="Glossary Entry">session variable</a> <a href="../abencds_f1_session_variable" class="blue"><span class="qtext400">$session.client</span></a> in the <span class="qtext400">ON</span> condition</td>
<td><span class="qtext400">-</span></td>
</tr>
<tr>
<td>Cross-client</td>
<td>Cross-client</td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
<td><span class="qtext400">-</span></td>
</tr>
</tbody>
</table>
<p>In addition, when client-specific data tables are accessed, <span class="qtext400">WHERE</span> clauses with comparisons of the client columns with the
<a href="../abensession_variable_glosry" class="grey" title="Glossary Entry">session variable</a> <a href="../abencds_f1_session_variable" class="blue">
<span class="qtext400">$session.client</span></a> are added to the view implicitly. If only client-specific CDS entities are accessed, however, no clauses are added.</p>
<p>If the session variable <span class="qtext400">$session.client</span> is evaluated in the view, it is not possible to access the data of different clients in a single read. This applies in the following cases:</p>
<ul>

<li>When a client-specific database table is a data source of the view or is a CDS view used as a data source and hence an implicit <span class="qtext400">WHERE</span> clause exists for the session variable.</li>

</ul>

<ul>

<li>When client-specific and cross-client sides are joined in an outer join and there is an implicit <span class="qtext400">ON</span> condition for the session variable.</li>

</ul>

<p>The addition <a href="../abapselect_client" class="blue"><code style="display: inline;"><span class="qtext">USING</span></code></a> of the statement <a href="../abapselect" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code></a> for switching
<a href="../abenopen_sql_client_handling" class="blue">implicit client handling</a> is permitted and
the client specified here is used implicitly. The obsolete addition <a href="../abapselect_client_obsolete" class="blue"><code style="display: inline;"><span class="qtext">CLIENT SPECIFIED</span></code></a> is then not allowed.</p>
<h3 id="none">#NONE</h3>
<p>Default value for the value <span class="qtext400">#CLIENT_INDEPENDENT</span> of the annotation <span class="qtext400">
@ClientHandling.type</span>. Cannot be used together with its values <span class="qtext400">INHERITED</span> and <span class="qtext400">#CLIENT_DEPENDENT</span>. No implicit client handling takes place.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>The values <span class="qtext400">#AUTOMATED</span> and <span class="qtext400">#SESSION_VARIABLE</span>
produce the same result when a client-specific CDS view is used. They modify the way client handling
is implemented internally, but do not modify the definition of the view or, with the exception of the
obsolete addition <a href="../abapselect_client_obsolete" class="blue"><code style="display: inline;"><span class="qtext">CLIENT SPECIFIED</span></code></a>,
its use. The value <span class="qtext400">#SESSION_VARIABLE</span> can improve performance by concentrating on a single client.</li>

<p></ul>
<ul></p>
<li>If a view with the value <span class="qtext400">#INHERITED</span> of the annotation <span class="qtext400">@ClientHandling.type</span>
is a cross-client view, no implicit client handling takes place and the values <span class="qtext400">#AUTOMATED</span> and <span class="qtext400">#SESSION_VARIABLE</span> are ignored.</li>

<p></ul>
<ul></p>
<li>If no annotation <span class="qtext400">@ClientHandling.type</span> is specified, the annotation
<span class="qtext400">@ClientHandling.algorithm</span> can be specified with the values <span class="qtext400">#AUTOMATED</span>
or <span class="qtext400">#SESSION_VARIABLE</span> for the default value <span class="qtext400">#INHERITED</span>.</li>

<p></ul>
<ul></p>
<li>If an annotation <span class="qtext400">@ClientHandling.type</span> is specified but an annotation
<span class="qtext400">@ClientHandling.algorithm</span> is not specified, the value <span class="qtext400">#AUTOMATED</span>
is set in <span class="qtext400">#INHERITED</span> and <span class="qtext400">#CLIENT_DEPENDENT</span>
implicitly and the value <span class="qtext400">#NONE</span> is set in <span class="qtext400">#CLIENT_INDEPENDENT</span>, also implicitly.</li>

<p></ul>
<ul></p>
<li>If none of the annotations is specified, the default values <span class="qtext400">#INHERITED</span>
for <span class="qtext400">@ClientHandling.type</span> and <span class="qtext400">#AUTOMATED</span> for <span class="qtext400">@ClientHandling.algorithm</span> apply.</li>

<p></ul>
<ul></p>
<li>The value <span class="qtext400">#NONE</span> can only be specified for views declared explicitly
as cross-client views. If specified for views declared explicitly as client-specific views using <span class="qtext400">
#CLIENT_DEPENDENT</span>, self-programmed client handling would be required and this is not currently supported.</li>

<p></ul>
<ul></p>
<li>If the value <span class="qtext400">#SESSION_VARIABLE</span> is specified, the obsolete addition
<a href="../abapselect_client_obsolete" class="blue"><code style="display: inline;"><span class="qtext">CLIENT SPECIFIED</span></code></a>
of the statement <a href="../abapselect" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code></a> is forbidden
in cases where the session variable <span class="qtext400">$session.client</span> is actually in use in the view in question. More specifically, specifying a client-specific view in a
<a href="../abencds_association_glosry" class="grey" title="Glossary Entry">CDS association</a> does
not necessarily mean that the session variable is used. The session variable is used only if the CDS
association in the view is created with an implicit <span class="qtext400">ON</span> condition for the session variable.</li>

<p></ul>
<a name="@@ITOC@@ABENCDS_CLIENT_HANDLING_3"></a>
</div></p>
<h2 id="properties-of-client-specific-cds-views">Properties of Client-Specific CDS Views</h2>
<p>In ABAP SQL reads, the client dependency of a CDS view has the following consequences for the CDS entity and the associated CDS database view:</p>
<ul>

<li><a href="../abencds_entity_glosry" class="grey" title="Glossary Entry">CDS entity</a></li>

</ul>

<ul class="circlem2">

<li>The view fields of the CDS entity of a client-specific CDS view do not cover a client column. A
client column of a client-specific CDS view specified explicitly in the <a href="../abencds_f1_select_list" class="blue">
<span class="qtext400">SELECT</span> list</a> is also not a component of the structured data type represented
by the CDS entity and is removed implicitly from the results set of a <a href="../abapselect" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code></a> statement.</li>

</ul>

<ul class="circlem2">

<li>If <a href="../abapselect" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code></a> is used to access
a client-specific CDS entity, the data of the current client or the client specified in the addition
<a href="../abapselect_client" class="blue"><code style="display: inline;"><span class="qtext">USING</span></code></a> is read implicitly.
If the obsolete addition <a href="../abapselect_client_obsolete" class="blue"><span class="qtext">CLIENT
SPECIFIED</span></a> is specified, the column is added to the results set and is filled with the associated
client ID for each row. Before this column can be used in the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement,
a name must be assigned to it after the addition <code style="display: inline;"><span class="qtext">CLIENT SPECIFIED</span></code>. If the
name is not defined, no addressing is possible in a clause and no inline declarations can be made using
<a href="../abapselect_into_target" class="blue"><code style="display: inline;"><span class="qtext">@DATA(...)</span></code></a> after <a href="../abapinto_clause" class="blue">
<code style="display: inline;"><span class="qtext">INTO</span></code></a>. The defined name is also used in the case of <a href="../abapinto_clause" class="blue">
<code style="display: inline;"><span class="qtext">INTO CORRESPONDING</span></code></a>. If no name is defined, the client column is not transported.</li>

</ul>

<ul>

<li><a href="../abencds_database_view_glosry" class="grey" title="Glossary Entry">CDS database view</a></li>

</ul>

<ul class="circlem2">

<li>The view fields of a CDS database view of a client-specific CDS view always cover a client column.
This applies regardless of whether the client column is specified in the <a href="../abencds_f1_select_list" class="blue"><span class="qtext400">SELECT</span> list</a>.</li>

</ul>

<ul class="circlem2">

<li>If an <a href="../abenopen_sql_cds_obsolete" class="blue">obsolete</a> access is made on the CDS
database view using <a href="../abapselect" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code></a>, the view is handled in accordance with regular
<a href="../abenopen_sql_client_handling" class="blue">implicit client handling</a>,
which itself can be defined using the addition <a href="../abapselect_client" class="blue"><code style="display: inline;"><span class="qtext">USING</span></code></a>.</li>

</ul>

<ul class="circlem2">

<li>The name of the client column of a CDS database view with activated client handling is defined in
accordance with the following hierarchy: If the client column is specified in the <span class="qtext400">SELECT</span>
list, its name or its alternative name is used. If the client column is not specified in the <span class="qtext400">SELECT</span>
list, <span class="qtext400">MANDT</span> is used. If <span class="qtext400">MANDT</span> is already
used as an (alternative) element name in the <span class="qtext400">SELECT</span> list, <span class="qtext400">CLIENT</span>
is used. If neither <span class="qtext400">MANDT</span> or <span class="qtext400">CLIENT</span> is possible, a syntax error occurs.</li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>Only the CDS database view can be accessed using Native SQL or in an
<a href="../abenamdp_method_glosry" class="grey" title="Glossary Entry">AMDP method</a>. When client-specific
views are accessed, the client ID must be specified as usual and only data in the current client should be accessed.</li>

<p></ul>
<ul></p>
<li>The following must be noted when the CDS database view of a client-specific CDS view whose client handling is defined using the annotation <span class="qtext400">@ClientHandling.algorithm:#SESSION_VARIABLE</span> is accessed using Native SQL or AMDP:</li>

<p></ul>
<ul class="circlem2"></p>
<li>The <a href="../abensession_variable_glosry" class="grey" title="Glossary Entry">session variable</a>
<a href="../abencds_f1_session_variable" class="blue"><span class="qtext400">$session.client</span></a> is usually used implicitly in the view. This is guaranteed only on
<a href="../abenhana_database_glosry" class="grey" title="Glossary Entry">SAP HANA databases</a> used as
<a href="../abenstandard_db_glosry" class="grey" title="Glossary Entry">standard AS ABAP databases</a>
under the name <a href="../abenhana_session_variables" class="blue"><span class="qtext400">CDS_CLIENT</span></a>.
On other platforms, the existence and content of the session variable are not guaranteed outside of an ABAP SQL access, and this can produced unexpected behavior or programs may crash.</li>

<p></ul>
<ul class="circlem2"></p>
<li>No separate <span class="qtext400">WHERE</span> condition can be used that selects a client other than the session variable and the database-specific variant of the
<a href="../abensession_variable_glosry" class="grey" title="Glossary Entry">session variable</a> <a href="../abencds_f1_session_variable" class="blue">
<span class="qtext400">$session.client</span></a> must have the required value in Native SQL or AMDP reads. Outside an ABAP SQL access, it contains the current client by default.</li>

<p></ul>
<dd>
The last point is particularly important for <a href="../abenamdp_client_handling" class="blue">client handling</a> in general
<a href="../abenamdp_procedure_method_glosry" class="grey" title="Glossary Entry">AMDP procedure implementations</a>
on the SAP HANA database, which are called like regular methods in ABAP. When a CDS database view like
this is accessed, the value of the corresponding HANA session variable <a href="../abenhana_session_variables" class="blue">
<span class="qtext400">CDS_CLIENT</span></a> must be set explicitly using the addition <a href="../abapmethods_amdp_options" class="blue">
<code style="display: inline;"><span class="qtext">AMDP OPTIONS CDS SESSION CLIENT</span></code></a> in the declaration of the AMDP method. If not, a syntax error occurs. In an
<a href="../abenamdp_function_method_glosry" class="grey" title="Glossary Entry">AMDP function implementation</a> that is used as a <span class="qtext400">
<a href="../abencds_table_function_glosry" class="grey" title="Glossary Entry">CDS</a> table function</span> in ABAP SQL, however, the HANA session variable CDS_CLIENT is filled with the content defined there.
</dd>
</div></p>
<h3 id="executable-example">Executable Example</h3>
<p><a href="../abencds_client_handling_abexa" class="blue">CDS Views, Client Handling</a></p>
<h3 id="continue">Continue</h3>
<p><a href="../abencds_view_client_handling_obs" class="blue">ABAP CDS - Obsolete Client Handling in Views</a></p>
<p><a href="../abencds_client_handling_abexa" class="blue">CDS Views, Client Handling</a></p>
<p><a href="../abencds_client_handling_obs_abexa" class="blue">CDS Views, Obsolete Client Handling</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>