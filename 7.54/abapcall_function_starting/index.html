


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapcall function starting - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#call-function-starting-new-task" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapcall function starting
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extras" class="md-nav__link">
    Extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-information" class="md-nav__link">
    More Information
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-1" class="md-nav__link">
    Addition 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-2" class="md-nav__link">
    Addition 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abapcall_function_starting.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_data_communication" class="blue">Data Interfaces and Communication Interfaces</a>&#xA0;&#x2192;&#xA0;
<a href="../abenrfc" class="blue">RFC - Remote Function Call</a>&#xA0;&#x2192;&#xA0;
<a href="../abapcall_function_destination-" class="blue">CALL FUNCTION - RFC</a>&#xA0;</small></p>
<h1 id="call-function-starting-new-task">CALL FUNCTION - STARTING NEW TASK</h1>
<p><a href="../abapcall_function_shortref" class="blue">Quick Reference</a>  </p>
<p>Other versions: 
 <a href="../../7.31/abapcall_function_starting">7.31</a> | <a href="../../7.40/abapcall_function_starting">7.40</a> | <b>7.54</b></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">CALL FUNCTION func STARTING NEW TASK task</span> <br><span class="qtext">&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">[</i>DESTINATION <i class="bn">{</i>dest<i class="bn">|</i><i class="bn">{</i>IN GROUP <i class="bn">{</i>group<i class="bn">|</i>DEFAULT<i class="bn">}</i><i class="bn">}</i><i class="bn">}</i><i class="bn">]</i></span> <br>
<span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">[</i><i class="bn">{</i>CALLING meth<i class="bn">}</i><i class="bn">|</i><i class="bn">{</i>PERFORMING subr<i class="bn">}</i> ON END OF TASK<i class="bn">]</i></span> <br>
<span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<a href="../abapcall_function_starting_para" class="blue">parameter_list</a>.</span> 
</code></pre></p>
<h3 id="extras">Extras</h3>
<p><a href="#!ABAP_ADDITION_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... DESTINATION IN GROUP <i class="bn">{</i>group<i class="bn">|</i>DEFAULT<i class="bn">}</i></span></code> </a> <br>
<br><a href="#!ABAP_ADDITION_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... <i class="bn">{</i>CALLING meth<i class="bn">}</i><i class="bn">|</i><i class="bn">{</i>PERFORMING subr<i class="bn">}</i> ON END OF TASK</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>Asynchronous call (aRFC) of a <a href="../abenremote_enabled_fm_glosry" class="grey" title="Glossary Entry">remote-enabled function module</a> specified in <code style="display: inline;"><span class="qtext">func</span></code> using the
<a href="../abenrfc_interface_glosry" class="grey" title="Glossary Entry">RFC interface</a>. The addition <code style="display: inline;"><span class="qtext">DESTINATION</span></code> is used to specify a single
<a href="../abenrfc_destination" class="blue">destination</a> in <code style="display: inline;"><span class="qtext">dest</span></code> or
use <code style="display: inline;"><span class="qtext">IN GROUP</span></code> to specify a group of AS Instancess. The latter supports parallel
processing of multiple function modules. The calling program is continued using the statement <span class="qtext">
CALL FUNCTION</span>, as soon as the remotely called function has been started in the target system,
without having to wait for its processing to be finished. <code style="display: inline;"><span class="qtext">CALLING</span></code> and <span class="qtext">
PERFORMING</span> can be used to specify callback routines for the takeover of events when the remotely
called function is terminated. <code style="display: inline;"><span class="qtext">func</span></code> and <code style="display: inline;"><span class="qtext">dest</span></code> expect character-like data objects.</p>
<p>If the destination is not specified and also not defined in a callback routine using the addition <span class="qtext">
KEEPING TASK</span> of the statement <a href="../abapreceive" class="blue"><code style="display: inline;"><span class="qtext">RECEIVE</span></code></a>,
the destination <span class="qtext400">&quot;NONE&quot;</span> is used implicitly. The asynchronous RFC does not support communication with external systems or programs written in other programming languages.</p>
<p>A character-like data object must be specified for <code style="display: inline;"><span class="qtext">task</span></code>. This object must
contain a freely definable task ID with a maximum of 32 digits for the remotely called function module.
This task ID is passed to the callback routines to identify the function. Each task ID defines a separate RFC connection with a separate
<a href="../abenrfc_session_glosry" class="grey" title="Glossary Entry"> RFC session</a> .</p>
<ul>

<li>
If a callback routine is specified, it must be ended before another function module is called with the same task ID and destination.
</li>
<li>
A repeated function call with the same task ID and destination uses the same RFC session in which the
global data of the associated function group can be accessed (if the connection still exists). This only applies in the following case:
<br></li>

</ul>

<ul class="circlem2">

<li>If the <code style="display: inline;"><span class="qtext">PERFORMING</span></code> addition or the <code style="display: inline;"><span class="qtext">CALLING</span></code> addition are used and</li>

</ul>

<ul class="circlem2">

<li>The addition <code style="display: inline;"><span class="qtext">KEEPING TASK</span></code> of the statement <a href="../abapreceive" class="blue"><code style="display: inline;"><span class="qtext">RECEIVE</span></code></a> is specified in the callback routine.</li>

</ul>

<ul>

<li>
In all other cases, a new RFC session is usually opened for function modules called more than once. This applies in the following cases:
<br></li>

</ul>

<ul class="circlem2">

<li>If the task ID or destination is different (even if the connection still exists) and</li>

</ul>

<ul class="circlem2">

<li>If no callback routine is specified using the <code style="display: inline;"><span class="qtext">PERFORMING</span></code> addition or
the <code style="display: inline;"><span class="qtext">CALLING</span></code> addition or if the statement <a href="../abapreceive" class="blue"><span class="qtext">
RECEIVE</span></a> is used without the addition <code style="display: inline;"><span class="qtext">KEEPING TASK</span></code> in a callback routine. In these cases, the RFC connection is closed again directly after the call.</li>

</ul>

<p>If a callback routine is specified, it must be ended before another function module is called with the same task ID and destination. If not, the call raises an exception.</p>
<h3 id="more-information">More Information</h3>
<p>More information about aRFC can be found in the <span class="lnkgrey">RFC</span> documentation on <a href="http://help.sap.com/" target="blank" class="blue">SAP Help Portal</a>.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
As with every RFC, an asynchronous RFC opens a <a href="../abenuser_session_glosry" class="grey" title="Glossary Entry">
user session</a>. If a calling program raises multiple consecutive asynchronous RFCs with different
destinations or task IDs or if a connection no longer exists, the called function modules are processed
in parallel in different user sessions automatically. This property can be exploited when running applications
in parallel. Since the associated management tool can cause resource bottlenecks on both the client
and the server, this kind of parallel processing is only recommended using the addition <code style="display: inline;"><span class="qtext">DESTINATION IN GROUP</span></code>. 
</li>

<li>
If an asynchronous RFC is executed without a specified destination, the logon data user name, client, and logon language from the calling session are applied to the RFC session implicitly. The
<a href="../abentext_env_langu_glosry" class="grey" title="Glossary Entry">text environment language</a> of the calling session must be used for the
<a href="../abenlogon_language_glosry" class="grey" title="Glossary Entry">logon language</a> (and
not the logon language of the session). The text environment language can be set using the statement <a href="../abapset_locale" class="blue"><code style="display: inline;"><span class="qtext">SET LOCALE LANGUAGE</span></code></a>. 
</li>

<li>
If a function module is started multiple times in a row using asynchronous RFC, the order of execution is not fixed; instead it depends in the system availability. 
</li>

<li>
When dynpros are called in aRFC processing, additional
<a href="../abenmain_session_glosry" class="grey" title="Glossary Entry">ABAP sessions</a> are opened in the RFC client (see also
<a href="../abenrfc_dialog" class="blue">RFC Dialog Interactions</a>. The maximum number of ABAP sessions
cannot be exceeded and if there are more, an error message is displayed. The maximum number of sessions
is defined in the profile parameter <span class="lnkgrey">rdisp/max_alt_modes</span> and cannot be greater than 16. 
</li>

<li>
Asynchronous RFC triggers a <a href="../abendatabase_commit_glosry" class="grey" title="Glossary Entry">database commit</a> in the calling program. An aRFC in
<a href="../abenupdate_glosry" class="grey" title="Glossary Entry">updates</a> is an exception to this. 
</li>

<li>
Calls using <code style="display: inline;"><span class="qtext">STARTING NEW TASK</span></code> are always executed using the RFC interface and a destination specified as <code style="display: inline;"><span class="qtext">dest</span></code> is always interpreted accordingly. This is why, unlike in
<a href="../abapcall_function_destination" class="blue">synchronous RFC</a>, an initial string or text field containing only blanks cannot be specified for <code style="display: inline;"><span class="qtext">dest</span></code>. 
</li>

<li>
The task ID passed as <code style="display: inline;"><span class="qtext">task</span></code> does not need to be unique for each call. Unique tasks IDs can, however, help to identify calls within a callback routine. 
</li>

<li>
If by mistake the statement <a href="../abapreceive" class="blue"><code style="display: inline;"><span class="qtext">RECEIVE</span></code></a>
is not used in a callback routine specified using the <code style="display: inline;"><span class="qtext">PERFORMING</span></code> addition
or the <code style="display: inline;"><span class="qtext">CALLING</span></code> addition, the connection is persisted as when <code style="display: inline;"><span class="qtext">RECEIVE</span></code> is specified using the addition <code style="display: inline;"><span class="qtext">KEEPING TASK</span></code>. <br>
</li>

<p></ul>
<a name="@@IN GROUP@@CALL FUNCTION STARTING NEW TASK@@"></a>
<a name="@@DEFAULT@@CALL FUNCTION STARTING NEW TASK@@"></a>
</div></p>
<h3 id="addition-1">Addition 1</h3>
<p><code style="display: inline;"><span class="qtext">... DESTINATION IN GROUP <i class="bn">{</i>group<i class="bn">|</i>DEFAULT<i class="bn">}</i></span></code>   <br><!-- /A --></p>
<h3 id="effect_1">Effect</h3>
<p>If <code style="display: inline;"><span class="qtext">IN GROUP</span></code> is specified as
<a href="../abendestination_glosry" class="grey" title="Glossary Entry"> RFC destination</a> , this supports parallel execution of multiple function modules on a predefined group of AS Instances of the current
<a href="../abensap_nw_abap_glosry" class="grey" title="Glossary Entry">AS ABAP</a>. This variant of aRFC is also known as parallel remote function call (pRFC).</p>
<p><code style="display: inline;"><span class="qtext">group</span></code> expects a data object of the type RZLLI_APCL from ABAP Dictionary,
either an initial objects or one that includes the name of an RFC server group created in transaction
<span class="lnkgrey">RZ12</span>. If <code style="display: inline;"><span class="qtext">DEFAULT</span></code> is specified or if <code style="display: inline;"><span class="qtext">group</span></code>
is initial, all currently available AS Instancess of the current AS ABAP are used as the group. Only
one RFC server group may be used within a program. The first asynchronous RFC using the addition <span class="qtext">
IN GROUP</span> initializes the specified RFC server group. For each asynchronous RFC where the group
is specified, the most suitable AS Instance is determined automatically, and the called function module is executed on this.</p>
<p>If the function module cannot be executed on any of the AS Instancess, because not enough resources are available at present, a predefined exception RESOURCE_FAILURE is triggered, to which, in addition to the other
<a href="../abenrfc_exception" class="blue">RFC exceptions</a>, a return value can be assigned. If this exception is raised, the addition <code style="display: inline;"><span class="qtext">MESSAGE</span></code> is not permitted.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The parallel processing of function modules with the addition <code style="display: inline;"><span class="qtext">IN GROUP</span></code> makes
optimal use of the available resources and is preferable to self-programmed parallel processing with explicitly specified destinations.
</li>

<li>
An AS Instance used as part of an RFC server group for parallel processing, must have at least three
dialog work processes, of which one is currently free. Other resources, such as requests in the queue, the number of system messages and so on, are also respected and must not exceed certain
<a href="../abenapp_server_resources" class="blue">threshold values</a>.
</li>

<li>
To ensure that only those AS Instancess that have enough resources are accessed, it is preferable work with explicitly defined RFC server groups instead of working with the addition <code style="display: inline;"><span class="qtext">DEFAULT</span></code>.
</li>

<li>
The function modules of function group SPBT provide service functions for parallel processing, for example,
initialization of RFC server groups, determination of the used destination or temporary removal of an AS Instance from an RFC group. <br>
</li>

<p></ul>
<a name="@@PERFORMING@@CALL FUNCTION STARTING NEW TASK@@"></a>
<a name="@@CALLING@@CALL FUNCTION STARTING NEW TASK@@"></a>
<a name="@@ON END OF TASK@@CALL FUNCTION STARTING NEW TASK@@"></a>
</div></p>
<h3 id="addition-2">Addition 2</h3>
<p><code style="display: inline;"><span class="qtext">... <i class="bn">{</i>CALLING meth<i class="bn">}</i><i class="bn">|</i><i class="bn">{</i>PERFORMING subr<i class="bn">}</i> ON END OF TASK</span></code>   <br><!-- /A --></p>
<h3 id="effect_2">Effect</h3>
<p>This addition can be used to specify either a method <code style="display: inline;"><span class="qtext">meth</span></code> or a subroutine
<code style="display: inline;"><span class="qtext">subr</span></code> as the callback routine registered to be executed after terminating the asynchronously called function module. The same information can be specified for <code style="display: inline;"><span class="qtext">meth</span></code> as for the general
<a href="../abenmethod_calls" class="blue">method call</a>, in particular dynamic information. <code style="display: inline;"><span class="qtext">subr</span></code> expects a subroutine of the same program to be specified statically.</p>
<p>The method <code style="display: inline;"><span class="qtext">meth</span></code> must be
<a href="../abenpublic_glosry" class="grey" title="Glossary Entry">public</a>, and can have only one non-optional input parameter <code style="display: inline;"><span class="qtext">p_task</span></code> of type <code style="display: inline;"><span class="qtext">clike</span></code>. The specified
<a href="../abapform" class="blue">subroutine</a> <code style="display: inline;"><span class="qtext">subr</span></code> can have exactly
one <code style="display: inline;"><span class="qtext">USING</span></code> parameter of the type <code style="display: inline;"><span class="qtext">clike</span></code>. In the
call, the RFC interface fills this parameter with the task ID of the remotely called function specified in the call in <code style="display: inline;"><span class="qtext">task</span></code>.</p>
<p>In the method <code style="display: inline;"><span class="qtext">meth</span></code> or in the subroutine <code style="display: inline;"><span class="qtext">subr</span></code>,
the statement <a href="../abapreceive" class="blue"><code style="display: inline;"><span class="qtext">RECEIVE</span></code></a> must be
used to receive the results of the remote function. In the callback routine, no statements can be executed that interrupt the routine or that trigger an implicit
<a href="../abendatabase_commit_glosry" class="grey" title="Glossary Entry">database commit</a>. Any statements used for
<a href="../abenlist_glosry" class="grey" title="Glossary Entry"> list output</a> are not executed.
Class-based exceptions can only be handled within the callback routine. There is no location where a
class-based exception can be handled outside the callback routine. This is why it is not a good idea
to propagate a class-based exception from a callback routine using <code style="display: inline;"><span class="qtext">RAISING</span></code> (this produces a syntax check warning).</p>
<p>A prerequisite for the execution of a registered callback routine is that the calling program still exists in its
<a href="../abeninternal_session_glosry" class="grey" title="Glossary Entry">internal session</a> when the remote function is terminated. It is then executed here at the next change of the
<a href="../abenwork_process_glosry" class="grey" title="Glossary Entry">work process</a> in a roll-in. If the program was terminated or is located on the stack as part of a
<a href="../abencall_sequence_glosry" class="grey" title="Glossary Entry"> call sequence</a> , the callback routine is not executed.</p>
<p>If multiple callback routines are registered during a program section, they are executed in an undefined
order when the work process changes in a roll-in. The statement <a href="../abapwait_until" class="blue"><span class="qtext">
WAIT FOR ASYNCHRONOUS TASKS</span></a> can be used to stop the program execution until certain or all callback routines have been executed.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
If no <code style="display: inline;"><span class="qtext">RECEIVE</span></code> statement is executed in the callback routine to receive the
result of the remote function, the connection remains intact and implicitly behaves like the statement
<a href="../abapreceive" class="blue"><code style="display: inline;"><span class="qtext">RECEIVE</span></code></a> with the addition <span class="qtext">
KEEPING TASK</span>. This implicit behavior is usually unwanted and a callback routine without a <code style="display: inline;"><span class="qtext">RECEIVE</span></code> statement must be viewed as a programming error.
</li>

<li>
The time when the callback routines are executed can be programmed explicitly or be reached implicitly:
<br></li>

<p></ul>
<ul class="circlem2"></p>
<li>The statement <a href="../abapwait_until" class="blue"><span class="qtext">WAIT FOR ASYNCHRONOUS
TASKS</span></a> is used for explicit programming. As specified by a condition, this statement changes
the work process and hence executes the callback routines registered up to this time. It waits for as
many registered routines to end until the condition is met (the maximum wait time can be restricted).
Explicit programming is recommended whenever the results of the remote function are required in the current program.</li>

<p></ul>
<ul class="circlem2"></p>
<li>If the results of the remote function are not required in the current program, the time at which the callback routines are executed can also be determined by an implicit change of the work process (for example, at the end of a
<a href="../abendialog_step_glosry" class="grey" title="Glossary Entry">dialog step</a>). This can
be a good idea, for example, in GUI scenarios in which uses of <code style="display: inline;"><span class="qtext">WAIT</span></code> are not
wanted. In this case, it must be ensured that the work process changes before the program is ended.
There is also a risk that, if the work process is changed implicitly, not all callback routines are registered in time.</li>

</ul>

</div>

<h3 id="continue">Continue</h3>
<p><a href="../abapcall_function_starting_para" class="blue">CALL FUNCTION - STARTING NEW TASK parameter_list</a></p>
<p><a href="../abapreceive" class="blue">RECEIVE</a></p>
<p><a href="../abapwait_until" class="blue">WAIT FOR ASYNCHRONOUS TASKS</a></p>
<p><a href="../abenapp_server_resources" class="blue">Thresholds for Resource Allocation for Asynchronous RFC</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>