


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abaporderby clause - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#select-order-by" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abaporderby clause
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternatives" class="md-nav__link">
    Alternatives
  </a>
  
    <nav class="md-nav" aria-label="Alternatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-1" class="md-nav__link">
    Alternative 1
  </a>
  
    <nav class="md-nav" aria-label="Alternative 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-2" class="md-nav__link">
    Alternative 2
  </a>
  
    <nav class="md-nav" aria-label="Alternative 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-3" class="md-nav__link">
    Alternative 3
  </a>
  
    <nav class="md-nav" aria-label="Alternative 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_3" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-note" class="md-nav__link">
    Security Note
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-example" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abaporderby_clause.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopensql" class="blue">ABAP SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopen_sql_reading" class="blue">ABAP SQL - Reads</a>&#xA0;&#x2192;&#xA0;
<a href="../abenselect_clauses" class="blue">SELECT clauses</a>&#xA0;</small></p>
<h1 id="select-order-by">SELECT - ORDER BY</h1>
<p><a href="../abapselect_shortref" class="blue">Quick Reference</a>  </p>
<p>Other versions: 
 <a href="../../7.31/abaporderby_clause">7.31</a> | <a href="../../7.40/abaporderby_clause">7.40</a> | <b>7.54</b></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">... ORDER BY <i class="bn">{</i> <i class="bn">{</i>PRIMARY KEY<i class="bn">}</i></span> <br>
<span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <i class="bn">|</i> <i class="bn">{</i> <i class="bn">{</i>
<a href="../abenopen_sql_columns" class="blue">col1</a><i class="bn">|</i>a1<i class="bn">}</i> <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i>,</span> <br>
<span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0; <i class="bn">{</i><a href="../abenopen_sql_columns" class="blue">col2</a><i class="bn">|</i>a2<i class="bn">}</i> <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i>, ...<i class="bn">}</i></span> <br>
<span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <i class="bn">|</i> (column_syntax) <i class="bn">}</i> ...</span> 
</code></pre></p>
<h2 id="alternatives">Alternatives</h2>
<p><a href="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... ORDER BY PRIMARY KEY</span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... ORDER BY <i class="bn">{</i>col1<i class="bn">|</i>a1<i class="bn">}</i> <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i>,</span></code> </a> <br>
<code style="display: inline;"><span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <i class="bn">{</i>col2<i class="bn">|</i>a2<i class="bn">}</i> <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i>, ...</span></code> <br>
<br><a href="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <code style="display: inline;"><span class="qtext">... ORDER BY (column_syntax)</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>The addition <code style="display: inline;"><span class="qtext">ORDER BY</span></code> sorts a multirow results set of a
<a href="../abenquery_glosry" class="grey" title="Glossary Entry">query</a> by the content of the specified
column. The order of the rows in the results set is undefined with respect to all columns that are not
specified after <code style="display: inline;"><span class="qtext">ORDER BY</span></code>, and can be different in repeated executions of
the same <code style="display: inline;"><span class="qtext">SELECT</span></code> statement. If the addition <code style="display: inline;"><span class="qtext">ORDER BY</span></code> is not specified, the order of all the columns in the results set is undefined.</p>
<p>The following restrictions apply when using the addition <code style="display: inline;"><span class="qtext">ORDER BY</span></code> with other additions:</p>
<ul>

<li>
The addition <code style="display: inline;"><span class="qtext">ORDER BY</span></code> cannot be used with the addition <a href="../abapselect_single" class="blue"><code style="display: inline;"><span class="qtext">SINGLE</span></code></a>.
</li>
<li>
All columns specified after <code style="display: inline;"><span class="qtext">ORDER BY</span></code> must also be specified after the addition <a href="../abapgroupby_clause" class="blue"><code style="display: inline;"><span class="qtext">GROUP BY</span></code></a> at the same time.
</li>
<li>
If <a href="../abenaggregate_function_glosry" class="grey" title="Glossary Entry">aggregate functions</a>
are specified after <code style="display: inline;"><span class="qtext">SELECT</span></code>, all columns that are specified after <span class="qtext">ORDER
BY</span> and that do not have an alias name for an aggregation function must also be specified after
<code style="display: inline;"><span class="qtext">SELECT</span></code> and after <a href="../abapgroupby_clause" class="blue"><code style="display: inline;"><span class="qtext">GROUP BY</span></code></a>.
</li>
<li>
If an alias name defined using <a href="../abapselect_list" class="blue"><code style="display: inline;"><span class="qtext">AS</span></code></a>
is used for sorting, this name must be unique and cannot be the same name as a column that does not have any alias names.
</li>
<li>
If the addition <a href="../abapselect_clause" class="blue"><code style="display: inline;"><span class="qtext">DISTINCT</span></code></a>
is used, only those columns can be specified after <code style="display: inline;"><span class="qtext">ORDER BY</span></code> that are also specified after <code style="display: inline;"><span class="qtext">SELECT</span></code>. The exception to this rule is
<a href="../abenclient_column_glosry" class="grey" title="Glossary Entry">client column</a> when <span class="qtext">
PRIMARY KEY</span> is specified. If not, other columns can also be used, as long as there are no restrictions
by other additions such as <a href="../abapgroupby_clause" class="blue"><code style="display: inline;"><span class="qtext">GROUP BY</span></code></a>.
</li>
<li>
If the addition <a href="../abenwhere_logexp_itab" class="blue"><code style="display: inline;"><span class="qtext">FOR ALL ENTRIES</span></code></a>
is used in front of the <a href="../abapwhere" class="blue"><code style="display: inline;"><span class="qtext">WHERE</span></code> condition,</a>,
<code style="display: inline;"><span class="qtext">ORDER BY</span></code> can only be used with the addition <code style="display: inline;"><span class="qtext">PRIMARY KEY</span></code>
and all columns of the primary key (except the client column of client-specific tables) must be specified after <a href="../abapselect_list" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code> list</a>.
<br></li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The data is sorted in the database system, once all other actions are completed, such as the definition
of the hit list using <code style="display: inline;"><span class="qtext">WHERE</span></code>, the calculation of aggregate functions, and
grouping using <code style="display: inline;"><span class="qtext">GROUP BY</span></code>. Only the additions <a href="../abapselect_up_to_offset" class="blue">
<code style="display: inline;"><span class="qtext">UP TO</span></code>, <code style="display: inline;"><span class="qtext">OFFSET</span></code></a> are executed on the sorted hits.
</li>

<li>
Sorts in the database system are performed in accordance with the rules for
<a href="../abenwhere_logexp_compare" class="blue">size comparisons</a> and the restrictions with regard
to platform dependencies apply. More specifically, sorts performed using character-like values can be platform-dependent under certain circumstances and produce different results than ABAP sorts.
</li>

<li>
If a column specified after <code style="display: inline;"><span class="qtext">ORDER BY</span></code> contains
<a href="../abennull_value_glosry" class="grey" title="Glossary Entry">null values</a> in the results
set, the sort order can be platform-dependent, since null values can be sorted either before or after the other values by the database system (in accordance with the SQL standard)
</li>

<li>
For performance reasons, a sort should only take place in the database if supported by an
<a href="../abenindex_glosry" class="grey" title="Glossary Entry">index</a>. This guaranteed only when
<code style="display: inline;"><span class="qtext">ORDER BY PRIMARY KEY</span></code> is specified. If a suitable index is not available,
the results set must be sorted at runtime. This should be done using <a href="../abapsort_itab" class="blue"><span class="qtext">
SORT</span></a> on AS ABAP and not using <code style="display: inline;"><span class="qtext">ORDER BY</span></code> in the database system.
Even if a suitable index does exist, <code style="display: inline;"><span class="qtext">ORDER BY col1 col2 ...</span></code> should be used
for large amounts of data only if the order of the database fields <code style="display: inline;"><span class="qtext">col1 col2 ...</span></code> is the same as the order in the index.
</li>

<li>
If a sorted resulting set is assigned to a sorted internal table, the internal table is sorted again according to the sorting instructions. <br>
</li>

<p></ul>
<a name="@@PRIMARY KEY@@SELECT ORDER BY@@"></a>
</div>
<a name="!ABAP_ALTERNATIVE_1@1@"></a></p>
<h2 id="alternative-1">Alternative 1</h2>
<p><code style="display: inline;"><span class="qtext">... ORDER BY PRIMARY KEY</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_1">Effect</h3>
<p>The results set is sorted in ascending order by the content of the
<a href="../abenprimary_key_glosry" class="grey" title="Glossary Entry">primary key</a> of a single <a href="../abapselect_data_source" class="blue">data source</a>. The following restrictions apply:</p>
<ul>

<li>
The addition <code style="display: inline;"><span class="qtext">PRIMARY KEY</span></code> cannot be specified if a
<a href="../abenjoin_expression_glosry" class="grey" title="Glossary Entry">join expression</a> or a
<a href="../abenopen_sql_path" class="blue">path expression</a> is used in the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement to select the data of multiple data sources.
</li>
<li>
The addition <code style="display: inline;"><span class="qtext">PRIMARY KEY</span></code> cannot be specified in a <a href="../abensubquery_glosry" class="grey" title="Glossary Entry">subquery</a>.
</li>
<li>
The addition <code style="display: inline;"><span class="qtext">PRIMARY KEY</span></code> cannot be specified for a result set joined with <a href="../abapunion" class="blue"><code style="display: inline;"><span class="qtext">UNION</span></code></a>.
</li>
<li>
The addition <code style="display: inline;"><span class="qtext">PRIMARY KEY</span></code> cannot be used when accessing a common table expression defined using <a href="../abapwith" class="blue"><code style="display: inline;"><span class="qtext">WITH</span></code></a>.
</li>
<li>
The addition <code style="display: inline;"><span class="qtext">PRIMARY KEY</span></code> cannot be specified when
<a href="../abenview_glosry" class="grey" title="Glossary Entry">views</a> that contain precisely the same number of key fields as view fields are accessed. If a
<a href="../abendatabase_view_glosry" class="grey" title="Glossary Entry">database view</a> like this
is specified after <code style="display: inline;"><span class="qtext">FROM</span></code> in the dynamically specified <code style="display: inline;"><span class="qtext">source_syntax</span></code>, an exception is raised only in the
<a href="../abenopensql_strict_modes" class="blue">strict modes</a> of the syntax check from Release 7.40, SP05. In all other cases, the results set is sorted by all columns.
</li>
<li>
If a <a href="../abencds_entity_glosry" class="grey" title="Glossary Entry">CDS</a> entity is sorted
by the <code style="display: inline;"><span class="qtext">PRIMARY KEY</span></code>, its key elements must be defined at the start of the structure without any gaps.
<br></li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>If <code style="display: inline;"><span class="qtext">ORDER BY PRIMARY KEY</span></code> is used with the addition <a href="../abenwhere_logexp_itab" class="blue">
<code style="display: inline;"><span class="qtext">FOR ALL ENTRIES</span></code></a> in front of the <a href="../abapwhere" class="blue"><span class="qtext">
WHERE</span> condition</a>, all fields of the primary key (except for the client column in client-specific tables) must be in the<a href="../abapselect_list" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code> list</a>.</p>
<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Reads the data from the database table <span class="lnkgrey">SFLIGHT</span> for Lufthansa flight 0400, sorted by the third key field (the flight date).</p>
<p><div class="highlight"><pre><span></span><code><span class="k">SELECT</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="nv">sflight</span> 
       <span class="k">WHERE</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="s1">&#39;LH&#39;</span> <span class="ow">AND</span> 
             <span class="nv">connid</span> <span class="o">=</span> <span class="s1">&#39;0400&#39;</span> 
       <span class="k">ORDER BY</span> <span class="nv">PRIMARY</span> <span class="k">KEY</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">result</span><span class="p">).</span> 
</code></pre></div>
<a name="@@ASCENDING@@SELECT ORDER BY@@"></a>
<a name="@@DESCENDING@@SELECT ORDER BY@@"></a>
<a name="@@,@@SELECT ORDER BY@@"></a>
</div>
<a name="!ABAP_ALTERNATIVE_2@2@"></a></p>
<h2 id="alternative-2">Alternative 2</h2>
<p><code style="display: inline;"><span class="qtext">... ORDER BY <i class="bn">{</i>col1<i class="bn">|</i>a1<i class="bn">}</i> <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i>,</span></code> <br>
<code style="display: inline;"><span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <i class="bn">{</i>col2<i class="bn">|</i>a2<i class="bn">}</i> <i class="bn">[</i>ASCENDING<i class="bn">|</i>DESCENDING<i class="bn">]</i>, ...</span></code><br><!-- /A -->  </p>
<h3 id="effect_2">Effect</h3>
<p>For any columns specified in the <a href="../abapselect_list" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code>
list</a>, a comma-separated list of columns can be specified after <code style="display: inline;"><span class="qtext">ORDER BY</span></code> to be used as a sort criterion. Columns can be specified directly using the
<a href="../abenopen_sql_columns" class="blue">column names</a> <code style="display: inline;"><span class="qtext">col1, col2 ...</span></code>
or using the alias names <code style="display: inline;"><span class="qtext">a1, a2 ...</span></code> defined using <a href="../abapselect_list" class="blue">
<code style="display: inline;"><span class="qtext">AS</span></code></a>  . The latter is necessary if sorting is to be done by columns of the result set that are defined in the <code style="display: inline;"><span class="qtext">SELECT</span></code> list using non elementary
<a href="../abapsql_expr" class="blue">SQL expressions</a>.</p>
<p>The additions <code style="display: inline;"><span class="qtext">ASCENDING</span></code> and <code style="display: inline;"><span class="qtext">DESCENDING</span></code> determine
whether the column in question is sorted in ascending or descending order. If neither addition is specified,
the column is sorted in ascending order. The priority of sorting is based on the order in which the components <code style="display: inline;"><span class="qtext">col1 col2...</span></code> or <code style="display: inline;"><span class="qtext">a1 a2 ...</span></code> are specified.</p>
<p>Columns specified after <code style="display: inline;"><span class="qtext">ORDER BY</span></code> cannot be of the <a href="../abenddic_builtin_types" class="blue">type</a> LCHR, LRAW, STRING, RAWSTRING, or GEOM_EWKB.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
If single columns are specified in the addition <code style="display: inline;"><span class="qtext">ORDER BY</span></code>, the statement <code style="display: inline;"><span class="qtext">SELECT</span></code> uses
<a href="../abensap_buffering_glosry" class="grey" title="Glossary Entry">table buffering</a> only in the following cases:
<br></li>

<p></ul>
<ul class="circlem2"></p>
<li>The columns specified are a left-justified subset of the primary key in the correct order and no further columns are specified.</li>

<p></ul>
<ul class="circlem2"></p>
<li>The columns specified represent the whole primary key in the correct sequence. Additional columns that are specified have no influence on the sorting.</li>

<p></ul>
<ul class="circlem2"></p>
<li>The addition <code style="display: inline;"><span class="qtext">DESCENDING</span></code> is not specified.</li>

</ul>

<dd>
In other cases, table buffering is ignored.
</dd>

<ul>

<li>
When a comma-separated list is used, the syntax check is performed in a
<a href="../abenopensql_strict_mode_740_sp05" class="blue">strict mode</a>, which handles the statement more strictly than the regular syntax check.
</li>
<li>
If specified, the columns <code style="display: inline;"><span class="qtext">col1</span></code>, <code style="display: inline;"><span class="qtext">col2</span></code>, ... can contain a
<a href="../abenopen_sql_path" class="blue">path expression</a> for
<a href="../abencds_association_glosry" class="grey" title="Glossary Entry">CDS associations</a> or <a href="../abencte_association_glosry" class="grey" title="Glossary Entry">CTE associations</a>.
</li>
<li>
Instead of using commas, blanks can be used to separate columns specified in an
<a href="../abenopen_sql_lists_obsolete" class="blue">obsolete form</a>. Commas must be specified, however, in the
<a href="../abenopensql_strict_modes" class="blue">strict modes</a> of the syntax check from Release 7.40, SP05.
<br></li>

</ul>

<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The rows of database table <code style="display: inline;"><span class="qtext">sflight</span></code> are grouped by the columns <code style="display: inline;"><span class="qtext">carrid</span></code>
and <code style="display: inline;"><span class="qtext">connid</span></code>, where for each group the minimum of column <code style="display: inline;"><span class="qtext">seatsocc</span></code>
is determined. The selection is sorted in ascending order by <code style="display: inline;"><span class="qtext">carrid</span></code> and in
descending order by the minimum of occupied seats. The alternative name <code style="display: inline;"><span class="qtext">min</span></code> is used for the aggregate expression.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">SELECT</span> <span class="nv">carrid</span><span class="p">,</span> <span class="nv">connid</span><span class="p">,</span> <span class="nv">MIN</span><span class="p">(</span> <span class="nv">seatsocc</span> <span class="p">)</span> <span class="k">AS</span> <span class="nv">min</span> 
       <span class="k">FROM</span> <span class="nv">sflight</span> 
       <span class="k">GROUP BY</span> <span class="nv">carrid</span><span class="p">,</span> <span class="nv">connid</span> 
       <span class="k">ORDER BY</span> <span class="nv">carrid</span> <span class="nv">ASCENDING</span><span class="p">,</span> <span class="nv">min</span> <span class="nv">DESCENDING</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">result</span><span class="p">).</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display_data</span><span class="p">(</span> <span class="nv">result</span> <span class="p">).</span> 
</code></pre></div>
</div>
<a name="!ABAP_ALTERNATIVE_3@3@"></a></p>
<h2 id="alternative-3">Alternative 3</h2>
<p><code style="display: inline;"><span class="qtext">... ORDER BY (column_syntax)</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_3">Effect</h3>
<p>As an alternative to specifying columns statically, a parenthesized data object <code style="display: inline;"><span class="qtext">column_syntax</span></code>
can be specified that contains the syntax of <code style="display: inline;"><span class="qtext">PRIMARY KEY</span></code> or the list of columns when the statement is executed.</p>
<p>The same applies to <code style="display: inline;"><span class="qtext">column_syntax</span></code> as when specifying the <a href="../abapselect_list" class="blue">
<code style="display: inline;"><span class="qtext">SELECT</span></code> list</a> dynamically. If the content of <code style="display: inline;"><span class="qtext">column_syntax</span></code>
is initial, the addition <code style="display: inline;"><span class="qtext">ORDER BY</span></code> is ignored. Invalid syntax raises a handleable exception from the class CX_SY_DYNAMIC_OSQL_ERROR.</p>
<h3 id="security-note">Security Note</h3>
<p>If used wrongly, dynamic programming techniques can present a serious security risk. Any dynamic content
that is passed to a program from the outside must be checked thoroughly or escaped before being used
in dynamic statements. This can be done using the system class <span class="lnkgrey">CL_ABAP_DYN_PRG</span> or the predefined function <a href="../abenescape_functions" class="blue"><code style="display: inline;"><span class="qtext">escape</span></code></a>. See
<a href="../abensql_inj_dyn_tokens_scrty" class="blue">SQL Injections Using Dynamic Tokens</a>.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The class <span class="lnkgrey">CL_ABAP_DYN_PRG</span> contains methods that support the creation of correct and secure dynamically specified columns.
<br></li>

<p></ul>
<ul></p>
<li>The literals of the dynamically specified ABAP SQL statements can span multiple rows of a token specified dynamically as an internal table.</li>

<p></ul>
<ul></p>
<li>When specified dynamically, ABAP SQL statements can contain the comment characters <a href="../abencomment" class="blue">
<code style="display: inline;"><span class="qtext">*</span></code></a> and <a href="../abencomment" class="blue"><code style="display: inline;"><span class="qtext">&quot;</span></code></a> as follows:</li>

<p></ul>
<ul class="circlem2"></p>
<li>In a dynamic token specified as a character-like data object, all content is ignored from the first comment character <code style="display: inline;"><span class="qtext">&quot;</span></code>.</li>

<p></ul>
<ul class="circlem2"></p>
<li>In a dynamic token specified as an internal table, all rows are ignored that start with the comment
character <code style="display: inline;"><span class="qtext">*</span></code>. In the row, all content is ignored from the first comment character <code style="display: inline;"><span class="qtext">&quot;</span></code>.</li>

<p></ul>
<dd>
Comment characters placed within literals are, however, part of the literal.
</dd>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Dynamic sort by two columns (to be specified).</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span><span class="p">(</span><span class="nv">column1</span><span class="p">)</span> <span class="o">=</span> <span class="s1">`carrid`</span><span class="p">.</span> 
<span class="k">DATA</span><span class="p">(</span><span class="nv">column2</span><span class="p">)</span> <span class="o">=</span> <span class="s1">`connid`</span><span class="p">.</span> 

<span class="nv">cl_demo_input</span><span class="o">=&gt;</span><span class="nf">new</span><span class="p">(</span> 
  <span class="p">)</span><span class="o">-&gt;</span><span class="nf">add_field</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">column1</span> 
  <span class="p">)</span><span class="o">-&gt;</span><span class="nf">add_field</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">column2</span> <span class="p">)</span><span class="o">-&gt;</span><span class="nf">request</span><span class="p">(</span> <span class="p">).</span> 

<span class="k">DATA</span><span class="p">(</span><span class="nv">column_syntax</span><span class="p">)</span> <span class="o">=</span> <span class="nv">column1</span> <span class="o">&amp;&amp;</span> <span class="s1">`, `</span> <span class="o">&amp;&amp;</span> <span class="nv">column2</span><span class="p">.</span> 

<span class="k">TRY</span><span class="p">.</span> 
    <span class="k">SELECT</span> <span class="nv">carrid</span><span class="p">,</span> <span class="nv">connid</span><span class="p">,</span> <span class="nv">cityfrom</span><span class="p">,</span> <span class="nv">cityto</span> 
           <span class="k">FROM</span> <span class="nv">spfli</span> 
           <span class="k">ORDER BY</span> <span class="p">(</span><span class="nv">column_syntax</span><span class="p">)</span> 
           <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">result</span><span class="p">).</span> 
    <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="nv">result</span> <span class="p">).</span> 
  <span class="k">CATCH</span> <span class="nv">cx_sy_dynamic_osql_semantics</span><span class="p">.</span> 
    <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="s1">&#39;Error&#39;</span> <span class="p">).</span> 
<span class="k">ENDTRY</span><span class="p">.</span>
</code></pre></div>
</div></p>
<h3 id="executable-example">Executable Example</h3>
<p><a href="../abendynamic_order_by_abexa" class="blue">Dynamic <code style="display: inline;"><span class="qtext">ORDER BY</span></code> Clause</a></p>
<h3 id="continue">Continue</h3>
<p><a href="../abendynamic_order_by_abexa" class="blue">SELECT, Dynamic ORDER-BY Clause</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>