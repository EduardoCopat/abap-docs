


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenldb program example - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#example-of-a-database-program" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenldb program example
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#master-program-sapdbtest_ldb" class="md-nav__link">
    Master program SAPDBTEST_LDB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include-program-dbtest_ldbtop" class="md-nav__link">
    Include program DBTEST_LDBTOP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include-program-dbtest_ldb001" class="md-nav__link">
    Include program DBTEST_LDB001
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include-programs-dbtest_ldb002-and-dbtest_ldb003" class="md-nav__link">
    Include programs DBTEST_LDB002 and DBTEST_LDB003
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include-program-dbtest_ldb004" class="md-nav__link">
    Include program DBTEST_LDB004
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include-program-dbtest_ldbfxxx" class="md-nav__link">
    Include program DBTEST_LDBFXXX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include-program-dbtest_ldbsxxx" class="md-nav__link">
    Include program DBTEST_LDBSXXX
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abenldb_program_example.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_obsolete" class="blue">Obsolete Language Elements</a>&#xA0;&#x2192;&#xA0;
<a href="../abendata_storage_obsolete" class="blue">Obsolete Processing of External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenldb" class="blue">Logical Databases (Obsolete)</a>&#xA0;&#x2192;&#xA0;
<a href="../abenldb_examples" class="blue">Logical Databases - Examples</a>&#xA0;</small></p>
<h1 id="example-of-a-database-program">Example of a Database Program</h1>
<p>A logical database TEST_LDB has the structure shown in <a href="../abenldb_example" class="blue">Example of a Logical Database</a>. All nodes are database tables. Selections are defined in the selection include:</p>
<dd>
<span class="qtext">SELECT-OPTIONS SLIFNR&#xA0;&#xA0;FOR LFA1-LIFNR. <br>SELECT-OPTIONS SBUKRS&#xA0;&#xA0;FOR LFB1-BUKRS. <br>
SELECT-OPTIONS SGJAHR&#xA0;&#xA0;FOR LFC1-GJAHR. <br>SELECT-OPTIONS SBELNR&#xA0;&#xA0;FOR BKPF-BELNR.</span>
</dd>

<p>The generated proposal for the database program is then as follows:</p>
<p>Other versions: 
 <s><i>7.31</i></s> | <a href="../../7.40/abenldb_program_example">7.40</a> | <b>7.54</b></p>
<h3 id="master-program-sapdbtest_ldb">Master program SAPDBTEST_LDB</h3>
<p><dd>
<span class="qtext"><em>----------------------------------------------------------</em> <br><em>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DATABASE PROGRAM OF LOGICAL DATABASE TEST_LDB <br>
*----------------------------------------------------------</em> <br>INCLUDE DBTEST_LDBTOP .&#xA0;&#xA0;&#xA0;&#xA0;&quot; header <br>
INCLUDE DBTEST_LDBXXX .&#xA0;&#xA0;&#xA0;&#xA0;&quot; all system routines <br>* INCLUDE DBTEST_LDBF001 . &quot; user defined include</span>
</dd></p>
<h3 id="include-program-dbtest_ldbtop">Include program DBTEST_LDBTOP</h3>
<p><dd>
<span class="qtext">PROGRAM SAPDBTEST_LDB DEFINING DATABASE TEST_LDB. <br>TABLES: LFA1, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LFB1, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LFC1, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; BKPF. <br>* DATA: ...&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&quot;user defined variables</span>
</dd></p>
<h3 id="include-program-dbtest_ldb001">Include program DBTEST_LDB001</h3>
<p><dd>
<span class="qtext"><em>----------------------------------------------------------</em> <br>* Call event GET LFA1 <br>
<em>----------------------------------------------------------</em> <br>FORM PUT_LFA1. <br>* SELECT * FROM LFA1 <br>
<em>&#xA0;&#xA0; INTO LFA1 <br></em>&#xA0;&#xA0; INTO TABLE ? (choose one!) <br><em>&#xA0;&#xA0; WHERE LIFNR = ?. <br>
&#xA0;&#xA0;&#xA0;&#xA0;PUT LFA1. <br></em> ENDSELECT. <br>ENDFORM.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &quot;PUT_LFA1 <br>
<em>----------------------------------------------------------</em> <br>* Authority Check for node LFA1 <br><em>----------------------------------------------------------</em> <br>
* FORM AUTHORITY_CHECK_LFA1. <br><em>&#xA0;&#xA0; AUTHORITY-CHECK ... <br></em> ENDFORM.</span>
</dd></p>
<h3 id="include-programs-dbtest_ldb002-and-dbtest_ldb003">Include programs DBTEST_LDB002 and DBTEST_LDB003</h3>
<p>Like DBTEST_LDB001 for the nodes LFB1 and LFC1</p>
<h3 id="include-program-dbtest_ldb004">Include program DBTEST_LDB004</h3>
<p><dd>
<span class="qtext"><em>----------------------------------------------------------</em> <br>* Call event GET BKPF <br>
<em>----------------------------------------------------------</em> <br>FORM PUT_BKPF. <br>* STATICS FLAG. <br>
* IF FLAG = SPACE. <br><em>&#xA0;&#xA0; FLAG = &apos;X&apos;. <br></em>** Declarations for field selection for node BKPF <em>*</em> <br>
<em>&#xA0;&#xA0; STATICS BKPF_FIELDS TYPE RSFS_TAB_FIELDS. <br></em>&#xA0;&#xA0; MOVE &apos;BKPF&apos; TO BKPF_FIELDS-TABLENAME. <br>
<em>&#xA0;&#xA0; READ TABLE SELECT_FIELDS WITH KEY BKPF_FIELDS-TABLENAME <br></em>&#xA0;&#xA0;&#xA0;&#xA0; INTO BKPF_FIELDS. <br>
* ENDIF. <br>* SELECT (BKPF_FIELDS-FIELDS) INTO CORRESPONDING FIELDS OF <br><em>&#xA0;&#xA0;&#xA0;&#xA0; BKPF / TABLE ? &quot; (choose one of them) <br>
*&#xA0;&#xA0;&#xA0;&#xA0; FROM BKPF <br></em>&#xA0;&#xA0; WHERE BUKRS = LFB1-BUKRS <br><em>&#xA0;&#xA0;&#xA0;&#xA0; AND BELNR IN SBELNR <br>
*&#xA0;&#xA0;&#xA0;&#xA0; AND GJAHR = ?. <br>&#xA0;&#xA0;&#xA0;&#xA0;PUT BKPF. <br>ENDFORM.&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &quot;PUT_BKPF <br>
*----------------------------------------------------------</em> <br>* Authority Check for node BKPF <br><em>----------------------------------------------------------</em> <br>
* FORM AUTHORITYCHECK_BKPF. <br><em>&#xA0;&#xA0; AUTHORITY-CHECK ... <br></em> ENDFORM.&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &quot;AUTHORITY_CHECK_BKPF</span>
</dd></p>
<h3 id="include-program-dbtest_ldbfxxx">Include program DBTEST_LDBFXXX</h3>
<p><dd>
<span class="qtext"><em>----------------------------------------------------------</em> <br>* BEFORE_EVENT will be called before event EVENT <br>
* Possible values for EVENT: &apos;START-OF-SELECTION&apos; <br><em>----------------------------------------------------------</em> <br>
* FORM BEFORE_EVENT USING EVENT. <br><em>&#xA0;&#xA0; CASE EVENT. <br></em>&#xA0;&#xA0;&#xA0;&#xA0; WHEN &apos;START-OF-SELECTION&apos; <br>
* <br><em>&#xA0;&#xA0; ENDCASE. <br></em> ENDFORM.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &quot;BEFORE_EVENT <br>
<em>----------------------------------------------------------</em> <br>* AFTER_EVENT will be called after event EVENT <br>
* Possible values for EVENT: &apos;END-OF-SELECTION&apos; <br><em>----------------------------------------------------------</em> <br>
* FORM AFTER_EVENT USING EVENT. <br><em>&#xA0;&#xA0; CASE EVENT. <br></em>&#xA0;&#xA0;&#xA0;&#xA0; WHEN &apos;END-OF-SELECTION&apos; <br>
* <br><em>&#xA0;&#xA0; ENDCASE. <br></em> ENDFORM.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &quot;AFTER_EVENT <br>
<em>-----------------------------------------------------------</em> <br>* Initialize global data for multiple processing of <br>
* one logical database. <br>* Set returncode: <br><em>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;0 -&gt; all data are initialized, multiple processing o.k. <br>
*&#xA0;&#xA0;other -&gt; no multiple processing allowed <br></em>------------------------------------------------------------* <br>
FORM&#xA0;&#xA0;LDB_PROCESS_INIT CHANGING SUBRC LIKE SY-SUBRC. <br> <br>ENDFORM.&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&quot;LDB_PROCESS_INIT <br>
<em>------------------------------------------------------------</em> <br>* LDB_PROCESS_CHECK_SELECTIONS is called <br>
* after select-options and parameters are filled <br><em>------------------------------------------------------------</em> <br>
FORM&#xA0;&#xA0;LDB_PROCESS_CHECK_SELECTIONS CHANGING SUBRC LIKE SY-SUBRC <br>&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;MSG LIKE SYMSG. <br>
 <br>ENDFORM.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&quot;LDB_PROCESS_CHECK_SELECTIONS <br>
<em>----------------------------------------------------------</em> <br>* Initialize selection screen (processed before PBO) <br>
<em>----------------------------------------------------------</em> <br>FORM INIT. <br> <br>ENDFORM.&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &quot;INIT. <br>
<em>----------------------------------------------------------</em> <br>* PBO of selection screen (processed always after ENTER) <br>
<em>----------------------------------------------------------</em> <br>FORM PBO. <br> <br>ENDFORM.&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &quot;PBO. <br>
<em>----------------------------------------------------------</em> <br>* PAI of selection screen (processed always after ENTER) <br>
<em>----------------------------------------------------------</em> <br>FORM PAI USING FNAME MARK. <br>* CASE FNAME. <br>
<em>&#xA0;&#xA0; WHEN &apos;SLIFNR&#xA0;&#xA0;&apos;. <br></em>&#xA0;&#xA0; WHEN &apos;SBUKRS&#xA0;&#xA0;&apos;. <br><em>&#xA0;&#xA0; WHEN &apos;SBELNR&#xA0;&#xA0;&apos;. <br>
*&#xA0;&#xA0; WHEN &apos;SGJAHR&#xA0;&#xA0;&apos;. <br></em>&#xA0;&#xA0; WHEN &apos;<em>&apos;. <br></em>&#xA0;&#xA0; ENDCASE. <br>ENDFORM.
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &quot;PAI</span>
</dd></p>
<h3 id="include-program-dbtest_ldbsxxx">Include program DBTEST_LDBSXXX</h3>
<p><dd>
<span class="qtext"><strong><em>**</em></strong><strong><em>**</em></strong><strong><em>**</em></strong><strong><em>**</em></strong><strong><em>**</em></strong><strong><em>**</em></strong><strong><em>**</em></strong><em>*</em>** <br>* !!! PLEASE DO NOT CHANGE MANUALLY (BEGIN OF BLOCK) !!!!!! * <br>
<em>-----------------------------------------------------------</em> <br>* Data structures for search pattern selection <br>
* <br>* !!! PLEASE DO NOT CHANGE MANUALLY (END OF BLOCK) !!!!!!!! * <br><strong><em>**</em></strong><strong><em>**</em></strong><strong><em>**</em></strong><strong><em>**</em></strong><strong><em>**</em></strong><strong><em>**</em></strong><strong><em>**</em></strong><em>*</em>** <br>
<em>-----------------------------------------------------------</em> <br>* PUT_TEST_LDB_SP. <br>* Processed when search pattern selection is used, <br>
* i.e. user input into PARAMETERS p_sp AS SEARCH PATTERN <br>* STRUCTURE. <br><em>-----------------------------------------------------------</em> <br>
* FORM PUT_TEST_LDB_SP. <br> <br>* ENDFORM.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &quot;PUT_EXAMPLE_SP</span>
</dd></p>
<p>The comment characters before ABAP statements used in addition to the mandatory statements can be deleted
and the question marks can be replaced by appropriate expressions. The syntax check checks all include programs that match the naming conventions and also the selection include.</p>
<p>When the database is accessed in the subroutines <code style="display: inline;"><span class="qtext">put_node</span></code>, <code style="display: inline;"><span class="qtext">SELECT</span></code>
statements with conditions for the primary key fields in the <code style="display: inline;"><span class="qtext">WHERE</span></code> clauses
are generated. The performance of these statements is, however, not yet optimized. In particular, the
subroutines <code style="display: inline;"><span class="qtext">put_node</span></code> of a subtree of the structure represent nested <span class="qtext">
SELECT</span> loops, which should generally be avoided. Instead, the data read can be buffered in internal
tables, for example, and passed from here to the application program using the <code style="display: inline;"><span class="qtext">PUT</span></code>
statement. The statement <code style="display: inline;"><span class="qtext">PUT node</span></code>, though, should always be located in a subroutine whose name starts with <code style="display: inline;"><span class="qtext">put_node</span></code> for technical reasons.</p>
<p>If the selections specify <a href="../abenldb_free_selections" class="blue">dynamic selections</a> or
<a href="../abenldb_field_selections" class="blue">field selections</a> for a node, corresponding statements
are generated in the subroutine <code style="display: inline;"><span class="qtext">put_node</span></code> and the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement created automatically is modified, as seen in the example for the node BKPF.</p>
<p>The subroutines <code style="display: inline;"><span class="qtext">before_event</span></code>, <code style="display: inline;"><span class="qtext">after_event</span></code>, and
<code style="display: inline;"><span class="qtext">put_ldb_sp</span></code> are created as a comment in the database program and can be modified
and (by deleting the asterisks) activated. <code style="display: inline;"><span class="qtext">before_event</span></code> is called before
the event specified in the parameter <code style="display: inline;"><span class="qtext">event</span></code> is processed. <code style="display: inline;"><span class="qtext">after_event</span></code>
is called after the event specified in the parameter <code style="display: inline;"><span class="qtext">event</span></code> is processed.
When a search help selection is made, <code style="display: inline;"><span class="qtext">put_ldb_sp</span></code> is called to edit the return values instead of <code style="display: inline;"><span class="qtext">put_node</span></code> for the root node.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>