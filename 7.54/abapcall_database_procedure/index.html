


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapcall database procedure - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#call-database-procedure" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapcall database procedure
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#addition" class="md-nav__link">
    Addition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition_1" class="md-nav__link">
    Addition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlscript-procedure" class="md-nav__link">
    SQLScript Procedure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-procedure-proxy" class="md-nav__link">
    Database Procedure Proxy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-procedure-interface" class="md-nav__link">
    Database Procedure Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-procedure-call" class="md-nav__link">
    Database Procedure Call
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-example" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handleable-exceptions" class="md-nav__link">
    Handleable Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-handleable-exceptions" class="md-nav__link">
    Non-Handleable Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abapcall_database_procedure.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_hana" class="blue">ABAP and SAP HANA</a>&#xA0;&#x2192;&#xA0;
<a href="../abensap_hana_access" class="blue">Access to Objects in SAP HANA XS</a>&#xA0;&#x2192;&#xA0;
<a href="../abensap_hana_access_xsc" class="blue">Access to SAP HANA XSC Objects</a>&#xA0;&#x2192;&#xA0;
<a href="../abensql_script" class="blue">Database Procedure Proxies for SQLScript Procedures in the SAP HANA Repository</a>&#xA0;</small></p>
<h1 id="call-database-procedure">CALL DATABASE PROCEDURE</h1>
<p><a href="../abapcall_db_procedure_shortref" class="blue">Quick Reference</a>  </p>
<p>Other versions: 
 <s><i>7.31</i></s> | <a href="../../7.40/abapcall_database_procedure">7.40</a> | <b>7.54</b></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">CALL DATABASE PROCEDURE <br>&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">{</i>&#xA0;&#xA0;proxy
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <i class="bn">[</i>CONNECTION con<i class="bn">|</i>(con_syntax)<i class="bn">]</i>
&#xA0;<a href="../abapcall_db_proc_parameters" class="blue">parameter_list</a> <i class="bn">}</i> <br>
&#xA0;&#xA0;<i class="bn">|</i> <i class="bn">{</i> (proxy_name) <i class="bn">[</i>CONNECTION con<i class="bn">|</i>(con_syntax)<i class="bn">]</i> <i class="bn">{</i>
<a href="../abapcall_db_proc_parameters" class="blue">parameter_list</a> <br>&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <i class="bn">|</i><a href="../abapcall_db_proc_parameter_tables" class="blue">parameter_table<i class="bn">}</i></a> <i class="bn">}</i>.</span> 
</code></pre></p>
<h3 id="addition">Addition</h3>
<p><a href="#!ABAP_ONE_ADD@1@" class="blue"> <code style="display: inline;"><span class="qtext">... CONNECTION con<i class="bn">|</i>(con_syntax)</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>This statement calls a <a href="../abendatabase_procedure_glosry" class="grey" title="Glossary Entry">database procedure</a> written in
<a href="../abensql_script_glosry" class="grey" title="Glossary Entry">SQLScript</a>
(<a href="../abensql_script_procedure_glosry" class="grey" title="Glossary Entry">SQLScript procedure</a>) on an
<a href="../abenhana_database_glosry" class="grey" title="Glossary Entry">SAP HANA database</a>.</p>
<ul>

<li>
If the addition <code style="display: inline;"><span class="qtext">CONNECTION</span></code> is not specified, the statement can only be executed in a system on the SAP HANA database.
</li>
<li>
If the addition <code style="display: inline;"><span class="qtext">CONNECTION</span></code> is specified, the statement can be executed in every system with a
<a href="../abensecondary_db_connection_glosry" class="grey" title="Glossary Entry">secondary connection</a> to an SAP HANA database.
<br></li>

</ul>

<p>The SQLScript procedure is specified using a <a href="../abendatabase_procedure_proxy" class="blue">database procedure proxy</a> defined for it. The proxy can be specified as follows:</p>
<ul>

<li>
<code style="display: inline;"><span class="qtext">proxy</span></code>
<br></li>

</ul>

<dd>
Specified directly and statically as <code style="display: inline;"><span class="qtext">proxy</span></code>.
</dd>

<ul>

<li>
<code style="display: inline;"><span class="qtext">(proxy_name)</span></code>
<br></li>

</ul>

<dd>
Specified as the uppercase content of a parenthesized character-like data object <code style="display: inline;"><span class="qtext">proxy_name</span></code>. The following can be specified for <code style="display: inline;"><span class="qtext">proxy_name</span></code>:
</dd>

<ul class="circlem2">

<li>Literal or constants <br> <br>If the data object <code style="display: inline;"><span class="qtext">proxy_name</span></code> is specified
as a character literal or as a constant, it can be evaluated statically and the specified proxy is identified as the used object.</li>

</ul>

<ul class="circlem2">

<li>Variable <br> <br>If the data object <code style="display: inline;"><span class="qtext">proxy_name</span></code> is specified as a variable, it is specified only dynamically and the content is not evaluated statically.</li>

</ul>

<dd>
When the statement is executed, <code style="display: inline;"><span class="qtext">proxy_name</span></code> is not evaluated until runtime (in both cases).
</dd>

<p>The actual parameters for the input and output parameters of the procedure are either specified statically
using <a href="../abapcall_db_proc_parameters" class="blue"><code style="display: inline;"><span class="qtext">parameter_list</span></code></a>
or dynamically using <a href="../abapcall_db_proc_parameters" class="blue"><code style="display: inline;"><span class="qtext">parameter_table</span></code></a>.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The names of the database procedure proxy and database procedure interface can be chosen at will. Usually, the database procedure interface has the name of the database procedure proxy with the prefix IF_, and any additional
<a href="../abenname_space_prefix_glosry" class="grey" title="Glossary Entry">namespace prefix</a>.
</li>

<li>
The constant CALL_DATABASE_PROCEDURE of the class <a href="../abencl_abap_dbfeatures" class="blue">CL_ABAP_DBFEATURES</a> can be used to query the current database procedure proxies.
</li>

<li>
<a href="../abenamdp" class="blue">ABAP Managed Database Procedures</a> (AMDP) are a recommended alternative to the statement <code style="display: inline;"><span class="qtext">CALL DATABASE PROCEDURE</span></code> if the
<a href="../abenstandard_db_glosry" class="grey" title="Glossary Entry">standard AS ABAP database</a>
is an SAP HANA database. From AMDP, any database procedures of the standard database can be called. This makes the use of database procedure proxies superfluous as long as a
<a href="../abensecondary_db_connection_glosry" class="grey" title="Glossary Entry">secondary connection</a> is not used to access another SAP HANA database.
</li>

<li>
No database procedure proxies can be used for SQLScript procedures in
<a href="../abenxsa_glosry" class="grey" title="Glossary Entry">SAP HANA XSA</a>. Alternative methods such as
<a href="../abenamdp" class="blue">AMDP</a> or <a href="../abenadbc_glosry" class="grey" title="Glossary Entry">ADBC</a> must be used instead. <br>
</li>

<p></ul>
<a name="@@CONNECTION@@CALL DATABASE PROCEDURE@@"></a>
</div></p>
<h3 id="addition_1">Addition</h3>
<p><code style="display: inline;"><span class="qtext">... CONNECTION con<i class="bn">|</i>(con_syntax)</span></code> <!-- /A -->  <br></p>
<h3 id="effect_1">Effect</h3>
<p>The SQLScript procedure is not executed on the <a href="../abenstandard_db_connection_glosry" class="grey" title="Glossary Entry">standard connection</a> but on the specified
<a href="../abensecondary_db_connection_glosry" class="grey" title="Glossary Entry">secondary connection</a>
instead. The database connection can be specified statically with <code style="display: inline;"><span class="qtext">con</span></code> or
dynamically as the content of <code style="display: inline;"><span class="qtext">con_syntax</span></code>, where the field <code style="display: inline;"><span class="qtext">con_syntax</span></code>
must belong to the type <code style="display: inline;"><span class="qtext">c</span></code> or <code style="display: inline;"><span class="qtext">string</span></code>. The database
connection must be specified with a name from the column CON_NAME in the table <span class="lnkgrey">DBCON</span> or that begins with the prefix <span class="qtext400">R/3*</span> and hence represents a
<a href="../abenservice_connection_glosry" class="grey" title="Glossary Entry">service connection</a> to the standard database.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The specified database procedure proxy for the database procedure of the secondary connection must exist in the current system.
</li>

<li>
Entries in the database table DBCON can only be created and modified using the <a href="../abendba_cockpit_glosry" class="grey" title="Glossary Entry">DBA Cockpit</a> tool.
</li>

<li>
The use of <code style="display: inline;"><span class="qtext">CALL DATABASE PROCEDURE</span></code> with the addition <code style="display: inline;"><span class="qtext">CONNECTION</span></code>
is recommended in all scenarios in which existing database procedures are used in an SAP HANA database that is not the current standard AS ABAP database (side-by-side scenario). <br>
</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p>
</div></p>
<h3 id="sqlscript-procedure">SQLScript Procedure</h3>
<p>Take the following SQLScript procedure:</p>
<dd>
<span class="qtext400">/********* Begin Procedure Script ************/ <br>BEGIN <br>&#xA0;&#xA0;out_items = select items.pos, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; items.first_name, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; items.last_name, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; items.posting_date as date, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; items.currency, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; items.amount <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;from zngd_items as items <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;inner join :in_sel as sel <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; on ( items.first_name = sel.first_name and <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;items.last_name&#xA0;&#xA0;= sel.last_name ) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; where posting_date = :in_date; <br>END; <br>/********* End Procedure Script ************/</span>
</dd>

<p>The input parameters are:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Database Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">in_sel</span></td>
<td><span class="qtext400">Table data type</span></td>
</tr>
<tr>
<td><span class="qtext400">in_date</span></td>
<td><span class="qtext400">Scalar</span></td>
</tr>
</tbody>
</table>
<p>The components of <span class="qtext400">in_sel</span> are:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Database Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">FIRST_NAME</span></td>
<td><span class="qtext400">NVARCHAR, length 20</span></td>
</tr>
<tr>
<td><span class="qtext400">LAST_NAME</span></td>
<td><span class="qtext400">NVARCHAR, length 20</span></td>
</tr>
</tbody>
</table>
<p>The output parameters are:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Database Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">out_items</span></td>
<td><span class="qtext400">Table data type</span></td>
</tr>
</tbody>
</table>
<p>The components of <span class="qtext400">out_items</span> are:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Database Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">POS</span></td>
<td><span class="qtext400">INTEGER</span></td>
</tr>
<tr>
<td><span class="qtext400">FIRST_NAME</span></td>
<td><span class="qtext400">NVARCHAR, length 20</span></td>
</tr>
<tr>
<td><span class="qtext400">LAST_NAME</span></td>
<td><span class="qtext400">NVARCHAR, length 20</span></td>
</tr>
<tr>
<td><span class="qtext400">DATE</span></td>
<td><span class="qtext400">INTEGER</span></td>
</tr>
<tr>
<td><span class="qtext400">CURRENCY</span></td>
<td><span class="qtext400">NVARCHAR, length 4</span></td>
</tr>
<tr>
<td><span class="qtext400">AMOUNT</span></td>
<td><span class="qtext400">DECIMALS, length 11, scale 2</span></td>
</tr>
</tbody>
</table>
<h3 id="database-procedure-proxy">Database Procedure Proxy</h3>
<p>The following mapping is defined in the associated database procedure proxy ..._PROXY:</p>
<table>
<thead>
<tr>
<th>Procedure Parameter</th>
<th>ABAP Name</th>
<th>ABAP Data Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">IN_SEL</span></td>
<td><span class="qtext400">IN_SEL</span></td>
<td>Internal table</td>
</tr>
<tr>
<td><span class="qtext400">IN_SEL</span>, <span class="qtext400">FIRST_NAME</span></td>
<td><span class="qtext400">IN_SEL</span>, <span class="qtext400">FIRST_NAME</span></td>
<td><code style="display: inline;"><span class="qtext">c</span></code>, length 20</td>
</tr>
<tr>
<td><span class="qtext400">IN_SEL</span>, <span class="qtext400">LAST_NAME</span></td>
<td><span class="qtext400">IN_SEL</span>, <span class="qtext400">LAST_NAME</span></td>
<td><code style="display: inline;"><span class="qtext">c</span></code>, length 20</td>
</tr>
<tr>
<td><span class="qtext400">IN_DATE</span></td>
<td><span class="qtext400">IN_DATE</span></td>
<td><code style="display: inline;"><span class="qtext">d</span></code></td>
</tr>
<tr>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">POS</span></td>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">POS</span></td>
<td><code style="display: inline;"><span class="qtext">i</span></code></td>
</tr>
<tr>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">FIRST_NAME</span></td>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">FIRST_NAME</span></td>
<td><code style="display: inline;"><span class="qtext">c</span></code>, length 20</td>
</tr>
<tr>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">LAST_NAME</span></td>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">LAST_NAME</span></td>
<td><code style="display: inline;"><span class="qtext">c</span></code>, length 20</td>
</tr>
<tr>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">DATA</span></td>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">POSTING_DATE</span></td>
<td><code style="display: inline;"><span class="qtext">d</span></code></td>
</tr>
<tr>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">CURRENCY</span></td>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">CURRENCY</span></td>
<td><code style="display: inline;"><span class="qtext">c</span></code>, length 4</td>
</tr>
<tr>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">AMOUNT</span></td>
<td><span class="qtext400">OUT_ITEMS</span>, <span class="qtext400">AMOUNT</span></td>
<td><code style="display: inline;"><span class="qtext">p</span></code>, length 6, 2 decimal places</td>
</tr>
</tbody>
</table>
<p>Note the name and type changes in the date fields.</p>
<h3 id="database-procedure-interface">Database Procedure Interface</h3>
<p>The database procedure interface IF_..._PROXY is generated with the following type declarations:</p>
<dd>
<span class="qtext">INTERFACE if_..._proxy PUBLIC. <br>&#xA0;&#xA0;TYPES: BEGIN OF in_sel, <br>&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; first_name&#xA0;&#xA0;&#xA0;&#xA0; TYPE c LENGTH 20, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; last_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;TYPE c LENGTH 20, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; END OF in_sel. <br>&#xA0;&#xA0;TYPES: in_date&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;TYPE d. <br>
&#xA0;&#xA0;TYPES: BEGIN OF out_items, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; pos&#xA0;&#xA0;TYPE i, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; first_name&#xA0;&#xA0;&#xA0;&#xA0; TYPE c LENGTH 20, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; last_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;TYPE c LENGTH 20, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; posting_date&#xA0;&#xA0; TYPE d, <br>&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; currency&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TYPE c LENGTH 4, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; amount&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TYPE p LENGTH 6 DECIMALS 2, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; END OF out_items. <br>ENDINTERFACE.</span>
</dd>

<h3 id="database-procedure-call">Database Procedure Call</h3>
<p>The following ABAP program section calls the SQLScript procedure using the name of the database procedure proxy; actual parameters typed using the database procedure interface are used.</p>
<dd>
<span class="qtext">DATA: <br>&#xA0;&#xA0;in_date&#xA0;&#xA0; TYPE if_..._proxy=&gt;in_date, <br>&#xA0;&#xA0;in_sel&#xA0;&#xA0;&#xA0;&#xA0;TYPE STANDARD TABLE <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OF if_..._proxy=&gt;in_sel <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WITH EMPTY KEY, <br>
&#xA0;&#xA0;out_items TYPE STANDARD TABLE <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OF if_..._proxy=&gt;out_items <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; WITH EMPTY KEY. <br>
 <br>in_date = &apos;20120329&apos;. <br>in_sel = VALUE #( ( first_name = &apos;Dolores&apos;&#xA0;&#xA0;&#xA0;&#xA0;last_name = &apos;Oh&apos; ) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;( first_name = &apos;Benjacomin&apos; last_name = &apos;Bozart&apos; ) <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;( first_name = &apos;Johanna&apos;&#xA0;&#xA0;&#xA0;&#xA0;last_name = &apos;Gnade&apos;&#xA0;&#xA0; ) ). <br>
 <br>IF cl_abap_dbfeatures=&gt;use_features( <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;EXPORTING <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;requested_features = <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;VALUE #( ( cl_abap_dbfeatures=&gt;call_database_procedure ) ) ). <br>
&#xA0;&#xA0;CALL DATABASE PROCEDURE ..._proxy <br>&#xA0;&#xA0;&#xA0;&#xA0; EXPORTING in_date&#xA0;&#xA0; = in_date <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; in_sel&#xA0;&#xA0;&#xA0;&#xA0;= in_sel <br>&#xA0;&#xA0;&#xA0;&#xA0; IMPORTING out_items = out_items. <br>ENDIF.</span>

</dd>

<h3 id="executable-example">Executable Example</h3>
<p>The example <a href="../abencall_db_procedure_abexa" class="blue">Database Procedure Call</a> uses a database procedure proxy created in the program to call a SQLScript procedure created using
<a href="../abenadbc_glosry" class="grey" title="Glossary Entry">ADBC</a>.  </p>
<h3 id="exceptions">Exceptions</h3>
<h3 id="handleable-exceptions">Handleable Exceptions</h3>
<p>Except for CX_SY_DB_PROCEDURE_SQL_ERROR, all the following exception classes are subclasses of the abstract superclass <span class="lnkgrey">CX_SY_DB_PROCEDURE_CALL</span>.</p>
<p><span class="lnkgrey">CX_SY_DB_PROCEDURE_SQL_ERROR</span></p>
<ul>

<li>
<span class="italic">Cause:</span> Error on the database when executing an SQLScript function. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_SQL_ERROR</span></code>
<br></li>

</ul>

<p><span class="lnkgrey">CX_SY_DB_PROCEDURE_CONNECTION</span></p>
<ul>

<li>
<span class="italic">Cause:</span> The specified secondary connection was not found in the database table DBCON. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_CONNECTION</span></code>
<br></li>

</ul>

<p><span class="lnkgrey">CX_SY_DB_PROCEDURE_NOT_FOUND</span></p>
<ul>

<li>
<span class="italic">Cause:</span> The specified database procedure proxy does not exist. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_PROXY_NOT_FOUND</span></code>
<br></li>

</ul>

<p><span class="lnkgrey">CX_SY_DB_PROCEDURE_NOT_SUPP</span></p>
<ul>

<li>
<span class="italic">Cause:</span> The database does not support SQLScript. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">CALL_DATABASE_NOT_SUPPORTED</span></code>
<br></li>

</ul>

<p><span class="lnkgrey">CX_SY_DB_PROCEDURE_OVERFLOW</span></p>
<ul>

<li>
<span class="italic">Cause:</span> The value range of a parameter was exceeded. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_OVERFLOW</span></code>
<br></li>

</ul>

<p><span class="lnkgrey">CX_SY_DB_PROCEDURE_PARAMETER</span></p>
<p><span class="italic">Cause:</span> One of the following exceptions was raised (abstract superclass).</p>
<ul>

<li>
<span class="lnkgrey">CX_SY_DB_PROCEDURE_DYN_IN_OUT</span>
<br></li>

</ul>

<dd>
<span class="italic">Cause:</span> Input and output parameters were switched in the dynamic call. <br><span class="italic">
Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_DYNAMIC_IN_OUT1</span></code>, <code style="display: inline;"><span class="qtext">DBPROC_DYNAMIC_IN_OUT2</span></code>
</dd>

<ul>

<li>
<span class="lnkgrey">CX_SY_DB_PROCEDURE_DYN_MISSING</span>
<br></li>

</ul>

<dd>
<span class="italic">Cause:</span> Actual parameter missing for a formal parameter in a dynamic call. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_DYNAMIC_MISSING</span></code>
</dd>

<ul>

<li>
<span class="lnkgrey">CX_SY_DB_PROCEDURE_DYN_NOT_FND</span>
<br></li>

</ul>

<dd>
<span class="italic">Cause:</span> Formal parameter specified incorrectly in a dynamic call. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_DYNAMIC_NOT_FOUND</span></code>
</dd>

<ul>

<li>
<span class="lnkgrey">CX_SY_DB_PROCEDURE_TYPE_ERROR</span>
<br></li>

</ul>

<dd>
<span class="italic">Cause:</span> Invalid type of an actual parameter in static or dynamic call. <br><span class="italic">
Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_ILLEGAL_TYPE</span></code>, <code style="display: inline;"><span class="qtext">DBPROC_DYNAMIC_NO_SCALAR</span></code>, <code style="display: inline;"><span class="qtext">DBPROC_DYNAMIC_NO_TABLE</span></code>
</dd>

<h3 id="non-handleable-exceptions">Non-Handleable Exceptions</h3>
<ul>

<li>
<span class="italic">Cause:</span> The column KIND of the parameter table <code style="display: inline;"><span class="qtext">ptab</span></code> contains an invalid value. <br>
<span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_DYNAMIC_UNKNOWN_KIND</span></code>
</li>

<li>
<span class="italic">Cause:</span> The column KIND of the parameter table <code style="display: inline;"><span class="qtext">ptab</span></code>
contains the value <span class="qtext400">&quot;C&quot;</span> for input/output parameters. This is not yet supported. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_DYNAMIC_NO_INOUT</span></code>
</li>

<li>
<span class="italic">Cause:</span> The actual parameter associated with an output parameter cannot be modified. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">DBPROC_OUT_NOT_WRITABLE</span></code>
<br></li>

</ul>

<h3 id="continue">Continue</h3>
<p><a href="../abapcall_db_proc_parameters" class="blue">CALL DATABASE PROCEDURE - parameter_list</a></p>
<p><a href="../abapcall_db_proc_parameter_tables" class="blue">CALL DATABASE PROCEDURE - parameter_table</a></p>
<p><a href="../abencall_db_procedure_abexa" class="blue">SAP HANA, Database Procedure Proxy</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>