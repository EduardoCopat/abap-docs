


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abencds annotations analysis - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#abap-cds-evaluation-of-annotations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abencds annotations analysis
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#system-class-cl_dd_ddl_annotation_service" class="md-nav__link">
    System Class CL_DD_DDL_ANNOTATION_SERVICE
  </a>
  
    <nav class="md-nav" aria-label="System Class CL_DD_DDL_ANNOTATION_SERVICE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#executable-example" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata-extensions" class="md-nav__link">
    Metadata Extensions
  </a>
  
    <nav class="md-nav" aria-label="Metadata Extensions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#caution" class="md-nav__link">
    Caution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cds-variants-are-not-currently-released-for-general-use-it-is-not-possible-to-define-standalone-cds-variants-and-the-use-of-cds-variants-in-metadata-extensions-produces-a-syntax-check-warning" class="md-nav__link">
    CDS variants are not currently released for general use. It is not possible to define standalone CDS variants and the use of CDS variants in metadata extensions produces a syntax check warning.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#direct-inherited-and-derived-annotations" class="md-nav__link">
    Direct, Inherited, and Derived Annotations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subannotations" class="md-nav__link">
    Subannotations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annotation-arrays" class="md-nav__link">
    Annotation Arrays
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#null-values" class="md-nav__link">
    Null Values
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annotations-for-translatable-texts" class="md-nav__link">
    Annotations for Translatable Texts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performing-the-evaluation" class="md-nav__link">
    Performing the Evaluation
  </a>
  
    <nav class="md-nav" aria-label="Performing the Evaluation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abencds_annotations_analysis.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_dictionary" class="blue">ABAP - Dictionary</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds" class="blue">ABAP CDS in ABAP Dictionary</a>&#xA0;&#x2192;&#xA0;
<a href="../abencds_annotations" class="blue">ABAP CDS - Annotations</a>&#xA0;</small></p>
<h1 id="abap-cds-evaluation-of-annotations">ABAP CDS - Evaluation of Annotations</h1>
<p>When an object defined in the <a href="../abencds_source_code_glosry" class="grey" title="Glossary Entry">CDS source code</a> is activated, the annotations defined in the
<a href="../abencds_annotation_syntax_glosry" class="grey" title="Glossary Entry">CDS annotation syntax</a>
there are saved in internal database tables in ABAP Dictionary. These tables can then be accessed to evaluate the data. This is done for every annotation with correct syntax regardless of name and value.</p>
<ul>

<li><a href="#@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_1" class="blue">System Class CL_DD_DDL_ANNOTATION_SERVICE</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_2" class="blue">Metadata Extensions</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_3" class="blue">Direct, Inherited, and Derived Annotations</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_4" class="blue">Subannotations</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_5" class="blue">Annotation Arrays</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_6" class="blue">Null Values</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_7" class="blue">Annotations for Translatable Texts</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_8" class="blue">Performing the Evaluation</a></li>

</ul>

<p><a name="@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_1"></a>
Other versions: 
 <s><i>7.31</i></s> | <s><i>7.40</i></s> | <b>7.54</b></p>
<h2 id="system-class-cl_dd_ddl_annotation_service">System Class CL_DD_DDL_ANNOTATION_SERVICE</h2>
<p>The following documented system class is provided for evaluations of the annotations of <a href="../abencds_entity_glosry" class="grey" title="Glossary Entry">CDS entities</a>:</p>
<p><span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span></p>
<p>The methods of this class return the annotations of CDS entities. By default, the annotations are returned from
<a href="../abencds_metadata_extension_glosry" class="grey" title="Glossary Entry">metadata extensions</a>
first, and then from the CDS entity itself. In the latter case, a distinction can be made between direct, derived and inherited annotations, while in the case of inherited annotations the
<a href="../abencds_metadata_extension_glosry" class="grey" title="Glossary Entry">metadata extensions</a>
(if present) are handled first. More specifically, an initial annotation value is returned in cases where an annotation has no values specified, rather than any default value defined in the annotation definition.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>The method GET_ANNOTATIONS of the class <span class="lnkgrey">CL_DD_DDL_ANALYZE</span> also returns
the annotations of CDS entities. It must be noted, however, that these only analyze the associated DDL
source code. Annotations from metadata extensions, derived and inherited annotations, and the translations of annotations for translatable texts are ignored.</li>

<p></ul>
<ul></p>
<li>When the system class CL_DD_DDL_ANNOTATION_SERVICE is used to evaluate annotations, the annotations of the CDS entities are also respected, as specified in their
<a href="../abenddl_source_code_glosry" class="grey" title="Glossary Entry">DDL source code</a> in
<a href="../abencds_annotation_syntax_glosry" class="grey" title="Glossary Entry">CDS annotation syntax</a>. The associated
<a href="../abencds_anno_definition_glosry" class="grey" title="Glossary Entry">annotation definitions</a>
are ignored by CL_DD_DDL_ANNOTATION_SERVICE. The validity of an annotation must be checked by the responsible framework.</li>

<p></ul>
<ul></p>
<li><a href="../abenadt_glosry" class="grey" title="Glossary Entry">ADT</a> supports the specification of valid annotations (namely annotations with an
<a href="../abencds_anno_definition_glosry" class="grey" title="Glossary Entry">annotation definition</a>) by using colors in the source code and code completion.</li>

<p></ul>
</div></p>
<h3 id="executable-example">Executable Example</h3>
<p><a href="../abencds_semantics_annotation_abexa" class="blue">Evaluating Annotations</a></p>
<p><a name="@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_2"></a></p>
<h2 id="metadata-extensions">Metadata Extensions</h2>
<p><a href="../abencds_meta_data_extensions" class="blue">Metadata extensions</a> add further annotations to a CDS entity or override existing annotations. Currently metadata extensions can only be defined for
<a href="../abencds_view_glosry" class="grey" title="Glossary Entry">CDS views</a> and
<a href="../abenabstract_entity_glosry" class="grey" title="Glossary Entry">abstract CDS entities</a>.
Only specific annotations can be added to metadata extensions. These annotations are ignored when the CDS entity is activated.</p>
<p>The methods of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span> (except GET_DIRECT_ANNOS_...)
<a href="../abencds_meta_data_extension_eval" class="blue">respect</a> by default the existing metadata
extensions in the current AS ABAP when the annotations of a CDS entity are evaluated. There can be multiple
metadata extensions for an entity. These extensions can be distinguished by assignments to various layers, such as industry, partner, and customer, and by the association with
<a href="../abencds_variant_glosry" class="grey" title="Glossary Entry">CDS variants</a>. The methods of the class CL_DD_DDL_ANNOTATION_SERVICE collect all annotations belonging to the CDS entity in the following order:</p>
<ul>

<li>Annotations from metadata extensions</li>

</ul>

<ul>

<li>Direct annotations from the data definition</li>

</ul>

<ul>

<li>Indirect annotations (derived and inherited annotations)</li>

</ul>

<p>Here every annotation is only returned once for its scope. If annotations have the same name, the priority
is determined first by the explicit specification of a CDS variant when the method is called, and then by the layers of the involved metadata extensions. The evaluation is performed using the following
<a href="../abencds_meta_data_extension_eval" class="blue">steps</a>:</p>
<ul>

<li>First the metadata extensions of the specified variant are evaluated. Here, an annotation of a higher level overrides the annotation of a lower layer.</li>

</ul>

<ul>

<li>Then the metadata extensions are evaluated, which are not linked to any variants. Once again, higher levels override lower levels.</li>

</ul>

<ul>

<li>Finally, the direct and indirect annotations of the CDS entity are evaluated. In the evaluation of the annotations inherited from the other CDS entities, any metadata extensions are taken into account first.</li>

</ul>

<p>Annotations found in an earlier evaluation level always have the higher priority. An annotation from
a later level is only returned if it has already been found in an earlier level. The results of the class CL_DD_DDL_ANNOTATION_SERVICE show where an annotation was specified.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>Annotations from metadata extensions are not stored in the same system tables as annotations from
the DDL source code of a CDS entity. They can only be made accessible by using the class CL_DD_DDL_ANNOTATION_SERVICE. Other classes ignore metadata extensions.</li>

<p></ul>
<ul></p>
<li>For more information and examples related to evaluation, see
<a href="../abencds_meta_data_extensions" class="blue">metadata extensions</a> and <a href="../abencds_meta_data_extension_eval" class="blue">evaluation of metadata extensions</a>.</li>

<p></ul>
<ul></p>
<li>The program <span class="lnkgrey">ABAP_DOCU_MDE_ANNOS</span> shows all annotations that can be specified in metadata extensions.</li>

<p></ul>
</div></p>
<h3 id="caution">Caution</h3>
<h3 id="cds-variants-are-not-currently-released-for-general-use-it-is-not-possible-to-define-standalone-cds-variants-and-the-use-of-cds-variants-in-metadata-extensions-produces-a-syntax-check-warning">CDS variants are not currently released for general use. It is not possible to define standalone CDS variants and the use of CDS variants in metadata extensions produces a syntax check warning.</h3>
<p><a name="@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_3"></a></p>
<h2 id="direct-inherited-and-derived-annotations">Direct, Inherited, and Derived Annotations</h2>
<p>In the evaluation of annotations of a CDS entity using methods of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span>,
which cannot be overridden by metadata extensions, it is possible to distinguish between the following types of annotations:</p>
<ul>

<li>Direct annotations</li>

</ul>

<dd>
In the <a href="../abencds_annotations_syntax" class="blue">annotation syntax</a>, these annotations
are specified directly in the DDL source code of the CDS entity currently being evaluated. The methods GET_DIRECT_ANNOS_ of the class CL_DD_DDL_ANNOTATION_SERVICE only read these annotations.
</dd>

<ul>

<li>Indirect annotations</li>

</ul>

<dd>
In addition to returning direct annotations, the methods of the class CL_DD_DDL_ANNOTATION_SERVICE (except for GET_DIRECT_ANNOS_) also return annotations that are not specified in the DDL source code:
</dd>

<ul class="circlem2">

<li>Inherited annotations <br> <br>If these annotations are not specified explicitly in the DDL source
code of the CDS entity, they are taken from the dictionary objects used in the CDS entity, in accordance
with the rules described in the class documentation of <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span>.
When other CDS entities are accessed, their annotations specified in metadata extensions, direct annotations,
and derived annotations are inherited. Other dictionary objects, such as database tables and classic
views, do not have any direct annotations. However, their annotations derived from assigned data elements are inherited. The view annotation <a href="../abencds_f1_view_entity_annotations" class="blue"><span class="qtext400">Metadata.ignorePropagatedAnnotations</span></a> can be used to specify whether the class CL_DD_DDL_ANNOTATION_SERVICE takes into account or ignores inherited annotations.</li>

</ul>

<ul class="circlem2">

<li>Derived annotations <br> <br>If these annotations are not explicitly specified or inherited in the
DDL source code of the CDS entity, they are derived (if possible) from assigned data elements of ABAP
Dictionary. The relevant annotations are the element and parameter annotations <span class="qtext400">@EndUserText.Label</span>,
<span class="qtext400">@EndUserText.QuickInfo</span> and <span class="qtext400">@EndUserText.Heading</span>,
which are supplied with texts according to rules (described in the class documentation <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span>)
from the field labels of assigned data elements. The annotation <span class="qtext400">@EndUserText.Heading</span>
is only currently possible as an implicit annotation for this purpose. If specified directly in the
DDL source code of a data definition, an annotation is not recognized as a language-dependent text. <span class="qtext400">@EndUserText.Heading</span> is also not allowed in the
<a href="../abenddlx_source_code_glosry" class="grey" title="Glossary Entry">DDLX source code</a> of a <a href="../abencds_meta_data_extensions" class="blue">metadata extension</a>.</li>

</ul>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>Inheritances apply especially to those <a href="../abencds_f1_element_annotations" class="blue">element annotations</a> of
<a href="../abencds_association_glosry" class="grey" title="Glossary Entry">CDS associations</a> published
in the <a href="../abencds_f1_select_list" class="blue"><span class="qtext400">SELECT</span> list</a> using a path expression <a href="../abencds_f1_path_expression" class="blue"><span class="qtext400">path_expr</span></a>. A
<a href="../abencds_f1_select_list_association" class="blue">publication</a> of a CDS association specified in a different CDS view inherits the element annotations of preceding publications.</li>

<p></ul>
<ul></p>
<li>Annotations derived from data elements depend on the assignment of data elements to elements of
the current CDS entity. This assignment is performed in the internal metadata of a CDS entity and is not dependent on inheritance.</li>

<p></ul>
<ul></p>
<li>The annotations types described here apply especially to evaluations using the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span>. Other APIs can evaluate the underlying metadata differently.</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following three pieces of <a href="../abenddl_source_code_glosry" class="grey" title="Glossary Entry">
DDL source code</a> define three views; the first two views access the third view. The only difference between the first two views is the specification of annotation <span class="qtext400">@Metadata.ignorePropagatedAnnotations:true</span>. Every view contains an element with a direct element annotation <span class="qtext400">@EndUserText.label</span>.</p>
<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;DEMO_CDS_ANIN1&apos; <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_anno_inheritance_1 <br>&#xA0;&#xA0;as select from <br>&#xA0;&#xA0;&#xA0;&#xA0;demo_cds_anno_inheritance_2 <br>
&#xA0;&#xA0;&#xA0;&#xA0;{ <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.label: &apos;XXXXXXXXXX&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key id, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key carrier, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key flight, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;departure, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;destination <br>&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </span>
</dd>

<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;DEMO_CDS_ANIN1A&apos; <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
@Metadata.ignorePropagatedAnnotations: true <br>define view demo_cds_anno_inheritance_1A <br>&#xA0;&#xA0;as select from <br>
&#xA0;&#xA0;&#xA0;&#xA0;demo_cds_anno_inheritance_2 <br>&#xA0;&#xA0;&#xA0;&#xA0;{ <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.label: &apos;XXXXXXXXXX&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key id, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key carrier, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key flight, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;departure, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;destination <br>
&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span>
</dd>

<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;DEMO_CDS_ANIN2&apos; <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_anno_inheritance_2 <br>&#xA0;&#xA0;as select from <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; spfli <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;join scarr on <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;scarr.carrid = spfli.carrid <br>
&#xA0;&#xA0;&#xA0;&#xA0;{ <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key spfli.carrid&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; as id, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key scarr.carrname&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; as carrier, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.label: &apos;YYYYYYYYYY&apos; <br>&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;key spfli.connid&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; as flight, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;spfli.cityfrom&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; as departure, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;cast( spfli.cityto as demo_destination )&#xA0;&#xA0; as destination <br>&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0; </span>
</dd>

<p>The program <span class="lnkgrey">DEMO_CDS_DERIVED_INHERIT_ANNOS</span> uses a method of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span> to read the element annotations of the first two CDS views:</p>
<ul>

<li>Almost all element annotations in this example are from annotations derived from data elements.
This applies especially to the annotation <span class="qtext400">@EndUserText.heading</span>, which
cannot be specified in the source code. The texts of the element <span class="qtext400">destination</span>
originate from data element <span class="qtext400">demo_destination</span>, which overrides the automatic assignment to S_TO_CITY in a <span class="qtext400">CAST</span> expression.</li>

</ul>

<ul class="circlem2">

<li>Without the annotation <span class="qtext400">@Metadata.ignorePropagatedAnnotations:true</span>,
the derived annotations are inherited from the used objects. The SOURCEOBJECT column contains the names of the objects.</li>

</ul>

<ul class="circlem2">

<li>If annotation <span class="qtext400">@Metadata.ignorePropagatedAnnotations:true</span> is used, the derivation is performed in the current view and the column SOURCEOBJECT only displays names.</li>

</ul>

<ul>

<li>The value of annotation <span class="qtext400">@EndUserText.label</span> of element <span class="qtext400">id</span> originates from the annotation specified directly in the first two views.</li>

</ul>

<ul>

<li>The value of annotation <span class="qtext400">@EndUserText.label</span> of element <span class="qtext400">flight</span>
originates in the first view from the annotation, which it inherits from the second view. In the second view, this inheritance is suppressed by the annotation <span class="qtext400">@Metadata.ignorePropagatedAnnotations:true</span>.</li>

</ul>

<p>The <span class="qtext400">ABAPCATALOG.INTERNAL.ISMANDT</span> annotation that is visible in the output is an internal annotation, which indicates the client field of a client-specific CDS entity.</p>
<p><a name="@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_4"></a>
</div></p>
<h2 id="subannotations">Subannotations</h2>
<p>In the <a href="../abencds_annotations_syntax" class="blue">annotation syntax</a>,
<a href="../abensub_annotation_glosry" class="grey" title="Glossary Entry">subannotations</a> are specified either as
<a href="../abencds_annotations_syntax_subanno" class="blue">comma-separated lists</a> in curly brackets or using
<a href="../abencds_annotations_syntax_name" class="blue">structured names</a>. The way this metadata
is saved internally is independent of the way it is specified and the methods of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span>
always return subannotations as an individual annotation with a structured name.</p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Subannotations specified as followed</p>
<dd>
<span class="qtext400">@DemoAnno: {subAnno1: true, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;subAnno2: { subAnno1: 1, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;subAnno2: { subAnno1: 1, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;subAnno2: 2 } } }</span>
</dd>

<p>are the same as those specified as follows</p>
<dd>
<span class="qtext400">@DemoAnno.subAnno1: true <br>@DemoAnno.subAnno2.subAnno1: 1 <br>@DemoAnno.subAnno2.subAnno2.subAnno1: 1 <br>@DemoAnno.subAnno2.subAnno2.subAnno2: 2</span>
</dd>

<p>Evaluating either of the above using the method GET_DIRECT_ANNOS_4_ENTITY of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span> produces the following</p>
<table>
<thead>
<tr>
<th>ANNONAME</th>
<th>VALUE</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">DEMOANNO.SUBANNO1</span></td>
<td><span class="qtext400">true</span></td>
</tr>
<tr>
<td><span class="qtext400">DEMOANNO.SUBANNO2.SUBANNO1</span></td>
<td><span class="qtext400">1</span></td>
</tr>
<tr>
<td><span class="qtext400">DEMOANNO.SUBANNO2.SUBANNO2.SUBANNO1</span></td>
<td><span class="qtext400">1</span></td>
</tr>
<tr>
<td><span class="qtext400">DEMOANNO.SUBANNO2.SUBANNO2.SUBANNO2</span></td>
<td><span class="qtext400">2</span></td>
</tr>
</tbody>
</table>
<p><a name="@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_5"></a>
</div></p>
<h2 id="annotation-arrays">Annotation Arrays</h2>
<p>In the <a href="../abencds_annotations_syntax" class="blue">annotation syntax</a>,
<a href="../abenannotation_array_glosry" class="grey" title="Glossary Entry">annotation arrays</a> are created using
<a href="../abencds_annotations_syntax_array" class="blue">comma-separated lists</a> in square brackets
after a specified annotation. When this metadata is saved internally, the elements of annotation arrays
are saved as individual annotations. Here, they are saved under the name of the array. A consecutive
index enclosed in <span class="qtext400">$</span> characters <span class="qtext400">$1$</span>, <span class="qtext400">
$2$</span>, ... is appended to this array. Accordingly, the methods of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span> return an array as individual annotations.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>For annotation arrays, the <a href="../abencds_annotations_syntax" class="blue">annotation syntax</a> in DDL source code for
<a href="../abenannotation_array_glosry" class="grey" title="Glossary Entry">CDS</a> entities is not
as strict as the syntax of <a href="../abencds_f1_define_annotation" class="blue"><span class="qtext400">DEFINE ANNOTATION</span></a> for
<a href="../abencds_anno_definition_glosry" class="grey" title="Glossary Entry">annotation definitions</a>.</p>
<ul>

<li>Array elements do not always have to have the same type in the annotation syntax.</li>

</ul>

<ul>

<li>Arrays can be nested directly in the annotation syntax.</li>

</ul>

<p>In the internal metadata (and hence in the results of the methods of the class CL_DD_DDL_ANNOTATION_SERVICE),
array elements with non-matching types are returned just as specified in the annotation syntax. Directly nested arrays are not saved but they are counted when the elements are indexed.</p>
<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The <a href="../abenannotation_array_glosry" class="grey" title="Glossary Entry">annotation array</a> specified as follows is valid
<a href="../abencds_annotations_syntax" class="blue">annotation syntax</a>, but it cannot have an <a href="../abencds_anno_definition_glosry" class="grey" title="Glossary Entry">annotation definition</a>.</p>
<dd>
<span class="qtext400">@DemoAnno: [ true, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; [1,2,3], <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; { subAnno1:1, subAnno2:2} ]</span>
</dd>

<p>The elements of the error do not have matching types and the second element is a directly nested array.
The method GET_DIRECT_ANNOS_4_ENTITY of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span> produces the following:</p>
<table>
<thead>
<tr>
<th>ANNONAME</th>
<th>VALUE</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="qtext400">DEMOANNO$1$</span></td>
<td><span class="qtext400">true</span></td>
</tr>
<tr>
<td><span class="qtext400">DEMOANNO$3$.SUBANNO1</span></td>
<td><span class="qtext400">1</span></td>
</tr>
<tr>
<td><span class="qtext400">DEMOANNO$3$.SUBANNO2</span></td>
<td><span class="qtext400">2</span></td>
</tr>
</tbody>
</table>
<p>It should be noted that the nested array is counted but not returned.</p>
<p><a name="@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_6"></a>
</div></p>
<h2 id="null-values">Null Values</h2>
<p>For each <a href="../abencds_f1_element_annotation" class="blue">element annotation</a> of a CDS entity that is not part of an
<a href="../abenannotation_array_glosry" class="grey" title="Glossary Entry">annotation array</a>,
the special value <a href="../abencds_annotations_syntax_value" class="blue"><span class="qtext400">null</span></a>
can be specified (without quotation marks). The value <span class="qtext400">null</span> leads to a
syntax error at other positions. The value <span class="qtext400">null</span> means that the annotation
is not returned by default by the methods of the class CL_DD_DDL_ANNOTATION_SERVICE. The default setting can be changed with the method input parameter NULL_VALUES.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>Null values are only intended to hide unwanted, derived and inherited annotations in the evaluation of the annotations of a CDS entity.</li>

<p></ul>
<ul></p>
<li>A null value is inherited like every value. A direct annotation of a CDS entity overwrites the annotations
taken from used dictionary objects. This means any values can be overwritten with the null value; a null value itself can also be overwritten.</li>

<p></ul>
<ul></p>
<li>In the <a href="../abenddlx_source_code_glosry" class="grey" title="Glossary Entry">DDLX source code</a> of
<a href="../abencds_metadata_extension_glosry" class="grey" title="Glossary Entry">CDS metadata extensions</a>, null values can be specified in exactly the same way as in the
<a href="../abenddl_source_code_glosry" class="grey" title="Glossary Entry">DDL source code</a> of a CDS entity.</li>

<p></ul>
<ul></p>
<li>The evaluation only filters the annotations out, if a null value has been specified for their identifiers.</li>

<p></ul>
<ul class="circlem2"></p>
<li>If specified, <span class="qtext400">@annotation.annotation1:null</span> only affects the identifier <span class="qtext400">@annotation.annotation1</span> but does not affect, for example, <span class="qtext400">@annotation.annotation1.annotation2</span>.</li>

<p></ul>
<ul class="circlem2"></p>
<li>If the null value is specified for an <a href="../abenannotation_array_glosry" class="grey" title="Glossary Entry">
annotation array</a>, this value affects the entire array. <span class="qtext400">@annot:null</span>
specified for an inherited annotation array <span class="qtext400">@annot:[ ..., ..., ...]</span> is applied to all elements of the array.</li>

<p></ul>
<ul></p>
<li>The evaluation filters annotations with null values - completely regardless of whether they are predefined <a href="../abensap_annotation_glosry" class="grey" title="Glossary Entry">SAP annotations</a> or not.</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following two <a href="../abenddl_source_code_glosry" class="grey" title="Glossary Entry">CDS source
codes</a> define two views; the second view accesses the first view. In the first view, <span class="qtext400">@EndUserText</span>
annotations with literal values are specified for every element of the <span class="qtext400">SELECT</span>
list. In the second view, some of these values are overwritten with the value <span class="qtext400">null</span>.
This occurs in the first view for the special annotation <span class="qtext400">@EndUserText.heading</span>.</p>
<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;DEMO_CDS_NULL1&apos; <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_anno_null_value_1 <br>&#xA0;&#xA0;as select from <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; spfli <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;join scarr on <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;scarr.carrid = spfli.carrid <br>
&#xA0;&#xA0;&#xA0;&#xA0;{&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.heading: null <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.label: &apos;ID&apos; <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.quickInfo: &apos;ID&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key spfli.carrid&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; as id, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.label: &apos;Carrier&apos; <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.quickInfo: &apos;Carrier&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key scarr.carrname&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; as carrier, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.label: &apos;Flight&apos; <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.quickInfo: &apos;Flight&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key spfli.connid&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; as flight <br>&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </span>
</dd>

<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;DEMO_CDS_NULL2&apos; <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_anno_null_value_2 <br>&#xA0;&#xA0;as select from <br>&#xA0;&#xA0;&#xA0;&#xA0;demo_cds_anno_null_value_1 <br>
&#xA0;&#xA0;&#xA0;&#xA0;{ <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText: null <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key id, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.heading: null <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.label: null <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key carrier, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.heading: null <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;@EndUserText.quickInfo: null <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;key flight <br>&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </span>
</dd>

<p>The program <span class="lnkgrey">DEMO_CDS_NULL_ANNOS</span> uses a method of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span>
to read the element annotations of the two CDS views. Annotations containing the value <span class="qtext400">null</span> in the second view are not reset.</p>
<ul>

<li>The annotation <span class="qtext400">@EndUserText: null</span> is ignored in front of the element
<span class="qtext400">id</span>. This annotation does not filter out all <span class="qtext400">@EndUserText</span>
annotations of this element. This annotation would overwrite an element annotation <span class="qtext400">@EndUserText: ...</span> of the first view, which is not specified there since it is not a valid
<a href="../abencore_annotation_glosry" class="grey" title="Glossary Entry">ABAP annotation</a>.</li>

</ul>

<ul>

<li>The annotations <span class="qtext400">@EndUserText.label: null</span> and <span class="qtext400">@EndUserText.quickInfo:
null</span> in front of the elements <code style="display: inline;"><span class="qtext">carrier</span></code> or <span class="qtext400">flight</span>
overwrite the values of the annotations, which were inherited from the first view. They are not returned by the evaluation.</li>

</ul>

<ul>

<li>The derived annotation <span class="qtext400">@EndUserText.Heading</span> is assigned the value
<span class="qtext400">null</span> for every element. This occurs for in the first view for the element
<span class="qtext400">id</span>. For this view, the evaluation returns the annotation for the other
two elements. In the second view, the value <span class="qtext400">null</span> is also set for this
view and the evaluation does not return the annotation <span class="qtext400">@EndUserText.Heading</span> for any of the elements of the CDS view.</li>

</ul>

<p><a name="@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_7"></a>
</div></p>
<h2 id="annotations-for-translatable-texts">Annotations for Translatable Texts</h2>
<p>The annotation values of annotations for which this is defined in their
<a href="../abencds_anno_definition_glosry" class="grey" title="Glossary Entry">annotation definition</a>
(using the annotation <a href="../abencds_f1_define_anno_annos" class="blue"><span class="qtext400">@LanguageDependency</span></a>) are used to define translatable semantic texts for a
<a href="../abencds_object_glosry" class="grey" title="Glossary Entry">CDS object</a>.</p>
<p>The value of an annotation like this is saved in special tables that have a language key and that are
translatable. The value specified in the source code should consist of text in the original language
of the CDS source code and is translated into the required languages. The methods of the class <span class="lnkgrey">
CL_DD_DDL_ANNOTATION_SERVICE</span> read these texts as specified by an input parameter for the language. If no language is passed to the input parameter, the
<a href="../abentext_env_langu_glosry" class="grey" title="Glossary Entry">text environment language</a> is used as the default. If no text is found for the language, the
<a href="../abensecondary_language_glosry" class="grey" title="Glossary Entry">secondary language</a> in AS ABAP is used.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>Even in <a href="../abencds_metadata_extension_glosry" class="grey" title="Glossary Entry">metadata
extensions</a>, the annotations for translatable texts are handled specially and are created in special tables, which are connected to the translation.</li>

<p></ul>
<ul></p>
<li>The program <span class="lnkgrey">ABAP_DOCU_TRANSLATABLE_ANNOS</span> shows all annotations for translatable texts.</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following <a href="../abenddl_source_code_glosry" class="grey" title="Glossary Entry">CDS source code</a>, which defines a
<a href="../abencds_view_glosry" class="grey" title="Glossary Entry">CDS view</a>, contains the specific ABAP annotations that are introduced using <span class="qtext400">EndUserText</span>.</p>
<dd>
<span class="qtext400">@EndUserText.label: &apos;Demo View mit Texten&apos; <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
@AbapCatalog.sqlViewName: &apos;DEMO_VIEW_TEXTS&apos; <br>define view demo_cds_text_annotations <br> with parameters <br>
 @EndUserText.label:&apos;Eingabeparameter&apos; <br> param : abap.int4 <br> as select from <br> demo_expressions <br> { <br> @EndUserText:{ label:&apos;Ein Element&apos;, quickInfo:&apos;Feld&apos; } <br> id <br> }&#xA0;&#xA0;&#xA0;&#xA0;</span>
</dd>

<p>The program <span class="lnkgrey">DEMO_CDS_DDL_TEXTS</span> uses methods of the class <span class="lnkgrey">CL_DD_DDL_ANNOTATION_SERVICE</span>
to access the associated texts (in a language-dependent way). The original language of the view is German
and the German texts must be available in every system. If an English translation exists, this is also read and displayed.</p>
<p><a name="@@ITOC@@ABENCDS_ANNOTATIONS_ANALYSIS_8"></a>
</div></p>
<h2 id="performing-the-evaluation">Performing the Evaluation</h2>
<p><a href="../abencore_annotation_glosry" class="grey" title="Glossary Entry">ABAP annotations</a> and
<a href="../abencomponent_annotation_glosry" class="grey" title="Glossary Entry">framework-specific annotations</a> are evaluated in different ways:</p>
<ul>

<li><span class="bold">ABAP annotations</span></li>

</ul>

<dd>
<a href="../abencore_annotation_glosry" class="grey" title="Glossary Entry">ABAP annotations</a> define technical and semantic attributes of a
<a href="../abencds_object_glosry" class="grey" title="Glossary Entry">CDS object</a>. They are usually evaluated for every CDS object when activated by the
<a href="../abenabap_runtime_envir_glosry" class="grey" title="Glossary Entry">ABAP runtime environment</a>. ABAP annotations can modify the behavior of ABAP SQL statements that access a
<a href="../abencds_entity_glosry" class="grey" title="Glossary Entry">CDS entity</a>. One important example is how the client-dependency of a CDS entity is defined using the associated ABAP annotation.
</dd>

<ul>

<li><span class="bold">Framework-specific annotations</span></li>

</ul>

<dd>
In most cases, the <a href="../abencomponent_annotation_glosry" class="grey" title="Glossary Entry">framework-specific
annotations</a> must be evaluated by the frameworks of the corresponding software components using a
suitable API and are not relevant for activations and the ABAP runtime environment. Here, the names
and values of these framework-specific annotations must follow the rules of the relevant framework. For SAP components, these can be taken from the tables of the
<a href="../abencds_annotations_frmwrk" class="blue">Framework-Specific Annotations</a> document.
</dd>

<p>Annotations that are not evaluated by the ABAP runtime environment or by frameworks of other software components are usually ignored.</p>
<h3 id="continue">Continue</h3>
<p><a href="../abencds_semantics_annotation_abexa" class="blue">ABAP CDS, Evaluation of Annotations</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>