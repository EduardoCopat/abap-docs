


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Internal Tables, Deleting Rows Using WHERE - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#internal-tables-deleting-rows-using-where" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Internal Tables, Deleting Rows Using WHERE
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#source-code" class="md-nav__link">
    Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abendelete_itab_using_key_abexa.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="internal-tables-deleting-rows-using-where">Internal Tables, Deleting Rows Using WHERE</h1>
<p>This example measures the runtime of the statement <code style="display: inline;"><span class="qtext">DELETE ... WHERE</span></code> with various table keys.</p>
<p><a name="@@ITOC@@ABENDELETE_ITAB_USING_KEY_ABEXA_1"></a>
<a href="../abendelete_itab_using_key_abexa">7.31</a> <a href="../abendelete_itab_using_key_abexa">7.40</a> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_data_working" class="blue">Processing Internal Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenitab" class="blue">Internal Tables</a>&#xA0;&#x2192;&#xA0;
<a href="../abentable_processing_statements" class="blue">Processing Statements for Internal Tables</a>&#xA0;&#x2192;&#xA0;
<a href="../abapdelete_itab" class="blue">DELETE itab</a>&#xA0;&#x2192;&#xA0;
<a href="../abapdelete_itab_lines" class="blue">DELETE itab - itab_lines</a>&#xA0;</small></p>
<h2 id="source-code">Source Code</h2>
<p><div class="highlight"><pre><span></span><code><span class="k">REPORT</span> <span class="nv">demo_delete_table_using_key</span><span class="p">.</span>

<span class="k">CLASS</span> <span class="nv">measure</span> <span class="k">DEFINITION</span><span class="p">.</span>
  <span class="k">PUBLIC SECTION</span><span class="p">.</span>
    <span class="k">CLASS-METHODS</span> <span class="nv">main</span><span class="p">.</span>
  <span class="k">PRIVATE SECTION</span><span class="p">.</span>
    <span class="k">CLASS-DATA</span><span class="p">:</span> <span class="k">BEGIN OF</span> <span class="nv">tline</span><span class="p">,</span>
                  <span class="nv">col1</span> <span class="k">TYPE </span><span class="nv">i</span><span class="p">,</span>
                  <span class="nv">col2</span> <span class="k">TYPE </span><span class="nv">i</span><span class="p">,</span>
                <span class="k">END OF</span> <span class="nv">tline</span><span class="p">,</span>
                <span class="nv">itab</span> <span class="k">LIKE HASHED TABLE</span>
<span class="k">           OF</span> <span class="nv">tline</span>
           <span class="k">WITH UNIQUE KEY</span> <span class="nv">primary_key</span>
             <span class="k">COMPONENTS</span> <span class="nv">col1</span>
           <span class="k">WITH</span> <span class="nv">NON</span><span class="o">-</span><span class="nv">UNIQUE</span> <span class="nv">SORTED</span> <span class="k">KEY</span> <span class="nv">secondary_key</span>
             <span class="k">COMPONENTS</span> <span class="nv">col2</span><span class="p">,</span>
                <span class="nv">jtab</span> <span class="k">LIKE SORTED TABLE</span>
<span class="k">           OF</span> <span class="nv">tline</span>
           <span class="k">WITH NON-UNIQUE KEY</span> <span class="nv">primary_key</span>
             <span class="k">COMPONENTS</span> <span class="nv">col2</span><span class="p">.</span>
    <span class="k">CLASS-METHODS</span> <span class="nv">refresh_itab</span><span class="p">.</span>
<span class="k">ENDCLASS</span><span class="p">.</span>

<span class="k">CLASS</span> <span class="nv">measure</span> <span class="k">IMPLEMENTATION</span><span class="p">.</span>
  <span class="k">METHOD</span> <span class="nf">main</span><span class="p">.</span>
    <span class="k">DATA</span><span class="p">(</span><span class="nv">out</span><span class="p">)</span> <span class="o">=</span> <span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">new</span><span class="p">(</span> <span class="p">).</span>
    <span class="k">DATA</span><span class="p">:</span> <span class="nv">t1</span> <span class="k">TYPE </span><span class="nv">i</span><span class="p">,</span>
          <span class="nv">t2</span> <span class="k">TYPE </span><span class="nv">i</span><span class="p">,</span>
          <span class="nv">t</span>  <span class="k">TYPE </span><span class="nv">i</span><span class="p">.</span>
    <span class="nv">refresh_itab</span><span class="p">(</span> <span class="p">).</span>
    <span class="k">CLEAR</span> <span class="nv">t</span><span class="p">.</span>
    <span class="k">GET RUN TIME</span> <span class="k">FIELD</span> <span class="nv">t1</span><span class="p">.</span>
    <span class="k">DELETE</span> <span class="nv">itab</span> <span class="k">WHERE</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">10</span> <span class="cs">##primkey</span><span class="p">[</span><span class="nv">secondary_key</span><span class="p">].</span>
    <span class="k">GET RUN TIME</span> <span class="k">FIELD</span> <span class="nv">t2</span><span class="p">.</span>
    <span class="nv">t</span> <span class="o">+=</span> <span class="nv">t2</span> <span class="o">-</span> <span class="nv">t1</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write_text</span><span class="p">(</span>
      <span class="p">|</span><span class="s1">Delete without using secondary sorted key: </span><span class="p">{</span> <span class="nv">t</span> <span class="p">}|</span> <span class="p">).</span>
    <span class="nv">refresh_itab</span><span class="p">(</span> <span class="p">).</span>
    <span class="k">CLEAR</span> <span class="nv">t</span><span class="p">.</span>
    <span class="k">GET RUN TIME</span> <span class="k">FIELD</span> <span class="nv">t1</span><span class="p">.</span>
    <span class="k">DELETE</span> <span class="nv">itab</span> <span class="k">USING</span> <span class="k">KEY</span> <span class="nv">secondary_key</span>
                      <span class="k">WHERE</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">10</span><span class="p">.</span>
    <span class="k">GET RUN TIME</span> <span class="k">FIELD</span> <span class="nv">t2</span><span class="p">.</span>
    <span class="nv">t</span> <span class="o">+=</span> <span class="nv">t2</span> <span class="o">-</span> <span class="nv">t1</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write_text</span><span class="p">(</span>
      <span class="p">|</span><span class="s1">Delete without using secondary sorted key: </span><span class="p">{</span> <span class="nv">t</span> <span class="p">}|</span> <span class="p">).</span>
    <span class="nv">refresh_itab</span><span class="p">(</span> <span class="p">).</span>
    <span class="nv">jtab</span> <span class="o">=</span> <span class="nv">itab</span><span class="p">.</span>
    <span class="k">CLEAR</span> <span class="nv">t</span><span class="p">.</span>
    <span class="k">GET RUN TIME</span> <span class="k">FIELD</span> <span class="nv">t1</span><span class="p">.</span>
    <span class="nv">cl_abap_itab_utilities</span><span class="o">=&gt;</span><span class="nf">flush_itab_key</span><span class="p">(</span>
      <span class="k">EXPORTING</span> <span class="nv">keyname</span> <span class="o">=</span> <span class="s1">&#39;SECONDARY_KEY&#39;</span>
      <span class="k">CHANGING</span>  <span class="nv">itab</span>    <span class="o">=</span> <span class="nv">itab</span> <span class="p">).</span>
    <span class="k">GET RUN TIME</span> <span class="k">FIELD</span> <span class="nv">t2</span><span class="p">.</span>
    <span class="nv">t</span> <span class="o">+=</span> <span class="nv">t2</span> <span class="o">-</span> <span class="nv">t1</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write_text</span><span class="p">(</span> <span class="p">|</span><span class="s1">Create secondary index: </span><span class="p">{</span> <span class="nv">t</span> <span class="p">}|</span> <span class="p">).</span>
    <span class="k">CLEAR</span> <span class="nv">t</span><span class="p">.</span>
    <span class="k">GET RUN TIME</span> <span class="k">FIELD</span> <span class="nv">t1</span><span class="p">.</span>
    <span class="k">DELETE</span> <span class="nv">itab</span> <span class="k">USING</span> <span class="k">KEY</span> <span class="nv">secondary_key</span>
                      <span class="k">WHERE</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">10</span><span class="p">.</span>
    <span class="k">GET RUN TIME</span> <span class="k">FIELD</span> <span class="nv">t2</span><span class="p">.</span>
    <span class="nv">t</span> <span class="o">+=</span> <span class="nv">t2</span> <span class="o">-</span> <span class="nv">t1</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write_text</span><span class="p">(</span>
      <span class="p">|</span><span class="s1">Delete via secondary sorted key with existing index: </span><span class="p">{</span> <span class="nv">t</span> <span class="p">}|</span> <span class="p">).</span>
    <span class="k">CLEAR</span> <span class="nv">t</span><span class="p">.</span>
    <span class="k">GET RUN TIME</span> <span class="k">FIELD</span> <span class="nv">t1</span><span class="p">.</span>
    <span class="k">DELETE</span> <span class="nv">jtab</span> <span class="k">WHERE</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">10</span><span class="p">.</span>
    <span class="k">GET RUN TIME</span> <span class="k">FIELD</span> <span class="nv">t2</span><span class="p">.</span>
    <span class="nv">t</span> <span class="o">+=</span> <span class="nv">t2</span> <span class="o">-</span> <span class="nv">t1</span><span class="p">.</span>
    <span class="nv">out</span><span class="o">-&gt;</span><span class="nf">write_text</span><span class="p">(</span>
      <span class="p">|</span><span class="s1">Delete via primary sorted key: </span><span class="p">{</span> <span class="nv">t</span> <span class="p">}|</span>
      <span class="p">)</span><span class="o">-&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="p">).</span>
  <span class="k">ENDMETHOD</span><span class="p">.</span>
  <span class="k">METHOD</span> <span class="nf">refresh_itab</span><span class="p">.</span>
    <span class="k">DATA</span> <span class="nv">prng</span> <span class="k">TYPE REF TO</span> <span class="nv">cl_abap_random_int</span><span class="p">.</span>
    <span class="nv">prng</span> <span class="o">=</span> <span class="nv">cl_abap_random_int</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="nv">seed</span> <span class="o">=</span> <span class="o">+</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">uzeit</span>
                                      <span class="nv">min</span>  <span class="o">=</span> <span class="mi">1</span>
                                      <span class="nv">max</span>  <span class="o">=</span> <span class="mi">10</span> <span class="p">).</span>
    <span class="nv">itab</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span>
      <span class="k">FOR</span> <span class="nv">j</span> <span class="o">=</span> <span class="mi">1</span> <span class="nv">UNTIL</span> <span class="nv">j</span> <span class="o">&gt;</span> <span class="mi">100000</span> <span class="p">(</span> <span class="nv">col1</span> <span class="o">=</span> <span class="nv">j</span>
                                  <span class="nv">col2</span> <span class="o">=</span> <span class="nv">prng</span><span class="o">-&gt;</span><span class="nf">get_next</span><span class="p">(</span> <span class="p">)</span> <span class="p">)</span> <span class="p">).</span>
  <span class="k">ENDMETHOD</span><span class="p">.</span>
<span class="k">ENDCLASS</span><span class="p">.</span>

<span class="k">START-OF-SELECTION</span><span class="p">.</span>
  <span class="nv">measure</span><span class="o">=&gt;</span><span class="nf">main</span><span class="p">(</span> <span class="p">).</span>
</code></pre></div>
<a name="@@ITOC@@ABENDELETE_ITAB_USING_KEY_ABEXA_2"></a></p>
<h2 id="description">Description</h2>
<p>The table <code style="display: inline;"><span class="qtext">itab</span></code> is a hashed table with a unique primary key and a non-unique
secondary sorted key. The method <code style="display: inline;"><span class="qtext">refresh_itab</span></code> fills the table with 100000 rows, with the second column being given random numbers between 1 and 10.</p>
<p>The program measures the runtime of the statement <code style="display: inline;"><span class="qtext">DELETE itab</span></code>, with a condition being set after <code style="display: inline;"><span class="qtext">WHERE</span></code> on the column that determines the secondary key.</p>
<ul>

<li>For demonstration purposes, the <a href="../abenpragma_glosry" class="grey" title="Glossary Entry">pragma</a>
<code style="display: inline;"><span class="qtext">##PRIMKEY</span></code> is used to suppress the syntax check warning in the first <span class="qtext">
DELETE</span> statement stating that the primary key is being used to access the internal table without its component being specified. This access must perform a linear scan of the entire internal table.</li>

</ul>

<ul>

<li>The secondary key is specified in the second <code style="display: inline;"><span class="qtext">DELETE</span></code> statement. Since this key is not used to access the internal table after the table is filled, the secondary table key must first be constructed
(<a href="../abenlazy_update_glosry" class="grey" title="Glossary Entry">lazy update</a>). This time
is included in the <code style="display: inline;"><span class="qtext">DELETE</span></code> statement measurement and seems to make it considerably slower than the previous non-optimized statement.</li>

</ul>

<ul>

<li>Once the internal table is filled again, the secondary key is constructed explicitly using the method
FLUSH_ITAB_KEY of the class <span class="lnkgrey">CL_ABAP_ITAB_UTILITIES</span>. The time measured here is largely the runtime needed to create the index.</li>

</ul>

<ul>

<li>The third <code style="display: inline;"><span class="qtext">DELETE</span></code> statement specifies the secondary key again, but it
already exists due to the preceding method call. As expected, the runtime of this <code style="display: inline;"><span class="qtext">DELETE</span></code>
statement is faster than the previous two statements. The total of this runtime and the runtime required to construct the index gives the runtime of the second <code style="display: inline;"><span class="qtext">DELETE</span></code> statement.</li>

</ul>

<ul>

<li>The fourth <code style="display: inline;"><span class="qtext">DELETE</span></code> statement performs the same delete operation on a sorted
internal table <code style="display: inline;"><span class="qtext">jtab</span></code>, which has the same row type and content as the previous
table <code style="display: inline;"><span class="qtext">itab</span></code> but no secondary key as its only key. The runtime is approximately
the same as an access to <code style="display: inline;"><span class="qtext">itab</span></code> using the secondary sorted key, but is a little
shorter since only one key needs to be administered for the internal table. If a secondary key were
declared for <code style="display: inline;"><span class="qtext">jtab</span></code>, such as a hash key for the first column, the runtime of the last two <code style="display: inline;"><span class="qtext">DELETE</span></code> statements would be about the same.</li>

</ul>

<p>The example demonstrates that performance is improved significantly by using secondary table keys, which
make it unnecessary to copy data to tables with appropriate keys. It also demonstrates, however, that
the construction of a secondary index is costly. The use of lazy update also means that these costs
are often incurred in unexpected places. Secondary keys are more suitable for frequent reads on large tables, rather than infrequent writes.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abendelete_dup_lines_abexa/" title="Internal Tables, Deleting Duplicate Rows" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Internal Tables, Deleting Duplicate Rows
              </div>
            </div>
          </a>
        
        
          <a href="../abendelete_line_idx_abexa/" title="Internal Tables, Deleting Rows Using the Index" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Internal Tables, Deleting Rows Using the Index
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>