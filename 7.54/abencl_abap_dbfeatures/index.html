


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>System Class for Database Features - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#system-class-for-database-features" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              System Class for Database Features
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abencl_abap_dbfeatures.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="system-class-for-database-features">System Class for Database Features</h1>
<p>The method USE_FEATURES of the class <span class="lnkgrey">CL_ABAP_DBFEATURES</span> can be used to detect whether the current database or a database specified using a
<a href="../abendatabase_connection_glosry" class="grey" title="Glossary Entry">database connection</a>
supports particular features and whether these can be used at runtime in ABAP. One or more features
can be queried and then passed to the method in an internal table. The potential row content of the
internal table is determined using constants of the class CL_ABAP_DBFEATURES. Other values raise an exception from the class CX_ABAP_INVALID_PARAM_VALUE.</p>
<table>
<thead>
<tr>
<th>Constant</th>
<th>Database Feature</th>
<th>Use in ABAP</th>
</tr>
</thead>
<tbody>
<tr>
<td>AMDP_TABLE_FUNCTION</td>
<td><a href="../abentable_function_glosry" class="grey" title="Glossary Entry">Table Functions</a></td>
<td>Access to <a href="../abencds_table_function_glosry" class="grey" title="Glossary Entry">CDS table functions</a> in ABAP SQL.</td>
</tr>
<tr>
<td>EXTERNAL_VIEWS</td>
<td><a href="../abenhana_view_glosry" class="grey" title="Glossary Entry">SAP HANA views</a></td>
<td>Access to <a href="../abenexternal_view_glosry" class="grey" title="Glossary Entry">external views</a> in ABAP SQL.</td>
</tr>
<tr>
<td>CALL_AMDP_METHOD</td>
<td>Supports <a href="../abenamdp_glosry" class="grey" title="Glossary Entry">AMDP</a></td>
<td><a href="../abapcall_method_static_short" class="blue">Method call</a> of <a href="../abenamdp_procedure_method_glosry" class="grey" title="Glossary Entry">AMDP procedure implementations</a>.</td>
</tr>
<tr>
<td>CALL_DATABASE_PROCEDURE</td>
<td><a href="../abendatabase_procedure_glosry" class="grey" title="Glossary Entry">Database Procedures</a></td>
<td>Call of database procedures using <a href="../abapcall_database_procedure" class="blue"><code style="display: inline;"><span class="qtext">CALL DATABASE PROCEDURE</span></code></a>.</td>
</tr>
<tr>
<td>CTE_IN_CORRELATED_SUBQUERIES</td>
<td><a href="../abencommon_table_expression_glosry" class="grey" title="Glossary Entry">Common table expressions (CTE)</a></td>
<td>Access to common table expression in correlated <a href="../abenwhere_logexp_subquery" class="blue">subqueries</a>.</td>
</tr>
<tr>
<td>HIERARCHIES</td>
<td>Hierarchy Data</td>
<td>Use of <a href="../abenselect_hierarchy_data" class="blue">hierarchy data</a> as a <a href="../abapselect_data_source" class="blue">data source of queries</a> in ABAP SQL</td>
</tr>
<tr>
<td>ITABS_IN_FROM_CLAUSE</td>
<td>Local temporary tables</td>
<td>Use of <a href="../abapselect_itab" class="blue">internal tables</a> as a<a href="../abapselect_data_source" class="blue">data source of queries</a> in ABAP SQL, if these are evaluated by the database.</td>
</tr>
<tr>
<td>GROUPING_SETS</td>
<td>Grouping sets</td>
<td>Use of <a href="../abapgrouping_sets_clause" class="blue">grouping sets</a> in the <a href="../abapgroupby_clause" class="blue"><code style="display: inline;"><span class="qtext">GROUP BY</span></code></a> clause in ABAP SQL</td>
</tr>
<tr>
<td>MODIFY_FROM_SELECT</td>
<td>Subquery in <span class="qtext400">UPSERT</span></td>
<td>Use of a <a href="../abapinsert_from_select" class="blue">subquery</a> as a<a href="../abapmodify_source" class="blue">data source</a> of the statement <a href="../abapmodify_dbtab" class="blue"><code style="display: inline;"><span class="qtext">MODIFY</span></code></a></td>
</tr>
<tr>
<td>LIMIT_IN_SUBSELECT_OR_CTE</td>
<td>Sorts or delimiters in subqueries</td>
<td>Use of the <a href="../abaporderby_clause" class="blue"><code style="display: inline;"><span class="qtext">ORDER BY</span></code></a>clause or the additions <a href="../abapselect_up_to_offset" class="blue"><code style="display: inline;"><span class="qtext">UP TO</span></code>, <code style="display: inline;"><span class="qtext">OFFSET</span></code></a> in<a href="../abensubquery_glosry" class="grey" title="Glossary Entry">subqueries</a>.</td>
</tr>
<tr>
<td>TABLE_KEYCNT_MAX1</td>
<td>Up to 120 key fields</td>
<td>A table can contain more key fields than is permitted as a <a href="../abenddic_database_tables_key" class="blue">cross-platform table</a>.</td>
</tr>
<tr>
<td>TABLE_KEYLEN_MAX1</td>
<td>Keys can have up to 2000 bytes</td>
<td>The key of a table can contain more bytes than is permitted as a <a href="../abenddic_database_tables_key" class="blue">cross-platform table</a>.</td>
</tr>
<tr>
<td>TABLE_LEN_MAX1</td>
<td>A table row can have up to 16293 bytes</td>
<td>A table row can contain more bytes than is permitted as a <a href="../abenddic_database_tables_techstruc" class="blue">cross-platform table</a>.</td>
</tr>
<tr>
<td>WINDOWING</td>
<td><a href="../abenwindow_expression_glosry" class="grey" title="Glossary Entry">Window expressions</a></td>
<td>Use of <a href="../abapselect_over" class="blue">window expressions</a> in a <a href="../abapselect_list" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code> list</a> in ABAP SQL.</td>
</tr>
</tbody>
</table>
<p>The method USE_FEATURES returns the value of <code style="display: inline;"><span class="qtext">abap_true</span></code> if the feature is supported by the database and the specified use in ABAP is possible.</p>
<ul>

<li>Most of these features can be used statically in ABAP programs regardless of the current database
system. This means there is no syntax error when one of these database features is used in an ABAP program.
For example, it is possible to access external views in every ABAP program or AMDP methods can be called. An exception is raised only if the current database does not support the feature in question at runtime. A syntax warning from the
<a href="../abenextended_program_check_glosry" class="grey" title="Glossary Entry">extended program
check</a> (which can be hidden by a pragma) indicates the potential exception. The class CL_ABAP_DBFEATURES
can be used to check whether a special form of access is possible at runtime, instead of catching the corresponding exception. Replacement implementations can be used if an access type is not possible.</li>

</ul>

<ul>

<li>The features TABLE_KEYCNT_MAX1, TABLE_KEYLEN_MAX1, and TABLE_LEN_MAX1 can currently only be used
by SAP developers as internal flags for database tables, which indicate the tables potentially exceed globally defined and cross-platform sizes. When a table like this is accessed using ABAP SQL, a syntax check warning from the
<a href="../abenextended_program_check_glosry" class="grey" title="Glossary Entry">extended program check</a> is raised. This warning can be hidden by a pragma. The warning for TABLE_LEN_MAX1 is also raised for
<a href="../abenview_glosry" class="grey" title="Glossary Entry">views</a> that use a table of this
type. In standard SAP systems, these tables are usually delivered within the general limits, but customers
and partners can enhance them and exceed these sizes. Tables enhanced like this can only be accessed
on database systems that support these expanded limits. Other database systems use a replacement implementation that can be accessed using the class CL_ABAP_DBFEATURES.</li>

</ul>

<p><s><i>7.31</i></s> <s><i>7.40</i></s> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;</small>
<br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>If a syntax warning from the <a href="../abenextended_program_check_glosry" class="grey" title="Glossary Entry">
extended program check</a> due to expanded database features is raised when a database object is accessed,
it can be hidden by a pragma as long as the object was accessed on database systems that support the
features or if there is a replacement implementation. If there is no guarantee that the object is accessed only on database systems that support the features in question, it is best to wrap the access behind an API.</li>

<p></ul>
<ul></p>
<li>Tables flagged as potentially exceeding cross-platform sizes should never be accessed globally.
They should always be accessed within an API wrapper and the associated replacement implementation should be wrapped too.</li>

<p></ul>
<ul></p>
<li>As soon as all database systems support a database feature and it can be used in ABAP, the checks
are no longer necessary. The associated constant is then disallowed and removed from the class CL_ABAP_DBFEATURES.</li>

<p></ul>
<ul></p>
<li>The class <span class="lnkgrey">CL_ABAP_DBFEATURES_AUNITHELPER</span> can be used to reduce the set of database features in CL_ABAP_DBFEATURES during a
<a href="../abenunit_test_glosry" class="grey" title="Glossary Entry">unit test</a>. In programs that
use CL_ABAP_DBFEATURES, this makes it possible to test replacement implementations for databases that support fewer features than the current database.</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>For the current database, checks whether specific additional features can be accessed using ABAP SQL.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">IF</span> <span class="nv">cl_abap_dbfeatures</span><span class="o">=&gt;</span><span class="nf">use_features</span><span class="p">(</span> 
      <span class="k">EXPORTING</span> 
        <span class="nv">requested_features</span> <span class="o">=</span> 
          <span class="k">VALUE</span> <span class="err">#</span><span class="p">(</span> <span class="p">(</span> <span class="nv">cl_abap_dbfeatures</span><span class="o">=&gt;</span><span class="nv">amdp_table_function</span> <span class="p">)</span> 
                   <span class="p">(</span> <span class="nv">cl_abap_dbfeatures</span><span class="o">=&gt;</span><span class="nv">external_views</span> <span class="p">)</span> <span class="p">)</span> <span class="p">).</span> 
  <span class="p">...</span> 
<span class="k">ELSE</span><span class="p">.</span> 
  <span class="p">...</span> 
<span class="k">ENDIF</span><span class="p">.</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The program <span class="lnkgrey">DEMO_DBFEATURES</span> checks all possible database features for the current database.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abencl_abap_corresponding_3/" title="CL_ABAP_CORRESPONDING - Assignment of Values" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                CL_ABAP_CORRESPONDING - Assignment of Values
              </div>
            </div>
          </a>
        
        
          <a href="../abencl_abap_decfloat_doc/" title="System Class CL_ABAP_DECFLOAT" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                System Class CL_ABAP_DECFLOAT
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>