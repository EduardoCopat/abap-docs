


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenselect hierarchy ancs agg - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#select-from-hierarchy_ancestors_aggregate" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenselect hierarchy ancs agg
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extras" class="md-nav__link">
    Extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-example" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-1" class="md-nav__link">
    Addition 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-2" class="md-nav__link">
    Addition 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abenselect_hierarchy_ancs_agg.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopensql" class="blue">ABAP SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopen_sql_reading" class="blue">ABAP SQL - Reads</a>&#xA0;&#x2192;&#xA0;
<a href="../abenselect_clauses" class="blue">SELECT clauses</a>&#xA0;&#x2192;&#xA0;
<a href="../abapfrom_clause" class="blue">SELECT - FROM</a>&#xA0;&#x2192;&#xA0;
<a href="../abapselect_data_source" class="blue">SELECT - FROM data_source</a>&#xA0;&#x2192;&#xA0;
<a href="../abenselect_hierarchy_data" class="blue">SELECT - FROM hierarchy_data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenselect_hierarchy_navigators" class="blue">SELECT - FROM hierarchy_navigator</a>&#xA0;&#x2192;&#xA0;
<a href="../abenselect_hierarchy_agg_navis" class="blue">SELECT - FROM hierarchy_aggregate_navigator</a>&#xA0;</small></p>
<h1 id="select-from-hierarchy_ancestors_aggregate">SELECT - FROM HIERARCHY_ANCESTORS_AGGREGATE</h1>
<p><a name="@@ITOC@@ABENSELECT_HIERARCHY_ANCS_AGG_1"></a>
Other versions: 
 <s><i>7.31</i></s> | <s><i>7.40</i></s> | <b>7.54</b></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">... HIERARCHY_ANCESTORS_AGGREGATE( <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;SOURCE
<a href="../abenselect_hierarchy" class="blue">hierarchy</a> <i class="bn">[</i>AS tabalias<i class="bn">]</i> <br>
&#xA0;&#xA0;&#xA0;&#xA0; <i class="bn">[</i>START WHERE <a href="../abenosql_expr_logexp" class="blue">sql_cond</a><i class="bn">]</i> <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;MEASURES agg_func1 AS alias1<i class="bn">[</i>, <br>&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; agg_func2 AS alias2<i class="bn">[</i>, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ...<i class="bn">]</i><i class="bn">]</i> <br>
&#xA0;&#xA0;&#xA0;&#xA0; <i class="bn">[</i>WHERE <a href="../abenosql_expr_logexp" class="blue">sql_cond</a><i class="bn">]</i> ...</span> 
</code></pre></p>
<h3 id="extras">Extras</h3>
<p><a href="#!ABAP_ADDITION_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... START WHERE sql_cond</span></code> </a> <br>
<br><a href="#!ABAP_ADDITION_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... WHERE sql_cond</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>Specifies the <a href="../abenhierarchy_agg_navi_glosry" class="grey" title="Glossary Entry">hierarchy
aggregate navigator</a> <code style="display: inline;"><span class="qtext">HIERARCHY_ANCESTORS_AGGREGATE</span></code> as a data source <a href="../abapselect_data_source" class="blue"><code style="display: inline;"><span class="qtext">data_source</span></code></a> in a ABAP SQL
<a href="../abenquery_glosry" class="grey" title="Glossary Entry">query</a>. It accesses the
<a href="../abenhierarchy_glosry" class="grey" title="Glossary Entry">hierarchy</a> <a href="../abenselect_hierarchy" class="blue">
<code style="display: inline;"><span class="qtext">hierarchy</span></code></a> specified after <code style="display: inline;"><span class="qtext">SOURCE</span></code> and evaluates
it. After the hierarchy, <code style="display: inline;"><span class="qtext">AS</span></code> can be used to specify an alias name for it. This name is valid within parentheses and must be used in positions in which the hierarchy is addressed.</p>
<p>The hierarchy navigator <code style="display: inline;"><span class="qtext">HIERARCHY_ANCESTORS_AGGREGATE</span></code> aggregates the values of all
<a href="../abenancestor_node_glosry" class="grey" title="Glossary Entry">ancestor nodes</a> located between
<a href="../abenhierarchy_node_glosry" class="grey" title="Glossary Entry">hierarchy nodes</a> determined using <code style="display: inline;"><span class="qtext">WHERE</span></code> and
<a href="../abenstarting_node_glosry" class="grey" title="Glossary Entry">starting nodes</a> determined
using <code style="display: inline;"><span class="qtext">START WHERE</span></code>, including the values of the hierarchy nodes and starting nodes themselves. A tabular results set is created consisting of all hierarchy nodes that</p>
<ul>

<li>
meet the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition and
</li>
<li>
have an ancestor node (including the hierarchy node itself) that meets the <code style="display: inline;"><span class="qtext">START WHERE</span></code> condition as a starting node.
</li>
<li>
Here, a separate row is created for each possible path to every starting node that occurs under the
ancestor nodes. If no <code style="display: inline;"><span class="qtext">WHERE</span></code> condition is specified, this is done for all the hierarchy nodes. If no <code style="display: inline;"><span class="qtext">START WHERE</span></code> condition is specified, the starting node is, implicitly, the
<a href="../abenancestor_node_glosry" class="grey" title="Glossary Entry">ancestor node</a> with the lowest <a href="../abenhierarchy_level_glosry" class="grey" title="Glossary Entry">hierarchy level</a>.
<br></li>

</ul>

<p>For each node of the result, the aggregate functions specified after <code style="display: inline;"><span class="qtext">MEASURES</span></code>
are applied to the hierarchy nodes of that path that consists of the node and its ancestor nodes (including
the starting node). The aggregation is based on the starting node, which is significant for the aggregate
function <code style="display: inline;"><span class="qtext">STRING_AGG</span></code>. The result of each aggregate function is saved in the current node as the content of a separate column.</p>
<p>A comma-separated list of <a href="../abenaggregate_function_glosry" class="grey" title="Glossary Entry">aggregate
functions</a> <code style="display: inline;"><span class="qtext">agg_func1</span></code>, <code style="display: inline;"><span class="qtext">agg_func2</span></code>, ... must be
specified after <code style="display: inline;"><span class="qtext">MEASURES</span></code>. At least one aggregate function must be specified.
Each aggregate function must be assigned an alias name <code style="display: inline;"><span class="qtext">alias1</span></code>, <code style="display: inline;"><span class="qtext">alias2</span></code>,
... The arguments of the aggregate functions can be individual columns <a href="../abenopen_sql_columns" class="blue"><code style="display: inline;"><span class="qtext">col</span></code></a> of the hierarchy <code style="display: inline;"><span class="qtext">hierarchy</span></code>, including their
<a href="../abenddddl_hierarchy" class="blue">hierarchy columns</a>. The
<a href="../abentable_comp_selector_glosry" class="grey" title="Glossary Entry">column selector</a>
<code style="display: inline;"><span class="qtext">~</span></code> can be used to prefix the columns with the name of the hierarchy. The following aggregate functions can be used:</p>
<p><a href="../abensql_agg_func" class="blue"><code style="display: inline;"><span class="qtext">MIN( col )</span></code></a>, <br><a href="../abensql_agg_func" class="blue"><code style="display: inline;"><span class="qtext">MAX( col )</span></code></a>, <br>
<a href="../abensql_agg_func" class="blue"><code style="display: inline;"><span class="qtext">SUM( col )</span></code></a>, <br><a href="../abensql_agg_func" class="blue"><code style="display: inline;"><span class="qtext">PRODUCT( col )</span></code></a>, <br>
<a href="../abensql_agg_func" class="blue"><code style="display: inline;"><span class="qtext">COUNT( <i class="bn">[</i>DISTINCT<i class="bn">]</i> col )</span></code></a>, <br>
<a href="../abensql_agg_func" class="blue"><code style="display: inline;"><span class="qtext">COUNT( * )</span></code></a>, <a href="../abensql_agg_func" class="blue"><code style="display: inline;"><span class="qtext">COUNT(*)</span></code></a>, <br>
<a href="../abensql_agg_func" class="blue"><code style="display: inline;"><span class="qtext">STRING_AGG( col<i class="bn">[</i>, sep<i class="bn">]</i> )</span></code></a></p>
<p>The addition <code style="display: inline;"><span class="qtext">DISTINCT</span></code> is only possible for <code style="display: inline;"><span class="qtext">COUNT</span></code>.
The aggregate function <code style="display: inline;"><span class="qtext">PRODUCT</span></code> can be used in this hierarchy navigator only.
The addition <code style="display: inline;"><span class="qtext">ORDER BY</span></code> is not possible in the function <code style="display: inline;"><span class="qtext">STRING_AGG</span></code>.</p>
<p>The aggregate functions work as specified in the <a href="../abensql_agg_func" class="blue">general
description</a>, except that only columns <code style="display: inline;"><span class="qtext">col</span></code> are allowed as arguments and
that the result of the function <code style="display: inline;"><span class="qtext">COUNT</span></code> is INT8 instead of INT4. For each aggregate
function, a column with the alias name defined by <code style="display: inline;"><span class="qtext">AS</span></code> is added to the tabular result of the hierarchy navigator. This column contains the result of the aggregate function in every row. These columns are not
<a href="../abenddddl_hierarchy" class="blue">hierarchy columns</a>. If <code style="display: inline;"><span class="qtext"><em></span></code>
or <code style="display: inline;"><span class="qtext">...~</em></span></code> is specified in the <a href="../abapselect_list" class="blue"><span class="qtext">
SELECT</span> list</a>, they are read like a column of the hierarchy specified as a source and are part
of a structure or internal table created using an inline declaration <code style="display: inline;"><span class="qtext">@DATA(...)</span></code> in the <a href="../abapinto_clause" class="blue"><code style="display: inline;"><span class="qtext">INTO</span></code> clause</a>.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>If the <code style="display: inline;"><span class="qtext">START WHERE</span></code> condition selects multiple starting nodes, a separate
row is inserted in the results set for each starting node for which a path exists to one of the hierarchy
nodes selected by the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition. Child nodes with multiple parent nodes can also point to different paths to a starting node and hence to multiple rows for a hierarchy node.</li>

<p></ul>
<ul></p>
<li>Additional hierarchy columns such as START_RANK and START_ID are not yet available in the
<a href="../abenhierarchy_node_navi_glosry" class="grey" title="Glossary Entry">hierarchy node navigators</a>,
which means that the different paths in the results set cannot be distinguished from the content of
hierarchy columns. It is currently advisable, therefore, to use the <code style="display: inline;"><span class="qtext">START WHERE</span></code> condition to select precisely one starting node only.</li>

<p></ul>
<ul></p>
<li>The fact that the starting node determined by <code style="display: inline;"><span class="qtext">START WHERE</span></code> is respected
in the aggregation can be unwanted behavior and should be covered by the condition. This can be done,
for example, by setting a condition for the hierarchy column that determines the parent node and is not set on the key of the node.</li>

<p></ul>
<ul></p>
<li>If the hierarchy navigator <code style="display: inline;"><span class="qtext">HIERARCHY_ANCESTORS_AGGREGATE</span></code> is used, the syntax check is made in <a href="../abenopensql_strict_mode_754" class="blue">strict mode from Release 7.54</a>.</li>

<p></ul>
</div></p>
<h3 id="executable-example">Executable Example</h3>
<p>See <a href="../abenhier_ancs_agg_abexa" class="blue">Hierarchy Navigator <code style="display: inline;"><span class="qtext">HIERARCHY_ANCESTORS_AGGREGATE</span></code></a>  </p>
<h3 id="addition-1">Addition 1</h3>
<p><code style="display: inline;"><span class="qtext">... START WHERE sql_cond</span></code>   <br><!-- /A --></p>
<h3 id="effect_1">Effect</h3>
<p>The <code style="display: inline;"><span class="qtext">START WHERE</span></code> condition selects the starting nodes for the paths in question
for the hierarchy nodes selected by the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition. Columns of the hierarchy, including the additional
<a href="../abenddddl_hierarchy" class="blue">hierarchy columns</a>, can be used in the condition <a href="../abenosql_expr_logexp" class="blue"><code style="display: inline;"><span class="qtext">sql_cond</span></code></a>.</p>
<p>If a selected starting node is an ancestor node of a node selected by <code style="display: inline;"><span class="qtext">WHERE</span></code>, the latter is added to the results set.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
If multiple starting nodes are ancestor nodes of a node selected by <code style="display: inline;"><span class="qtext">WHERE</span></code>, the latter is also added to the results set multiple times.
</li>

<li>
If a selected starting node is not an ancestor node of a node selected by <code style="display: inline;"><span class="qtext">WHERE</span></code>, the node is ignored. <br>
</li>

<p></ul>
</div></p>
<h3 id="addition-2">Addition 2</h3>
<p><code style="display: inline;"><span class="qtext">... WHERE sql_cond</span></code>   <br><!-- /A --></p>
<h3 id="effect_2">Effect</h3>
<p>The <code style="display: inline;"><span class="qtext">WHERE</span></code> condition selects those nodes of the hierarchy specified after
<code style="display: inline;"><span class="qtext">SOURCE</span></code> that can be added to the results set of the hierarchy navigator. Columns of the hierarchy, including the additional
<a href="../abenddddl_hierarchy" class="blue">hierarchy columns</a>, can be used in the condition <a href="../abenosql_expr_logexp" class="blue"><code style="display: inline;"><span class="qtext">sql_cond</span></code></a>.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>Meeting the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition is by itself not enough to add nodes to the results set. An ancestor node must also meet the <code style="display: inline;"><span class="qtext">START WHERE</span></code> in this case.</p>
</div>

<h3 id="continue">Continue</h3>
<p><a href="../abenhier_ancs_agg_abexa" class="blue">Hierarchy Navigator HIERARCHY_ANCESTORS_AGGREGATE</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>