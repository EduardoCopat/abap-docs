


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abentime stamps packed - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#time-stamps-in-packed-numbers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abentime stamps packed
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#representation-of-time-stamps-in-packed-numbers" class="md-nav__link">
    Representation of Time Stamps in Packed Numbers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-time-stamps-in-packed-numbers" class="md-nav__link">
    Accessing Time Stamps in Packed Numbers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-on-handling-time-stamps-in-packed-numbers" class="md-nav__link">
    Notes on Handling Time Stamps in Packed Numbers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples-for-time-stamps-in-packed-numbers" class="md-nav__link">
    Examples for Time Stamps in Packed Numbers
  </a>
  
    <nav class="md-nav" aria-label="Examples for Time Stamps in Packed Numbers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abentime_stamps_packed.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_data_working" class="blue">Processing Internal Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abendate_time_processing" class="blue">Date and Time Processing</a>&#xA0;&#x2192;&#xA0;
<a href="../abentime_stamps" class="blue">Time Stamps</a>&#xA0;</small></p>
<h1 id="time-stamps-in-packed-numbers">Time Stamps in Packed Numbers</h1>
<p>In this format, <a href="../abentime_stamp_glosry" class="grey" title="Glossary Entry">time stamps</a>
are represented using packed numbers of the type <a href="../abenbuiltin_types_numeric" class="blue"><code style="display: inline;"><span class="qtext">p</span></code></a>.</p>
<ul>

<li><a href="#@@ITOC@@ABENTIME_STAMPS_PACKED_1" class="blue">Representation of Time Stamps in Packed Numbers</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENTIME_STAMPS_PACKED_2" class="blue">Accessing Time Stamps in Packed Numbers</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENTIME_STAMPS_PACKED_3" class="blue">Notes on Handling Time Stamps in Packed Numbers</a></li>

</ul>

<ul>

<li><a href="#@@ITOC@@ABENTIME_STAMPS_PACKED_4" class="blue">Examples for Time Stamps in Packed Numbers</a></li>

</ul>

<p><a name="@@ITOC@@ABENTIME_STAMPS_PACKED_1"></a>
Other versions: 
 <s><i>7.31</i></s> | <s><i>7.40</i></s> | <b>7.54</b></p>
<h2 id="representation-of-time-stamps-in-packed-numbers">Representation of Time Stamps in Packed Numbers</h2>
<p>There is a short form and a long form.</p>
<ul>

<li>In the short form, a time stamp is represented precisely to the second using a packed number with
length 8, and the ABAP Dictionary type <span class="lnkgrey">TIMESTAMP</span>. The digits of the packed
number show the time stamp in the format <span class="qtext400">&quot;yyyymmddhhmmss&quot;</span>, where <span class="qtext400">
&quot;yyyy&quot;</span> is the year, <span class="qtext400">&quot;mm&quot;</span> is the month, <span class="qtext400">&quot;dd&quot;</span>
is the day, <span class="qtext400">&quot;hh&quot;</span> is the hour, <span class="qtext400">&quot;mm&quot;</span> are the minutes, and <span class="qtext400">&quot;ss&quot;</span> are the seconds.</li>

</ul>

<ul>

<li>In the long form, a time stamp is represented precisely to 100 ns using a packed number with length
11 and seven decimal places, and the ABAP Dictionary type <span class="lnkgrey">TIMESTAMPL</span> The
digits of the packed number show the time stamp in the format <span class="qtext400">&quot;yyyymmddhhmmss.sssssss&quot;</span>,
where, in addition to the short form, the seven decimal places <span class="qtext400">&quot;sssssss&quot;</span> are the fractions of a second. The maximum time resolution depends on the operating system of the
<a href="../abenhost_computer_glosry" class="grey" title="Glossary Entry">host computer</a> of the current
<a href="../abenapplication_server_glosry" class="grey" title="Glossary Entry">AS Instance</a> and can be less.</li>

</ul>

<p>In its integer part, a valid time stamp must contain valid dates and times:</p>
<ul>

<li>When specifying the date, only the values 01 to 9999 for the year, 01 to 12 for the month, and 01 to 31 for the day are valid.</li>

</ul>

<ul>

<li>When specifying the time, only the values 00 to 23 for the hours, and 00 to 59 for the minutes and seconds are valid.</li>

</ul>

<p>A time valid in the Gregorian calendar must be represented. <a href="../abenleap_second_glosry" class="grey" title="Glossary Entry">Leap seconds</a> are not supported.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>An initial packed number with the value 0 does not contain a valid time stamp.</li>

<p></ul>
<ul></p>
<li>The method NORMALIZE of class <span class="lnkgrey">CL_ABAP_TSTMP</span> can be used to convert invalid values in time stamps to valid values.</li>

<p></ul>
<a name="@@ITOC@@ABENTIME_STAMPS_PACKED_2"></a>
</div></p>
<h2 id="accessing-time-stamps-in-packed-numbers">Accessing Time Stamps in Packed Numbers</h2>
<p>Only a few statements recognize that packed numbers of the types <span class="lnkgrey">TIMESTAMP</span>
and <span class="lnkgrey">TIMESTAMPL</span> are time stamps. All other statements interpret the content
of these data types numerically and, with the exception of direct comparisons, are not suitable for handling time stamps. The statements for handling time stamps in packed numbers are as follows:</p>
<ul>

<li><a href="../abapget_time-stamp" class="blue"><code style="display: inline;"><span class="qtext">GET TIME STAMP</span></code></a> creates a current time stamp.</li>

</ul>

<ul>

<li><a href="../abapconvert_time-stamp" class="blue"><code style="display: inline;"><span class="qtext">CONVERT TIME STAMP</span></code></a> converts a time stamp to a local date and a local time.</li>

</ul>

<ul>

<li><a href="../abapconvert_date_time-stamp" class="blue"><code style="display: inline;"><span class="qtext">CONVERT INTO TIME STAMP</span></code></a> converts a local date and a local time to a time stamp.</li>

</ul>

<p>Furthermore, time stamps in packed numbers are handled in specified ways in the following output formats:</p>
<ul>

<li>Use of the options <a href="../abapcompute_string_format_options" class="blue"><span class="qtext">
TIMESTAMP</span></a> and <a href="../abapcompute_string_format_options" class="blue"><code style="display: inline;"><span class="qtext">TIMEZONE</span></code></a> for
<a href="../abenstring_templates_expressions" class="blue">embedded expressions</a> in <a href="../abenstring_templates" class="blue">string templates</a></li>

</ul>

<ul>

<li>Use of the addition <a href="../abapwrite_to_options" class="blue"><code style="display: inline;"><span class="qtext">TIME ZONE</span></code></a> of the statement <code style="display: inline;"><span class="qtext">WRITE <i class="bn">[</i>TO<i class="bn">]</i></span></code>.</li>

</ul>

<ul>

<li>The domains <span class="lnkgrey">XSDDATETIME_Z</span> and <span class="lnkgrey">XSDDATETIME_LONG_Z</span> support the serialization and deserialization of ABAP time stamps in
<a href="../abenabap_xslt_asxml_schema" class="blue">asXML</a> and <a href="../abenabap_asjson_schema" class="blue">asJSON</a>.</li>

</ul>

<p>The system class <a href="../abencl_abap_tstmp" class="blue">CL_ABAP_TSTMP</a> provides methods for adding, subtracting, converting, and comparing time stamps in packed numbers.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>Special <a href="../abenabap_cds_glosry" class="grey" title="Glossary Entry">time stamp functions</a> can be used in  and the CDS DDL of the ABAP CDS for editing time stamps saved as packed numbers in database tables.</p>
<p><a name="@@ITOC@@ABENTIME_STAMPS_PACKED_3"></a>
</div></p>
<h2 id="notes-on-handling-time-stamps-in-packed-numbers">Notes on Handling Time Stamps in Packed Numbers</h2>
<p>Time stamps in packed numbers are only interpreted as such when they are accessed by the statements,
methods, and functions listed above. When being assigned or converted, they behave like packed numbers
of the type <code style="display: inline;"><span class="qtext">p</span></code>, which means they are not suitable for direct calculations.
Comparisons produce a meaningful result only when two time stamps are compared with each other. In programs for which the program attribute
<a href="../abenfixed_point_arithmetic_glosry" class="grey" title="Glossary Entry">Fixed Point Arithmetic</a>
is not set, note the rules applying to the data type <code style="display: inline;"><span class="qtext">p</span></code>. In particular, direct
comparisons of time stamps in the long form with the short form produce a meaningful result only when
the program attribute <span class="italic">fixed point arithmetic</span> is set. Otherwise, the system class CL_ABAP_TSTMP must be used for comparisons as well.</p>
<p>A time stamp in its short form is the integer part of a time stamp in its long form. When assigning
time stamps in the long form to time stamps in the short form, unwanted rounding effects occur. For this reason, always use the method <code style="display: inline;"><span class="qtext">MOVE</span></code> of the system class
<a href="../abencl_abap_tstmp" class="blue">CL_ABAP_TSTMP</a>.</p>
<p>When time stamps in packed numbers are used in operand positions where they are not supposed to be used, no warnings are given by the syntax check or by the extended program check (not even in
<a href="../abenlossless_assignment_glosry" class="grey" title="Glossary Entry">lossless assignments</a>).</p>
<p><a name="@@ITOC@@ABENTIME_STAMPS_PACKED_4"></a></p>
<h2 id="examples-for-time-stamps-in-packed-numbers">Examples for Time Stamps in Packed Numbers</h2>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Directly compares time stamps in packed numbers with the same data type.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">GET TIME STAMP</span> <span class="k">FIELD</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">ts2</span><span class="p">).</span> 
<span class="k">WAIT</span> <span class="nv">UP</span> <span class="k">TO</span> <span class="mi">1</span> <span class="nv">SECONDS</span><span class="p">.</span> 
<span class="k">GET TIME STAMP</span> <span class="k">FIELD</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">ts1</span><span class="p">).</span> 

<span class="k">ASSERT</span> <span class="nv">ts2</span> <span class="o">&lt;</span> <span class="nv">ts1</span><span class="p">.</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Converts a time stamp in a packed number to a date and a time field, and determines the summer time marker.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">GET TIME STAMP</span> <span class="k">FIELD</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">ts</span><span class="p">).</span> 

<span class="k">CONVERT TIME</span> <span class="nv">STAMP</span> <span class="nv">ts</span> <span class="k">TIME</span> <span class="nv">ZONE</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">zonlo</span> 
        <span class="k">INTO</span> <span class="k">DATE</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">date</span><span class="p">)</span> <span class="k">TIME</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">time</span><span class="p">)</span> 
        <span class="nv">DAYLIGHT</span> <span class="nv">SAVING</span> <span class="k">TIME</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">dst</span><span class="p">).</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="p">|{</span> <span class="k">date</span> <span class="p">}</span><span class="s1">\n</span><span class="p">{</span> 
                            <span class="k">time</span> <span class="p">}</span><span class="s1">\n</span><span class="p">{</span> 
                            <span class="nv">dst</span> <span class="p">}</span><span class="s1"> </span><span class="p">|</span> <span class="p">).</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Formats a time stamp in a packed number in a string template in a type-friendly way.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">GET TIME STAMP</span> <span class="k">FIELD</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">ts</span><span class="p">).</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="p">|{</span> <span class="nv">ts</span> <span class="k">TIMESTAMP</span> <span class="o">=</span> <span class="nv">ISO</span> <span class="p">}</span><span class="s1"> </span><span class="p">|</span> <span class="p">).</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Serializes a time stamp in a packed number by using a special domain.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span> <span class="nv">ts</span> <span class="k">TYPE </span><span class="nv">xsddatetime_z</span><span class="p">.</span> 
<span class="k">GET TIME STAMP</span> <span class="k">FIELD</span> <span class="nv">ts</span><span class="p">.</span> 

<span class="k">CALL TRANSFORMATION</span> <span class="k">id</span> <span class="k">SOURCE </span><span class="nv">ts</span> <span class="o">=</span> <span class="nv">ts</span> 
                       <span class="k">RESULT XML</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">xml</span><span class="p">).</span> 
<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display_xml</span><span class="p">(</span> <span class="nv">xml</span> <span class="p">).</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Calculates the difference between two time stamps in packed numbers using the class CL_ABAP_TSTMP.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span><span class="p">:</span> <span class="nv">ts1</span> <span class="k">TYPE </span><span class="nv">timestampl</span><span class="p">,</span> 
      <span class="nv">ts2</span> <span class="k">TYPE </span><span class="nv">timestampl</span><span class="p">.</span> 

<span class="k">GET TIME STAMP</span> <span class="k">FIELD</span> <span class="nv">ts2</span><span class="p">.</span> 
<span class="k">WAIT</span> <span class="nv">UP</span> <span class="k">TO</span> <span class="mi">1</span> <span class="nv">SECONDS</span><span class="p">.</span> 
<span class="k">GET TIME STAMP</span> <span class="k">FIELD</span> <span class="nv">ts1</span><span class="p">.</span> 

<span class="k">DATA</span><span class="p">(</span><span class="nv">seconds</span><span class="p">)</span> <span class="o">=</span> <span class="nv">cl_abap_tstmp</span><span class="o">=&gt;</span><span class="nf">subtract</span><span class="p">(</span> 
    <span class="k">EXPORTING</span> 
      <span class="nv">tstmp1</span> <span class="o">=</span> <span class="nv">ts1</span> 
      <span class="nv">tstmp2</span> <span class="o">=</span> <span class="nv">ts2</span> <span class="p">).</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="nv">seconds</span> <span class="p">).</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Calculates directly using time stamps in packed numbers. If, for example, <code style="display: inline;"><span class="qtext">ts1</span></code>
has the value <span class="qtext400">20161004130733</span>, adding 3600 s in <code style="display: inline;"><span class="qtext">ts2</span></code>
produces the value <span class="qtext400">20161004140733</span>. Since the time stamps are interpreted
as numbers of type <code style="display: inline;"><span class="qtext">p</span></code> in the calculation, the result is <span class="qtext400">10000</span>, which would generally be unexpected.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">GET TIME STAMP</span> <span class="k">FIELD</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">ts1</span><span class="p">).</span> 

<span class="k">DATA</span><span class="p">(</span><span class="nv">ts2</span><span class="p">)</span> <span class="o">=</span> <span class="nv">cl_abap_tstmp</span><span class="o">=&gt;</span><span class="nf">add</span><span class="p">(</span> <span class="nv">tstmp</span> <span class="o">=</span> <span class="nv">ts1</span> 
                              <span class="nv">secs</span>  <span class="o">=</span> <span class="mi">3600</span> <span class="p">).</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="nv">ts2</span> <span class="o">-</span> <span class="nv">ts1</span> <span class="p">).</span>
</code></pre></div>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Calculates incorrectly using time stamps in packed numbers. The assumption here is that time stamps
are interpreted as a number of seconds in calculations. This is not the case here. The result does not
meet expectations and is generally not a valid time stamp. For example, if <span class="qtext400">20161004131906</span> is calculated, this produces the invalid value <span class="qtext400">20161004315506</span>.</p>
<div class="highlight"><pre><span></span><code><span class="k">GET TIME STAMP</span> <span class="k">FIELD</span> <span class="k">DATA</span><span class="p">(</span><span class="nv">ts</span><span class="p">).</span> 

<span class="nv">ts</span> <span class="o">=</span> <span class="nv">ts</span> <span class="o">+</span> <span class="mi">86400</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">3</span><span class="p">.</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="nv">ts</span> <span class="p">).</span>
</code></pre></div>

</div>

<h3 id="continue">Continue</h3>
<p><a href="../abapget_time-stamp" class="blue">GET TIME STAMP</a></p>
<p><a href="../abapconvert_time-stamp" class="blue">CONVERT TIME STAMP</a></p>
<p><a href="../abapconvert_date_time-stamp" class="blue">CONVERT INTO TIME STAMP</a></p>
<p><a href="../abencl_abap_tstmp" class="blue">System Class for Time Stamps in Packed Numbers</a></p>
<p><a href="../abenconvert_time_stamp_abexa" class="blue">Convert Time Stamps in Packed Numbers</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>