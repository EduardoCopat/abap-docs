


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapwith associations using - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#with-associations-path" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapwith associations using
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#addition" class="md-nav__link">
    Addition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-example" class="md-nav__link">
    Executable Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition_1" class="md-nav__link">
    Addition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-examples" class="md-nav__link">
    Executable Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abapwith_associations_using.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopensql" class="blue">ABAP SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopen_sql_reading" class="blue">ABAP SQL - Reads</a>&#xA0;&#x2192;&#xA0;
<a href="../abapwith" class="blue">WITH</a>&#xA0;&#x2192;&#xA0;
<a href="../abapwith_associations" class="blue">WITH - ASSOCIATIONS</a>&#xA0;</small></p>
<h1 id="with-associations-path">WITH - ASSOCIATIONS, path</h1>
<p><a name="@@ITOC@@ABAPWITH_ASSOCIATIONS_USING_1"></a>
Other versions: 
 <s><i>7.31</i></s> | <s><i>7.40</i></s> | <b>7.54</b></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">... <a href="../abenopen_sql_path" class="blue">sql_path</a> <i class="bn">[</i>AS alias<i class="bn">]</i> <br>
&#xA0;&#xA0;&#xA0;&#xA0;<i class="bn">[</i>REDIRECTED TO +cte VIA target<i class="bn">]</i> ...</span> 
</code></pre></p>
<h3 id="addition">Addition</h3>
<p><a href="#!ABAP_ONE_ADD@1@" class="blue"> <code style="display: inline;"><span class="qtext">... REDIRECTED TO +cte VIA target</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>Specifies an existing <a href="../abencds_association_glosry" class="grey" title="Glossary Entry">CDS association</a> or
<a href="../abencte_association_glosry" class="grey" title="Glossary Entry">CTE association</a> using an
<a href="../abencds_path_expression_glosry" class="grey" title="Glossary Entry">SQL path expression</a>
<a href="../abenopen_sql_path" class="blue"><code style="display: inline;"><span class="qtext">sql_path</span></code></a> in the addition
<a href="../abapwith_associations" class="blue"><code style="display: inline;"><span class="qtext">WITH ASSOCIATIONS</span></code></a> when
a common table expression is defined in a <a href="../abapwith" class="blue"><code style="display: inline;"><span class="qtext">WITH</span></code></a>
statement. The path expression publishes the association at its end. The published table expression
is the source data source of the published association and any join expressions that are created when the association is used in a path expression use the publisher table expression as their left side.</p>
<p>The root element of each path expression can be the following associations:</p>
<ul>

<li>
CDS associations
<br></li>

</ul>

<ul class="circlem2">

<li><a href="../abencds_f1_select_list_association" class="blue">published</a> in the <a href="../abencds_f1_select_list" class="blue"><span class="qtext400">SELECT</span></a> list of
<a href="../abencds_view_glosry" class="grey" title="Glossary Entry">CDS views</a> in cases where these views are used as a
<a href="../abapselect_data_source" class="blue">data source</a> in the <a href="../abapwith_subquery" class="blue">subquery</a> of the common table expression.</li>

</ul>

<ul class="circlem2">

<li>published using <code style="display: inline;"><span class="qtext">WITH ASSOCIATIONS</span></code> of preceding table expressions of the
current <a href="../abapwith" class="blue"><code style="display: inline;"><span class="qtext">WITH</span></code></a> statement in cases where these table expressions are used as a
<a href="../abapselect_data_source" class="blue">data source</a> in the <a href="../abapwith_subquery" class="blue">subquery</a> of the common table expression.</li>

</ul>

<ul>

<li>
CTE associations defined and published using <code style="display: inline;"><span class="qtext">WITH ASSOCIATIONS</span></code> of preceding
table expressions of the current <a href="../abapwith" class="blue"><code style="display: inline;"><span class="qtext">WITH</span></code></a> statement in cases where these table expressions are used as a
<a href="../abapselect_data_source" class="blue">data source</a> in the <a href="../abapwith_subquery" class="blue">subquery</a> of the common table expression.
<br></li>

</ul>

<p>If <a href="../abenopen_sql_path" class="blue"><code style="display: inline;"><span class="qtext">~</span></code></a> is used to prefix the
path expression with the name of the data source that publishes its first association, this name must
be the name used in the table expression. Therefore, if <a href="../abapfrom_clause" class="blue"><span class="qtext">
AS</span></a> is used to define an alias name, this name must be used instead of the original name in the path expression.</p>
<p><a href="../abenopen_sql_parameters" class="blue">Parameter passing</a> is not allowed in the final association of the specified path expressions and the
<a href="../abenopen_sql_path_filter" class="blue">type of the join</a> must not be defined. Any fields
of the source data source of a path expression that occur in the <span class="qtext400">ON</span> condition
of the association must be elements of the <code style="display: inline;"><span class="qtext">SELECT</span></code> list of the common table
expression. In path expressions that contain only one association, the elements can be specified as
single elements or by using <code style="display: inline;"><span class="qtext"><em></span></code> or <code style="display: inline;"><span class="qtext">dbtab~</em></span></code>. If a path expression contains more than one association, one element must be specified as a path expression closed by the field, with the same
<a href="../abenopen_sql_path_filter" class="blue">attributes</a> as the path expression used for publishing.</p>
<p><code style="display: inline;"><span class="qtext">AS</span></code> can be used to specify an alias name <code style="display: inline;"><span class="qtext">alias</span></code>
for the published association, under which it can be addressed in the subsequent queries of the current <code style="display: inline;"><span class="qtext">WITH</span></code> statement. The alias name can contain letters, digits, the minus sign
(<code style="display: inline;"><span class="qtext">-</span></code>), and the underscore (<code style="display: inline;"><span class="qtext">_</span></code>) in any order.</p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following <code style="display: inline;"><span class="qtext">WITH</span></code> statement is a syntax example only and does not have a function. Its main role is to show different ways of specifying path expressions and operands.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">WITH</span> 
  <span class="o">+</span><span class="nv">cte1</span> <span class="k">AS</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="o">*</span> 
                   <span class="k">FROM</span> <span class="nv">demo_cds_publish_assoc</span> <span class="k">AS</span> <span class="nv">subsrc</span> 
                   <span class="k">WHERE</span> <span class="nv">subsrc~</span><span class="err">\</span><span class="nv">_spfli</span><span class="o">-</span><span class="nv">carrid</span> <span class="o">=</span> <span class="s1">&#39;...&#39;</span> <span class="p">)</span> 
             <span class="k">WITH</span> <span class="nv">ASSOCIATIONS</span> <span class="p">(</span> <span class="nv">subsrc~</span><span class="err">\</span><span class="nv">_spfli</span> <span class="k">AS</span> <span class="nv">assoc1</span> <span class="p">),</span> 
  <span class="o">+</span><span class="nv">cte2</span> <span class="k">AS</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="o">+</span><span class="nv">cte1</span> <span class="p">)</span> 
             <span class="k">WITH</span> <span class="nv">ASSOCIATIONS</span> <span class="p">(</span> <span class="o">+</span><span class="nv">cte1~</span><span class="err">\</span><span class="nv">assoc1</span><span class="p">[</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="s1">&#39;...&#39;</span> <span class="p">]</span> 
                                <span class="k">AS</span> <span class="nv">assoc2</span> <span class="p">)</span> 
  <span class="k">SELECT</span> <span class="nv">carrid</span> <span class="k">AS</span> <span class="k">id</span> 
         <span class="k">FROM</span> <span class="o">+</span><span class="nv">cte1</span><span class="err">\</span><span class="nv">assoc1</span> <span class="k">AS</span> <span class="nv">mainsrc</span> 
         <span class="k">WHERE</span> <span class="nv">mainsrc~carrid</span> <span class="o">=</span> <span class="s1">&#39;...&#39;</span> 
  <span class="nv">UNION</span> 
  <span class="k">SELECT</span> <span class="nv">carrid</span> <span class="k">AS</span> <span class="k">id</span> 
         <span class="k">FROM</span> <span class="o">+</span><span class="nv">cte2</span> 
         <span class="k">WHERE</span> <span class="o">+</span><span class="nv">cte2~</span><span class="err">\</span><span class="nv">assoc2</span><span class="o">-</span><span class="nv">carrid</span> <span class="o">=</span> <span class="s1">&#39;...&#39;</span> 
         <span class="k">ORDER BY</span> <span class="k">id</span> 
         <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">result</span><span class="p">).</span>
</code></pre></div>
</div></p>
<h3 id="executable-example">Executable Example</h3>
<p><a href="../abenwith_associations_abexa" class="blue">Publishing Associations</a>  </p>
<p><a name="@@REDIRECTED TO VIA@@WITH ASSOCIATIONS@@"></a></p>
<h3 id="addition_1">Addition</h3>
<p><code style="display: inline;"><span class="qtext">... REDIRECTED TO +cte VIA target</span></code> <!-- /A -->  <br></p>
<h3 id="effect_1">Effect</h3>
<p>The addition <code style="display: inline;"><span class="qtext">REDIRECTED TO</span></code> replaces the target data source of the association
published using <code style="display: inline;"><span class="qtext">WITH ASSOCIATIONS</span></code> with the common table expression specified as <code style="display: inline;"><span class="qtext">+cte</span></code>.</p>
<ul>

<li>
The following can be specified for <code style="display: inline;"><span class="qtext">+cte</span></code>:
<br></li>

</ul>

<ul class="circlem2">

<li>A common table expression defined in front of the current common table expression in the current <a href="../abapwith" class="blue"><code style="display: inline;"><span class="qtext">WITH</span></code></a> statement.</li>

</ul>

<ul class="circlem2">

<li>The current common table expression</li>

</ul>

<dd>
<code style="display: inline;"><span class="qtext">+cte</span></code> must specify the target data source as a data source of the published association in the <code style="display: inline;"><span class="qtext">FROM</span></code> clause of the subquery.
</dd>

<ul>

<li>
<code style="display: inline;"><span class="qtext">VIA</span></code> must be followed by the target data source of the published association under the name it uses in the <code style="display: inline;"><span class="qtext">FROM</span></code> clause of <code style="display: inline;"><span class="qtext">+cte</span></code>:
<br></li>

</ul>

<ul class="circlem2">

<li>The target data source must be specified after <code style="display: inline;"><span class="qtext">VIA</span></code> even if it is used
only once. If <a href="../abapfrom_clause" class="blue"><code style="display: inline;"><span class="qtext">AS</span></code></a> is used to define an alias name, this name must be specified.</li>

</ul>

<ul class="circlem2">

<li>If the target data source is used more than once as a data source of join expressions, one of these
occurrences must be specified after <code style="display: inline;"><span class="qtext">VIA</span></code>. The occurrence can be specified using the alias name or, if necessary, using its original name.</li>

</ul>

<dd>
All columns that occur in the <code style="display: inline;"><span class="qtext">ON</span></code> condition of the published association must
be specified as columns of the data source specified after <code style="display: inline;"><span class="qtext">VIA</span></code> in the <span class="qtext">
SELECT</span> list of the subquery of <code style="display: inline;"><span class="qtext">+cte</span></code>. If the target data source occurs
more than once in the <code style="display: inline;"><span class="qtext">FROM</span></code> clause of <code style="display: inline;"><span class="qtext">+cte</span></code>, the
addition <code style="display: inline;"><span class="qtext">VIA</span></code> defines that these columns of the results set (which represent
the right side of the join expression created when the published association is used in a subsequent path expression) are used in the <code style="display: inline;"><span class="qtext">ON</span></code> condition of the expression.
</dd>

<p>If an <a href="../abenopen_sql_path_filter" class="blue">attribute</a> is specified for the target
data source when the published association is used in a subsequent path expression, this attribute is
applied to the target <code style="display: inline;"><span class="qtext">+cte</span></code> of the redirect. Any attributes specified after
<code style="display: inline;"><span class="qtext">WITH ASSOCIATIONS</span></code> when the association is published, however, are applied to the original target data source of the published association.</p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The common table expression <code style="display: inline;"><span class="qtext">+cte2</span></code> of the following <code style="display: inline;"><span class="qtext">WITH</span></code>
statement uses the path expression <code style="display: inline;"><span class="qtext">demo_cds_publish_assoc~_spfli</span></code> to publish
the CDS association <code style="display: inline;"><span class="qtext">_spfli</span></code> that is itself published in the CDS view <span class="qtext">
demo_cds_publish_assoc</span>. The common table expression <code style="display: inline;"><span class="qtext">+cte2</span></code> hence replaces
this view as the source data source of the CDS association. This is meaningless in this example, however,
since the subquery of the common table expression reads all data from the data source. The common table
expression <code style="display: inline;"><span class="qtext">+cte1</span></code> uses <code style="display: inline;"><span class="qtext">REDIRECTED TO +cte1~demo_cds_assoc_spfli</span></code>
to replace the target data source <code style="display: inline;"><span class="qtext">demo_cds_assoc_spfli</span></code> of the published path
expression. <code style="display: inline;"><span class="qtext">demo_cds_assoc_spfli</span></code> is the only data source of the common table
expression <code style="display: inline;"><span class="qtext">+cte1</span></code>. In the main query of the <code style="display: inline;"><span class="qtext">WITH</span></code>
statement, the path expression <code style="display: inline;"><span class="qtext">+cte2_spfli</span></code> is used to access the target
data source <code style="display: inline;"><span class="qtext">+cte1</span></code> of the published CDS association, which is subject to the <code style="display: inline;"><span class="qtext">WHERE</span></code> condition.</p>
<div class="highlight"><pre><span></span><code><span class="k">DATA</span> <span class="nv">carrid</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span><span class="p">.</span> 
<span class="nv">cl_demo_input</span><span class="o">=&gt;</span><span class="nf">request</span><span class="p">(</span> <span class="k">CHANGING</span> <span class="k">field</span> <span class="o">=</span> <span class="nv">carrid</span> <span class="p">).</span> 

<span class="k">WITH</span> 
  <span class="o">+</span><span class="nv">cte1</span> <span class="k">AS</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="o">*</span> 
                    <span class="k">FROM</span> <span class="nv">demo_cds_assoc_spfli</span> 
                    <span class="k">WHERE</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="err">@</span><span class="nv">carrid</span> <span class="p">),</span> 
  <span class="o">+</span><span class="nv">cte2</span> <span class="k">AS</span> <span class="p">(</span> <span class="k">SELECT</span> <span class="o">*</span> 
                    <span class="k">FROM</span> <span class="nv">demo_cds_publish_assoc</span> <span class="p">)</span> 
        <span class="k">WITH</span> <span class="nv">ASSOCIATIONS</span> <span class="p">(</span> <span class="nv">demo_cds_publish_assoc~</span><span class="err">\</span><span class="nv">_spfli</span> 
          <span class="nv">REDIRECTED</span> <span class="k">TO</span> <span class="o">+</span><span class="nv">cte1</span> <span class="k">VIA</span> <span class="nv">demo_cds_assoc_spfli</span> <span class="p">)</span> 
  <span class="k">SELECT</span> <span class="nv">spfli~</span><span class="o">*</span> 
         <span class="k">FROM</span> <span class="o">+</span><span class="nv">cte2</span><span class="err">\</span><span class="nv">_spfli</span> <span class="k">AS</span> <span class="nv">spfli</span> 
         <span class="k">ORDER BY</span> <span class="nv">spfli~carrid</span><span class="p">,</span> <span class="nv">spfli~connid</span> 
         <span class="k">INTO</span> <span class="k">TABLE</span> <span class="err">@</span><span class="nv">DATA</span><span class="p">(</span><span class="nv">result</span><span class="p">).</span> 

<span class="nv">cl_demo_output</span><span class="o">=&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="nv">result</span> <span class="p">).</span>
</code></pre></div>

<p><a href="../abenddl_source_code_glosry" class="grey" title="Glossary Entry">DDL Source Code</a> of DEMO_CDS_PUBLISH_ASSOC:</p>
<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;DEMO_CDS_PUBASC&apos; <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_publish_assoc <br> as select from <br> scarr <br> association to demo_cds_assoc_spfli as _spfli on <br>
 scarr.carrid = _spfli.carrid <br> { <br> _spfli, <br> scarr.carrid as scarr_carrid, <br> _spfli._sflight, <br> _spfli.carrid, <br> _spfli.connid <br> }&#xA0;&#xA0;&#xA0;&#xA0;</span>
</dd>

<p><a href="../abenddl_source_code_glosry" class="grey" title="Glossary Entry">DDL Source Code</a> of DEMO_CDS_ASSOC_SPFLI:</p>
<dd>
<span class="qtext400">@AbapCatalog.sqlViewName: &apos;DEMO_CDS_ASC_SPF&apos; <br>@AccessControl.authorizationCheck: #NOT_REQUIRED <br>
define view demo_cds_assoc_spfli <br>&#xA0;&#xA0;as select from <br>&#xA0;&#xA0;&#xA0;&#xA0;spfli <br>
&#xA0;&#xA0;&#xA0;&#xA0;association&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;to sflight&#xA0;&#xA0;as _sflight&#xA0;&#xA0;on <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;spfli.carrid = _sflight.carrid <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;and spfli.connid = _sflight.connid <br>
&#xA0;&#xA0;&#xA0;&#xA0;association [1..1] to sairport as _sairport on <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;spfli.airpfrom = _sairport.id <br>
&#xA0;&#xA0;&#xA0;&#xA0;{ <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;_sflight, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;_sairport, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;carrid, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;connid, <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;airpfrom <br>&#xA0;&#xA0;&#xA0;&#xA0;}</span>
</dd>

</div>

<h3 id="executable-examples">Executable Examples</h3>
<ul>

<li>
<a href="../abenwith_assocs_redirect_abexa" class="blue">Publishing Associations with a Redirect</a>
</li>

<li>
<a href="../abenwith_assocs_redir_self_abexa" class="blue">Publishing Associations with a Recursive Redirect</a>
<br></li>

</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>