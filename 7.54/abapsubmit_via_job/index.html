


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapsubmit via job - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#submit-job_options" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapsubmit via job
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7.31/abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extras" class="md-nav__link">
    Extras
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-fields" class="md-nav__link">
    System Fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-1" class="md-nav__link">
    Addition 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-2" class="md-nav__link">
    Addition 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abapsubmit_via_job.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_execution" class="blue">Calling and leaving program units</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_program_call" class="blue">Calling Programs</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_submit_report" class="blue">Calling Executable Programs</a>&#xA0;&#x2192;&#xA0;
<a href="../abapsubmit" class="blue">SUBMIT</a>&#xA0;</small></p>
<h1 id="submit-job_options">SUBMIT - job_options</h1>
<p><a href="../abapsubmit_shortref" class="blue">Quick Reference</a>  </p>
<p>Other versions: 
 <a href="../../7.31/abapsubmit_via_job">7.31</a> | <a href="../../7.40/abapsubmit_via_job">7.40</a> | <b>7.54</b></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">... <i class="bn">[</i>USER user<i class="bn">]</i> VIA JOB job NUMBER n <i class="bn">[</i>LANGUAGElang<i class="bn">]</i> ...</span> 
</code></pre></p>
<h3 id="extras">Extras</h3>
<p><a href="#!ABAP_ADDITION_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... USER user</span></code> </a><br />
 <a href="#!ABAP_ADDITION_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... LANGUAGE lang</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>This addition schedules the execution of the program accessed as a
<a href="../abenbackround_task_glosry" class="grey" title="Glossary Entry">background task</a> with the number <code style="display: inline;"><span class="qtext">n</span></code> in the
<a href="../abenbackround_request_glosry" class="grey" title="Glossary Entry">background request</a>
<code style="display: inline;"><span class="qtext">job</span></code>. The number <code style="display: inline;"><span class="qtext">n</span></code> for a background request <span class="qtext">
job</span> must be filled using the function module <span class="lnkgrey">JOB_OPEN</span> from the function group BTCH. The full program is processed in a
<a href="../abenbatch_session_glosry" class="grey" title="Glossary Entry">background session</a> in
accordance with the parameters of the background request and is not processed directly. The addition <code style="display: inline;"><span class="qtext">VIA JOB</span></code> can only be used together with the addition <code style="display: inline;"><span class="qtext">AND RETURN</span></code>.</p>
<p>The called program is scheduled and executed in three steps:</p>
<li>
The addition <code style="display: inline;"><span class="qtext">VIA JOB</span></code> also first loads the program in question to a separate
<a href="../abeninternal_session_glosry" class="grey" title="Glossary Entry">internal session</a> when
the statement <code style="display: inline;"><span class="qtext">SUBMIT</span></code> is executed. Here, all steps located before <a href="../abapstart-of-selection" class="blue">
<code style="display: inline;"><span class="qtext">START-OF-SELECTION</span></code></a> are executed. This means the events <a href="../abapload-of-program" class="blue">
<code style="display: inline;"><span class="qtext">LOAD-OF-PROGRAM</span></code></a> and <a href="../abapinitialization" class="blue"><code style="display: inline;"><span class="qtext">INITIALIZATION</span></code></a> are raised and
<a href="../abenselscreen_processing_glosry" class="grey" title="Glossary Entry">selection screen processing</a>
is performed. If the selection screen is not processed in the background when <span class="qtext">VIA
SELECTION-SCREEN</span> is specified, the user of the calling program can edit it and schedule the program
accessed in the background request using the function <span class="italic">Place in Job</span>. If the
user cancels selection screen processing, the program is not scheduled in the background job. In both
cases, the internal session of the called program is exited after selection screen processing and the calling program is resumed due to <code style="display: inline;"><span class="qtext">AND RETURN</span></code>. <br>
<br></li>

<li>
The program is then scheduled in the background task. Here, the selections specified by the user or in the additions for filling the selection screen are stored in an internal
<a href="../abenvariant_2_glosry" class="grey" title="Glossary Entry">selection screen variant</a>. <br>
<br></li>

<li>
The actual execution of the program then takes place in a separate
<a href="../abenbatch_session_glosry" class="grey" title="Glossary Entry">background session</a> as
part of the background request. User and client match the current user and client of the current session.
The user can be overwritten using the addition <code style="display: inline;"><span class="qtext">USER</span></code>. The language of the background session is either the current
<a href="../abentext_env_langu_glosry" class="grey" title="Glossary Entry">text environment language</a>
or can be set using the addition <code style="display: inline;"><span class="qtext">LANGUAGE</span></code>. The program now runs in full.
All events are raised, including those from selection screen processing (although these are processed
in the background). The selection screen variant stored internally is passed to the selection screen
between the events <a href="../abapinitialization" class="blue"><code style="display: inline;"><span class="qtext">INITIALIZATION</span></code></a>
and <a href="../abapat_selection-screen" class="blue"><code style="display: inline;"><span class="qtext">AT SELECTION SCREEN OUTPUT</span></code></a>.
<br></li>

<p>If a basic list is created in the program accessed, a
<a href="../abenspool_request_glosry" class="grey" title="Glossary Entry">spool request</a> should
be created with explicit spool parameters by specifying <a href="../abapsubmit_list_options" class="blue"><span class="qtext">
TO SAP-SPOOL</span></a>. If this is not done, the addition <code style="display: inline;"><span class="qtext">VIA JOB</span></code> creates
a spool request implicitly that derives its spool parameters from standard values, some of which are taken from the user defaults, and which are not necessarily consistent.  </p>
<h3 id="system-fields">System Fields</h3>
<table>
<thead>
<tr>
<th>sy-subrc</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Background task scheduled successfully.</td>
</tr>
<tr>
<td>4</td>
<td>Scheduling terminated by the user on the selection screen.</td>
</tr>
<tr>
<td>8</td>
<td>Error in scheduling (in the internal call of JOB_SUBMIT).</td>
</tr>
<tr>
<td>12</td>
<td>Error in internal number assignment.</td>
</tr>
</tbody>
</table>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
Background jobs can be created and monitored by choosing the menu path <span class="italic">System -
Services - Jobs</span>. Internally, the language elements shown here are used. In addition to JOB_OPEN,
the function modules <span class="lnkgrey">JOB_CLOSE</span> and <span class="lnkgrey">JOB_SUBMIT</span>
can also be used in the ABAP program. JOB_CLOSE completes the creation of a background request. Like
the statement <code style="display: inline;"><span class="qtext">SUBMIT</span></code>, JOB_SUBMIT schedules an ABAP program as a background task in a background request. JOB_SUBMIT provides more control options for
<a href="../abenbackround_processing_glosry" class="grey" title="Glossary Entry">background processing</a>
but must be given the input values for the selection screen in an existing selection screen variant. The statement <code style="display: inline;"><span class="qtext">SUBMIT</span></code> creates this variant and accesses JOB_SUBMIT internally.
</li>

<li>
If a scheduling error occurs, the key of the last
<a href="../abenerror_message_glosry" class="grey" title="Glossary Entry">error message</a> sent can be read using the method GET_ERROR_MESSAGE of the class <span class="lnkgrey">CL_ABAP_SUBMIT_HANDLING</span>.
</li>

<li>
A short lived <a href="../abencall_sequence_glosry" class="grey" title="Glossary Entry">call sequence</a> is also produced when the addition <code style="display: inline;"><span class="qtext">VIA JOB</span></code> is used. In the called program, the associated
<a href="../abenabap_memory_glosry" class="grey" title="Glossary Entry">ABAP memory</a> can be accessed
in those processing blocks that are executed before actual background processing in the first step mentioned
above (namely before the internal session is exited after selection screen processing). The actual background processing takes place in a separate
<a href="../abenbatch_session_glosry" class="grey" title="Glossary Entry">background session</a>, where neither the
<a href="../abenabap_memory_glosry" class="grey" title="Glossary Entry">ABAP memory</a> nor the
<a href="../abenuser_memory_glosry" class="grey" title="Glossary Entry">user memory</a> of the calling program can be accessed. <br>
</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Schedules a <code style="display: inline;"><span class="qtext">submitable</span></code> program as a background task with the number <span class="qtext">
number</span> in a background request <code style="display: inline;"><span class="qtext">name</span></code>. After scheduling, the background
task is completed by the function module <span class="lnkgrey">JOB_CLOSE</span> and released immediately, providing the user has the relevant authorization.</p>
<dd>
<span class="qtext">DATA: number&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TYPE tbtcjob-jobcount, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TYPE tbtcjob-jobname VALUE &apos;JOB_TEST&apos;, <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;print_parameters TYPE pri_params. <br> <br>... <br> <br>CALL FUNCTION &apos;JOB_OPEN&apos; <br>
&#xA0;&#xA0;EXPORTING <br>&#xA0;&#xA0;&#xA0;&#xA0;jobname&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= name <br>
&#xA0;&#xA0;IMPORTING <br>&#xA0;&#xA0;&#xA0;&#xA0;jobcount&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; = number <br>
&#xA0;&#xA0;EXCEPTIONS <br>&#xA0;&#xA0;&#xA0;&#xA0;cant_create_job&#xA0;&#xA0;= 1 <br>&#xA0;&#xA0;&#xA0;&#xA0;invalid_job_data = 2 <br>
&#xA0;&#xA0;&#xA0;&#xA0;jobname_missing&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= 3 <br>&#xA0;&#xA0;&#xA0;&#xA0;OTHERS&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; = 4. <br>
IF sy-subrc = 0. <br>&#xA0;&#xA0;SUBMIT submitable TO SAP-SPOOL <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;SPOOL PARAMETERS print_parameters <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WITHOUT SPOOL DYNPRO <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;VIA JOB name NUMBER number <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;AND RETURN. <br>
&#xA0;&#xA0;IF sy-subrc = 0. <br>&#xA0;&#xA0;&#xA0;&#xA0;CALL FUNCTION &apos;JOB_CLOSE&apos; <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;EXPORTING <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;jobcount&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; = number <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;jobname&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= name <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;strtimmed&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= &apos;X&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;EXCEPTIONS <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;cant_start_immediate = 1 <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;invalid_startdate&#xA0;&#xA0;&#xA0;&#xA0;= 2 <br>&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;jobname_missing&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= 3 <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;job_close_failed&#xA0;&#xA0;&#xA0;&#xA0; = 4 <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;job_nosteps&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= 5 <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;job_notex&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= 6 <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lock_failed&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= 7 <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;OTHERS&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; = 8. <br>
&#xA0;&#xA0;&#xA0;&#xA0;IF sy-subrc &lt;&gt; 0. <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;... <br>&#xA0;&#xA0;&#xA0;&#xA0;ENDIF. <br>
&#xA0;&#xA0;ELSE. <br>&#xA0;&#xA0;&#xA0;&#xA0;DATA(msg) = cl_abap_submit_handling=&gt;get_error_message( ). <br>
&#xA0;&#xA0;&#xA0;&#xA0;MESSAGE ID msg-msgid <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;TYPE &apos;I&apos; <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;NUMBER msg-msgno <br>&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WITH msg-msgv1 msg-msgv2 msg-msgv3 msg-msgv4 <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;DISPLAY LIKE msg-msgty. <br>
&#xA0;&#xA0;ENDIF. <br>ENDIF.</span>

</dd>

<p><a name="@@USER@@SUBMIT@@"></a>
</div></p>
<h3 id="addition-1">Addition 1</h3>
<p><code style="display: inline;"><span class="qtext">... USER user</span></code>   <br><!-- /A --></p>
<h3 id="effect_1">Effect</h3>
<p>The optional addition <code style="display: inline;"><span class="qtext">USER</span></code> can be used to specify a user name <code style="display: inline;"><span class="qtext">user</span></code>
of the type <code style="display: inline;"><span class="qtext">sy-uname</span></code>. The name of this user is used to log on to the background
session and its authorizations are used to execute the background task. If <code style="display: inline;"><span class="qtext">USER</span></code> is not specified, the user name of the current user session is used.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The name specified after <code style="display: inline;"><span class="qtext">USER</span></code> is checked using the
<a href="../abenauthorization_object_glosry" class="grey" title="Glossary Entry">authorization object</a>
S_BTCH_NAM. When the program is executed, only those names can be specified for which the current user
has the correct authorization. The names permitted by the authorization object represent a type of whitelist of users whose logons allow the current user to execute a background task.
</li>

<li>
The current user should not be specified explicitly using <code style="display: inline;"><span class="qtext">USER sy-uname</span></code>.
Not only is this redundant, the system field is also at risk of being overwritten before the background task is scheduled, for example in ABAP Debugger.
</li>

<li>
See also <a href="../abenuser_dependent_scrty" class="blue">User-Specific Program Flow</a>. <br>
</li>

<p></ul>
<a name="@@LANGUAGE@@SUBMIT@@"></a>
</div></p>
<h3 id="addition-2">Addition 2</h3>
<p><code style="display: inline;"><span class="qtext">... LANGUAGE lang</span></code>   <br><!-- /A --></p>
<h3 id="effect_2">Effect</h3>
<p>This addition sets the <a href="../abenlogon_language_glosry" class="grey" title="Glossary Entry">logon language</a> of the
<a href="../abenbatch_session_glosry" class="grey" title="Glossary Entry">background session</a> in which the called program is executed. If the addition <code style="display: inline;"><span class="qtext">LANGUAGE</span></code> is not specified, the
<a href="../abentext_env_langu_glosry" class="grey" title="Glossary Entry">text environment language</a> of the current
<a href="../abeninternal_session_glosry" class="grey" title="Glossary Entry">internal session</a> is used.</p>
<p><code style="display: inline;"><span class="qtext">lang</span></code> expects a character-like data object. This must contain a language key
with a length of one character in the first place and this value must be contained in the column SPRAS
of the database table <span class="lnkgrey">T002</span>. If the data object <code style="display: inline;"><span class="qtext">lang</span></code> contains a blank in its first place, the
<a href="../abenlogon_language_glosry" class="grey" title="Glossary Entry">logon language</a> of the current user is used.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>If the function module <span class="lnkgrey">JOB_SUBMIT</span> is called internally, its optional parameter LANGUAGE is filled with the first place of <code style="display: inline;"><span class="qtext">lang</span></code>.</p>
<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>This statement</p>
<dd>
<span class="qtext">SUBMIT submitable TO SAP-SPOOL <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;SPOOL PARAMETERS print_parameters <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;WITHOUT SPOOL DYNPRO <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;VIA JOB name NUMBER number <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;LANGUAGE langu <br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;AND RETURN.</span>
</dd>

<p>has the same effect as the following function module call:</p>
<dd>
<span class="qtext">CALL FUNCTION &apos;JOB_SUBMIT&apos; <br>&#xA0;&#xA0;EXPORTING <br>&#xA0;&#xA0;&#xA0;&#xA0;authcknam = sy-uname <br>
&#xA0;&#xA0;&#xA0;&#xA0;jobcount&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; = number <br>
&#xA0;&#xA0;&#xA0;&#xA0;jobname&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;= name <br>
&#xA0;&#xA0;&#xA0;&#xA0;language&#xA0;&#xA0;= langu <br>&#xA0;&#xA0;&#xA0;&#xA0;priparams = print_parameters <br>&#xA0;&#xA0;&#xA0;&#xA0;report&#xA0;&#xA0;&#xA0;&#xA0;= &apos;SUBMITABLE&apos;.</span>
</dd>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>