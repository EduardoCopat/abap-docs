


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>COMMIT WORK - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#commit-work" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              COMMIT WORK
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-fields" class="md-nav__link">
    System Fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-examples" class="md-nav__link">
    Executable Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-handleable-exceptions" class="md-nav__link">
    Non-Handleable Exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.54/abapcommit.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="commit-work">COMMIT WORK</h1>
<p><a href="../abapcommit_shortref" class="blue">Quick Reference</a>  </p>
<p><a href="../abapcommit">7.31</a> <a href="../abapcommit">7.40</a> <b>7.54</b></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP &#x2212; Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP Database Access</a>&#xA0;&#x2192;&#xA0;
<a href="../abentransaction" class="blue">Data Consistency</a>&#xA0;&#x2192;&#xA0;
<a href="../abensap_luw" class="blue">SAP LUW</a>&#xA0;</small></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
 <span class="qtext">COMMIT WORK <i class="bn">[</i>AND WAIT<i class="bn">]</i>.</span> 
</code></pre></p>
<h3 id="effect">Effect</h3>
<p>The statement <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> closes the current
<a href="../abensap_luw_glosry" class="grey" title="Glossary Entry">SAP LUW</a> and opens a new one.
All change requests from the current SAP LUW are then committed. In this case, <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> performs the following actions:</p>
<li>
It executes all subroutines registered using <a href="../abapperform_subr" class="blue"><code style="display: inline;"><span class="qtext">PERFORM ON COMMIT</span></code></a>. <br>
 <br>The order is based on the order of registration or according to the priority specified using the
addition <code style="display: inline;"><span class="qtext">LEVEL</span></code>. The following statements are not allowed to be executed in a subroutine of this type: <br>
 <br><a href="../abapperform_subr" class="blue"><code style="display: inline;"><span class="qtext">PERFORM ... ON COMMIT<i class="bn">|</i>ROLLBACK</span></code></a> <br>
<code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> <br><a href="../abaprollback" class="blue"><code style="display: inline;"><span class="qtext">ROLLBACK WORK</span></code></a> <br>
 <br>The statement <a href="../abapcall_function_update" class="blue"><code style="display: inline;"><span class="qtext">CALL FUNCTION ... IN UPDATE TASK</span></code></a> can be executed. <br>
<br></li>

<li>
It raises an internal event for the persistence service of the <a href="../abenobject_services_glosry" class="grey" title="Glossary Entry">Object Services</a>. <br>
 <br>If event handlers are registered by the persistence service, they collect the changes to the objects
managed by the service and use <a href="../abapcall_function_update" class="blue"><span class="qtext">CALL
FUNCTION ... IN UPDATE TASK</span></a> to pass them to a special update function module, registered as the final update module. <br>
<br></li>

<li>
It triggers the processing of all update function modules registered using <a href="../abapcall_function_update" class="blue"><code style="display: inline;"><span class="qtext">CALL FUNCTION ... IN UPDATE TASK</span></code></a> in the update work process or, for
<a href="../abenlocal_update_glosry" class="grey" title="Glossary Entry">local updates</a>, in the current work process as well. <br>
 <br>All high-priority (<span class="qtext400">&quot;VB1&quot;</span>) update function modules are executed in the order of their registration and in a shared
<a href="../abendatabase_luw_glosry" class="grey" title="Glossary Entry">database LUW</a>. If the addition
<code style="display: inline;"><span class="qtext">AND WAIT</span></code> is not specified, the program does not wait (in non-local updates)
until the update work process has executed it (asynchronous updates), but instead is resumed immediately
after <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code>. However, if the addition <code style="display: inline;"><span class="qtext">AND WAIT</span></code>
is specified, program processing after <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> will not continue until
the update work process has executed the high-priority update function modules (synchronous updating). <br>
 <br>When all high-priority update function modules are completed successfully, the statement executes the low-priority
(<span class="qtext400">&quot;VB2&quot;</span>) update function modules in the order of registration in a shared database LUW in the update work process. <br>
 <br>No <a href="../abendatabase_commit_glosry" class="grey" title="Glossary Entry">database commits</a> and no
<a href="../abendatabase_rollback_glosry" class="grey" title="Glossary Entry">database rollbacks</a>
can occur and the update control cannot be modified in the processing of an update function module triggered using <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> is being processed. Any statements that would produce this situation are
<a href="../abendb_commit_during_update" class="blue">forbidden statements in updates</a> and always produce runtime errors. As before, no
<a href="../abenauthority_during_update" class="blue">authorization checks</a> can be made. <br> <br>After
the execution of high-priority update function modules, the function modules registered using <a href="../abapcall_function_background_unit" class="blue">
<code style="display: inline;"><span class="qtext">CALL FUNCTION ... IN BACKGROUND UNIT</span></code></a> and <a href="../abapcall_function_background_task" class="blue">
<code style="display: inline;"><span class="qtext">CALL FUNCTION ... IN BACKGROUND TASK</span></code></a> (which is obsolete) are themselves executed in a single database LUW per
<a href="../abendestination_glosry" class="grey" title="Glossary Entry">RFC destination</a>. <br>
<br></li>

<li>
It handles all <a href="../abensap_lock_glosry" class="grey" title="Glossary Entry">SAP locks</a> set
in the current program in accordance with the value of the formal parameter _SCOPE of the corresponding lock function modules. <br>
<br></li>

<li>
It triggers a <a href="../abendatabase_commit_glosry" class="grey" title="Glossary Entry">database commit</a> on all currently open
<a href="../abendatabase_connection_glosry" class="grey" title="Glossary Entry">database connections</a>, which also terminates the current
<a href="../abendatabase_luw_glosry" class="grey" title="Glossary Entry">database LUW</a> and closes all
<a href="../abendatabase_cursor_glosry" class="grey" title="Glossary Entry">database cursors</a>. <br>
<br></li>

<p>The <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> still raises the event TRANSACTION_FINISHED from the system
class <span class="lnkgrey">CL_SYSTEM_TRANSACTION_STATE</span>, where the parameter KIND has the value
of the constant CL_SYSTEM_TRANSACTION_STATE=&gt;COMMIT_WORK. The time when this event is raised is described in the documentation for the event in the class:</p>
<ul>

<li>
In <a href="../abensynchronous_update_glosry" class="grey" title="Glossary Entry">synchronous updates</a>,
<a href="../abenlocal_update_glosry" class="grey" title="Glossary Entry">local updates</a>, and outside updates, TRANSACTION_FINISHED is raised by <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> once processing is finished.
</li>
<li>
In <a href="../abenasynchronous_update_glosry" class="grey" title="Glossary Entry">asynchronous updates</a>,
TRANSACTION_FINISHED is raised by the statement <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> when the update is initiated.
<br></li>

</ul>

<p>Resources for preparation work can be cleaned up in the event handlers for this event before the update is performed. However, this is no guarantee that the update has not already been performed.  </p>
<p>If the statement <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> is executed by calling special programs, be aware of the following:</p>
<ul>

<li>
In a program executed using <a href="../abenbatch_input_glosry" class="grey" title="Glossary Entry">batch
input</a> or if the program was called using the statement <a href="../abapcall_transaction_using" class="blue">
<code style="display: inline;"><span class="qtext">CALL TRANSACTION USING</span></code></a>, <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> terminates
batch input processing by default. This setting can be overwritten in the statement <span class="qtext">CALL
TRANSACTION USING</span> by using the component RACOMMIT of the structure <span class="lnkgrey">CTU_PARAMS</span>, passed to the statement <code style="display: inline;"><span class="qtext">OPTIONS FROM</span></code>. 
</li>
<li>
In a program called using <a href="../abapcall_dialog" class="blue"><code style="display: inline;"><span class="qtext">CALL DIALOG</span></code></a>,
<code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> does not trigger the processing of subroutines or function modules
registered using <a href="../abapperform_subr" class="blue"><code style="display: inline;"><span class="qtext">PERFORM ON COMMIT</span></code></a>
and <a href="../abapcall_function_update" class="blue"><span class="qtext">CALL FUNCTION ... IN UPDATE
TASK</span></a> and hence does not close the current SAP LUW. At the earliest, the SAP LUW can be closed by the statement <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> in the calling program. Only those
<a href="../abenbg_remote_function_glosry" class="grey" title="Glossary Entry">background remote function calls</a> or obsolete
<a href="../abentrfc_1_glosry" class="grey" title="Glossary Entry">transactional remote function calls</a>
registered using <a href="../abapcall_function_background_unit" class="blue"><span class="qtext">CALL
FUNCTION ... IN BACKGROUND UNIT</span></a> or <a href="../abapcall_function_background_task" class="blue"><code style="display: inline;"><span class="qtext">CALL FUNCTION ... IN BACKGROUND TASK</span></code></a> (which is obsolete) within a
<a href="../abendialog_module_object_glosry" class="grey" title="Glossary Entry">dialog module</a> are actually started here using <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code>. Any
<a href="../abenbgrfc_glosry" class="grey" title="Glossary Entry">bgRFCs</a>,
<a href="../abentrfc_2_glosry" class="grey" title="Glossary Entry">tRFCs</a>, or
<a href="../abenqrfc_glosry" class="grey" title="Glossary Entry">qRFCs</a> registered in a dialog module and not started there using <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> are not executed. 
</li>
<li>
The statement <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> cannot be executed in updates or in the execution of subroutines registered using <code style="display: inline;"><span class="qtext">PERFORM ... ON <i class="bn">{</i>COMMIT<i class="bn">|</i>ROLLBACK<i class="bn">}</i></span></code>. 
</li>
<li>
The statement <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> must not be executed in units or LUWs that are managed by background RFC calls
(<a href="../abenbgrfc_glosry" class="grey" title="Glossary Entry">bgRFC</a> and the (obsolete)
<a href="../abentrfc_2_glosry" class="grey" title="Glossary Entry">tRFC</a>, <a href="../abenqrfc_glosry" class="grey" title="Glossary Entry">qRFC</a>). <br>
</li>

</ul>

<h3 id="system-fields">System Fields</h3>
<table>
<thead>
<tr>
<th>sy-subrc</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>The addition <code style="display: inline;"><span class="qtext">AND WAIT</span></code> was specified and the update of the update function modules was successful.</td>
</tr>
<tr>
<td>4</td>
<td>The addition <code style="display: inline;"><span class="qtext">AND WAIT</span></code> was specified and the update of the update function modules was not successful.</td>
</tr>
</tbody>
</table>
<p>The statement <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> always sets <code style="display: inline;"><span class="qtext">sy-subrc</span></code> to 0 if the addition <code style="display: inline;"><span class="qtext">AND WAIT</span></code> is not specified.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
An SAP LUW not closed by <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> but by ending the current program or closing the
<a href="../abeninternal_session_glosry" class="grey" title="Glossary Entry">internal session</a> is
ignored by the registered procedures. Registered update function modules remain on the database but can no longer be executed.
</li>

<li>
The statement <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> closes all <a href="../abendatabase_cursor_glosry" class="grey" title="Glossary Entry">database cursors</a>. ABAP SQL statements that access a database cursor later
(<a href="../abapselect" class="blue"><code style="display: inline;"><span class="qtext">SELECT</span></code></a> loop and <a href="../abapfetch" class="blue"><code style="display: inline;"><span class="qtext">FETCH</span></code></a>) raise a non-handleable exception.
</li>

<li>
If a runtime error occurs in an <a href="../abenupdate_glosry" class="grey" title="Glossary Entry">update</a> triggered by a <code style="display: inline;"><span class="qtext">COMMIT</span></code>, the update work process executes a
<a href="../abendatabase_rollback_glosry" class="grey" title="Glossary Entry">database rollback</a>,
logs this in the corresponding database tables, and notifies the user whose entries created the entries by SAPMail. After the cause of the error has been resolved, the canceled entries can be updated again.
</li>

<li>
The statement <a href="../abapperform_subr" class="blue"><code style="display: inline;"><span class="qtext">PERFORM ... ON COMMIT</span></code></a>
can be executed in updates. The registered subprogram must be defined in the current function group and is then executed at the end of the current update.
</li>

<li>
<code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> also triggers a database commit in programs called using <a href="../abapcall_dialog" class="blue"><code style="display: inline;"><span class="qtext">CALL DIALOG</span></code></a>.
</li>

<li>
<code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> empties <a href="../abenddic_database_tables_gtt" class="blue">global temporary tables</a> of all currently open
<a href="../abendatabase_connection_glosry" class="grey" title="Glossary Entry">database connections</a> and prevents the runtime error COMMIT_GTT_ERROR in the case of implicit
<a href="../abendb_commit" class="blue">database commits</a>. <br>
</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Registers various <a href="../abenupdate_function_module_glosry" class="grey" title="Glossary Entry">update
function modules</a> using <a href="../abapcall_function_update" class="blue"><code style="display: inline;"><span class="qtext">CALL FUNCTION IN UPDATE TASK</span></code></a> and triggers a
<a href="../abensynchronous_update_glosry" class="grey" title="Glossary Entry">synchronous update</a> using <code style="display: inline;"><span class="qtext">COMMIT WORK AND WAIT</span></code>.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">CALL FUNCTION</span> <span class="s1">&#39;DEMO_UPDATE_DELETE&#39;</span> <span class="k">IN UPDATE TASK</span><span class="p">.</span> 

<span class="p">...</span> 

<span class="k">DATA</span><span class="p">(</span><span class="nv">values</span><span class="p">)</span> <span class="o">=</span> <span class="k">VALUE</span> <span class="nv">demo_update_tab</span><span class="p">(</span> 
  <span class="p">(</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span> <span class="nv">col1</span> <span class="o">=</span> <span class="mi">100</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">200</span> <span class="nv">col3</span> <span class="o">=</span> <span class="mi">300</span> <span class="nv">col4</span> <span class="o">=</span> <span class="mi">400</span> <span class="p">)</span> 
  <span class="p">(</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;Y&#39;</span> <span class="nv">col1</span> <span class="o">=</span> <span class="mi">110</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">210</span> <span class="nv">col3</span> <span class="o">=</span> <span class="mi">310</span> <span class="nv">col4</span> <span class="o">=</span> <span class="mi">410</span> <span class="p">)</span> 
  <span class="p">(</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;Z&#39;</span> <span class="nv">col1</span> <span class="o">=</span> <span class="mi">120</span> <span class="nv">col2</span> <span class="o">=</span> <span class="mi">220</span> <span class="nv">col3</span> <span class="o">=</span> <span class="mi">320</span> <span class="nv">col4</span> <span class="o">=</span> <span class="mi">420</span> <span class="p">)</span> <span class="p">).</span> 

<span class="k">CALL FUNCTION</span> <span class="s1">&#39;DEMO_UPDATE_INSERT&#39;</span> <span class="k">IN UPDATE TASK</span> 
  <span class="k">EXPORTING</span> 
    <span class="k">values</span> <span class="o">=</span> <span class="k">values</span><span class="p">.</span> 

<span class="p">...</span> 

<span class="k">COMMIT</span> <span class="nv">WORK</span> <span class="ow">AND</span> <span class="k">WAIT</span><span class="p">.</span> 
</code></pre></div>
</div></p>
<h3 id="executable-examples">Executable Examples</h3>
<ul>

<li><a href="../abensap_luw_update_task_abexa" class="blue">SAP LUW, <code style="display: inline;"><span class="qtext">UPDATE TASK</span></code></a></li>

<p></ul>
<ul></p>
<li><a href="../abensap_luw_on_commit_abexa" class="blue">SAP LUW, <code style="display: inline;"><span class="qtext">ON COMMIT</span></code></a> </li>

</ul>

<h3 id="exceptions">Exceptions</h3>
<h3 id="non-handleable-exceptions">Non-Handleable Exceptions</h3>
<ul>

<li>
<span class="italic">Cause:</span> <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> is not allowed within a <span class="qtext">
FORM</span> called using <a href="../abapperform" class="blue"><code style="display: inline;"><span class="qtext">PERFORM ... ON COMMIT</span></code></a>. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">COMMIT_IN_PERFORM_ON_COMMIT</span></code>
</li>

<li>
<span class="italic">Cause:</span> <code style="display: inline;"><span class="qtext">COMMIT WORK</span></code> is not allowed within the update. <br><span class="italic">Runtime error:</span> <code style="display: inline;"><span class="qtext">COMMIT_IN_POSTING</span></code> <br>
</li>

</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abapcollect_shortref/" title="COLLECT - Quick reference" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                COLLECT  - Quick reference
              </div>
            </div>
          </a>
        
        
          <a href="../abapcommit_connection_shortref/" title="COMMIT CONNECTION - Quick reference" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                COMMIT CONNECTION  - Quick reference
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>