


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Performance Notes for Individual Open SQL Statements - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#performance-notes-for-individual-open-sql-statements" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Performance Notes for Individual Open SQL Statements
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#select" class="md-nav__link">
    SELECT
  </a>
  
    <nav class="md-nav" aria-label="SELECT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#specification-of-the-resulting-set" class="md-nav__link">
    Specification of the  resulting set
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specification-of-the-target-area" class="md-nav__link">
    Specification of the target area
  </a>
  
    <nav class="md-nav" aria-label="Specification of the target area">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#specification-of-the-where-condition" class="md-nav__link">
    Specification of the WHERE condition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grouping-rows" class="md-nav__link">
    Grouping Rows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorting-rows" class="md-nav__link">
    Sorting Rows
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#insert-update-modify-delete" class="md-nav__link">
    INSERT, UPDATE, MODIFY, DELETE
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.31/abenopen_sql_performance.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="performance-notes-for-individual-open-sql-statements">Performance Notes for Individual Open SQL Statements</h1>
<p><b>7.31</b> <s><i>7.40</i></s> <s><i>7.54</i></s></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP - Database Accesses</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopensql" class="blue">Open SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopen_sql_oview" class="blue">Open SQL - Overview</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopen_sql_perfo" class="blue">Open SQL - Performance Notes</a>&#xA0;</small></p>
<h2 id="select">SELECT</h2>
<h3 id="specification-of-the-resulting-set">Specification of the  resulting set</h3>
<li>
If the additions <code style="display: inline;"><span class="qtext">SINGLE FOR UPDATE</span></code> and <code style="display: inline;"><span class="qtext">DISTINCT</span></code> are used,
<a href="../abensap_buffering_glosry" class="grey" title="Glossary Entry">SAP buffering</a> is skipped.

</li>

<li>
The addition <code style="display: inline;"><span class="qtext">DISTINCT</span></code> requires sorting in the database server and should therefore be specified only if you can expect duplicates.

</li>

<li>
If <a href="../abenaggregate_function_glosry" class="grey" title="Glossary Entry">aggregate functions</a> are specified,
<a href="../abensap_buffering_glosry" class="grey" title="Glossary Entry">SAP buffering</a> is skipped.

</li>

<li>
Since some database systems do not maintain the number of table rows in their catalog and therefore need to acquire these with a lot of effort, the function <span class="qtext">COUNT( *
)</span> is not a good one to check whether a table contains a row at all. For this purpose, it is best
to use <code style="display: inline;"><span class="qtext">SELECT f ... FROM tab UP TO 1 ROWS</span></code> for an arbitrary table field <code style="display: inline;"><span class="qtext">f</span></code>.

</li>

<li>
If only certain columns of a database table are selected, it is recommended that you specify a list of fields in the <code style="display: inline;"><span class="qtext">SELECT</span></code> clause, or use a
<a href="../abenview_glosry" class="grey" title="Glossary Entry">view</a>.

</li>

<p><a href="javascript:call_link(&apos;abapinto_clause.html&apos;)" class="blue">target area</a></p>
<h2 id="specification-of-the-target-area">Specification of the target area</h2>
<li>
Whether data should better be read into an internal table or a work area depends on the type of further
processing: If data is required only once in a program, it should be imported into a work area, row
by row, with a <code style="display: inline;"><span class="qtext">SELECT</span></code>-<code style="display: inline;"><span class="qtext">ENDSELECT</span></code> loop. Reading
data into an internal table requires more memory space (without the disadvantage) because of a considerably
higher reading speed. If, on the other hand, data is required many times in a program, it should be
read into an internal table. The disadvantage of the increased memory requirement is more than compensated for here through the advantage of a once-off selection.

</li>

<li>
If data is to be imported into an internal table, it is better to import it once into an internal table
than to put it, row by row, into a work area and then finally add it to an internal table using <code style="display: inline;"><span class="qtext">APPEND</span></code>.

</li>

<li>
The variants <code style="display: inline;"><span class="qtext"> ... INTO CORRESPONDING FIELDS OF wa</span></code>, <span class="qtext"> ...
INTO CORRESPONDING FIELDS OF TABLE itab</span>, and <span class="qtext"> ... APPENDING CORRESPONDING
FIELDS OF TABLE itab</span> require - in comparison to the respective variants without <span class="qtext">CORRESPONDING
FIELDS</span> - a longer runtime (a runtime, however, that is independent of the size of the solution set). It should therefore be avoided, if possible.

</li>

<h3 id="specification-of-the-where-condition">Specification of the WHERE condition</h3>
<li>
All conditions should be specified in the <code style="display: inline;"><span class="qtext">WHERE</span></code> clause. In this way, you
prevent data from being transported uselessly across the network and (for example, using <code style="display: inline;"><span class="qtext">CHECK</span></code>) having to be sorted again. <br>
</li>

<li>
For frequently used <code style="display: inline;"><span class="qtext">SELECT</span></code> statements, an
<a href="../abenindices" class="blue">index</a> should be created. In the <code style="display: inline;"><span class="qtext">WHERE</span></code>
clause, the fields of the index must be specified through a logical <code style="display: inline;"><span class="qtext">AND</span></code>,
linked with comparisons for equality. All the fields of an index that are behind a field for which a comparison other than <code style="display: inline;"><span class="qtext">EQ</span></code>
(<code style="display: inline;"><span class="qtext">=</span></code>) is specified in the <code style="display: inline;"><span class="qtext">WHERE</span></code> clause cannot be used for searching in the index. <br>
</li>

<li>
The logical <code style="display: inline;"><span class="qtext">NOT</span></code> in a <code style="display: inline;"><span class="qtext">WHERE</span></code> clause cannot be supported by an
<a href="../abenindices" class="blue">index</a>. For example, <code style="display: inline;"><span class="qtext">WHERE fldate &gt;= &apos;20010228&apos;</span></code> is better than <code style="display: inline;"><span class="qtext">WHERE NOT fldate &lt; &apos;20010228&apos;</span></code>.

</li>

<li>
The <a href="../abensap_buffering_glosry" class="grey" title="Glossary Entry">SAP buffer</a> does not
support the condition <a href="../abenwhere_logexp_null" class="blue"><code style="display: inline;"><span class="qtext">IS NULL</span></code></a>.
Therefore, each <code style="display: inline;"><span class="qtext">SELECT</span></code> command on a buffered table or a view with fields
from buffered tables, where the command contains <code style="display: inline;"><span class="qtext">... WHERE f IS [NOT] NULL</span></code>,
behaves as if the addition <code style="display: inline;"><span class="qtext">BYPASSING BUFFER</span></code> were specified in the <a href="../abapfrom_clause" class="blue"><code style="display: inline;"><span class="qtext">FROM</span></code>clause</a>.

</li>

<li>
With the <a href="../abenwhere_logexp_dynamic" class="blue">dynamic specification</a> of a condition,
the syntax check can take place only at runtime. Therefore, the specification of a logical condition at runtime needs more execution time than a corresponding specification in the program text. <br>
</li>

<li>
Searching for variable names in the runtime environment requires a lot of effort. If an ABAP variable is used as a value, the definition of these variables should take place with the
<a href="../abenwhere_logexp_dynamic" class="blue">dynamic specification</a> of a condition - if possible, in the current context. .

</li>

<h3 id="grouping-rows">Grouping Rows</h3>
<p>If <a href="../abenaggregate_glosry" class="grey" title="Glossary Entry">aggregates</a> and groups are created already in the database system and not later by the
<a href="../abenapplication_server_glosry" class="grey" title="Glossary Entry">application server</a>,
this can considerably reduce the data quantity that needs to be transported from the database to the application server.  </p>
<h3 id="sorting-rows">Sorting Rows</h3>
<li>
In contrast to <code style="display: inline;"><span class="qtext">... ORDER BY PRIMARY KEY</span></code>, <code style="display: inline;"><span class="qtext">... ORDER BY f1 f2 ...</span></code> is not automatically supported by a (sorted)
<a href="../abenindices" class="blue">index</a>. Without a corresponding index, the resulting set must
be sorted at runtime. On the basis of SAP architecture, this should not take place on the database server,
but on the application server. If it is not appropriate to create a corresponding index, the resulting
set should therefore not be sorted on the database server using <span class="qtext">... ORDER BY f1
f2 ...</span>, but on the application server using <a href="../abapsort_itab" class="blue"><code style="display: inline;"><span class="qtext">SORT</span></code></a>. <br>
</li>

<li>
In the case of larger datasets, the variant <code style="display: inline;"><span class="qtext">... ORDER BY f1 f2 ...</span></code> should only be used if the sequence of database fields <code style="display: inline;"><span class="qtext">f1 f2 ...</span></code> corresponds exactly to the sequence of an
<a href="../abenindices" class="blue">index</a>. <br>
</li>

<li>
In contrast to <code style="display: inline;"><span class="qtext">... ORDER BY PRIMARY KEY</span></code>, <code style="display: inline;"><span class="qtext">... ORDER BY f1 f2 ...</span></code> skips the
<a href="../abensap_buffering_glosry" class="grey" title="Glossary Entry">SAP table buffering</a>.

</li>

<h2 id="insert-update-modify-delete">INSERT, UPDATE, MODIFY, DELETE</h2>
<p>If several rows of a database table are to be changed, quantity accesses generally give better performance than individual accesses.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abenopen_sql_perfo/" title="Open SQL - Performance Notes" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Open SQL - Performance Notes
              </div>
            </div>
          </a>
        
        
          <a href="../abenopen_sql_reading/" title="Open SQL - Read Accesses" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Open SQL - Read Accesses
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>