


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Screens, CFW - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#screens-cfw" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Screens, CFW
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#source-code" class="md-nav__link">
    Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.31/abendynpro_cfw_abexa.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="screens-cfw">Screens, CFW</h1>
<p>The example illustrates the use of different GUI controls on a screen.</p>
<p><b>7.31</b> <a href="../abendynpro_cfw_abexa">7.40</a> <a href="../abendynpro_cfw_abexa">7.54</a></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_screens" class="blue">User Dialogs</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_dynpros" class="blue">Screens</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_dynpros_screen" class="blue">Screen and Screen Elements</a>&#xA0;&#x2192;&#xA0;
<a href="../abenscreen_elements_abexas" class="blue">Screen Elements - Examples</a>&#xA0;</small></p>
<h2 id="source-code">Source Code</h2>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;*&amp;---------------------------------------------------------------------*&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;*&amp; Report  demo_cfw                                                  *&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;*&amp;---------------------------------------------------------------------*&lt;/span&gt;</span>

<span class="k">REPORT</span> <span class="nv">demo_cfw</span><span class="p">.</span>

<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;*&amp;---------------------------------------------------------------------*&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;*&amp; Global Declarations                                               *&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;*&amp;---------------------------------------------------------------------*&lt;/span&gt;</span>

<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;* Class Definitions&lt;/span&gt;</span>

<span class="k">CLASS</span> <span class="nv">screen_handler</span> <span class="k">DEFINITION</span> <span class="k">CREATE PRIVATE</span><span class="p">.</span>
  <span class="k">PUBLIC SECTION</span><span class="p">.</span>
    <span class="k">CLASS-DATA</span> <span class="nv">screen</span> <span class="k">TYPE REF TO</span> <span class="nv">screen_handler</span><span class="p">.</span>
    <span class="k">CLASS-METHODS</span> <span class="nv">create_screen</span><span class="p">.</span>
    <span class="k">METHODS</span> <span class="nv">constructor</span><span class="p">.</span>
  <span class="k">PRIVATE SECTION</span><span class="p">.</span>
    <span class="k">DATA</span><span class="p">:</span> <span class="nv">container_html</span>  <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_custom_container</span><span class="p">,</span>
          <span class="nv">container_box</span>   <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_dialogbox_container</span><span class="p">,</span>
          <span class="nv">picture</span>         <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_picture</span><span class="p">,</span>
          <span class="nv">tree</span>            <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_simple_tree</span><span class="p">,</span>
          <span class="nv">html_viewer</span>     <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_html_viewer</span><span class="p">,</span>
          <span class="nv">list_viewer</span>     <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_alv_grid</span><span class="p">.</span>
    <span class="k">METHODS</span><span class="p">:</span> <span class="nv">fill_tree</span><span class="p">,</span>
             <span class="nv">fill_picture</span><span class="p">,</span>
             <span class="nv">handle_node_double_click</span>
               <span class="k">FOR EVENT</span> <span class="nv">node_double_click</span> <span class="k">OF</span> <span class="nv">cl_gui_simple_tree</span>
               <span class="k">IMPORTING</span> <span class="nv">node_key</span><span class="p">,</span>
             <span class="nv">close_box</span>
               <span class="k">FOR EVENT</span> <span class="nv">close</span> <span class="k">OF</span> <span class="nv">cl_gui_dialogbox_container</span><span class="p">,</span>
             <span class="nv">fill_html</span> <span class="k">IMPORTING</span> <span class="nv">i_carrid</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span><span class="p">,</span>
             <span class="nv">fill_list</span> <span class="k">IMPORTING</span> <span class="nv">i_carrid</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span>
                                <span class="nv">i_connid</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">connid</span><span class="p">.</span>
<span class="k">ENDCLASS</span><span class="p">.</span>                    <span class="c1">&quot;screen_handler DEFINITION</span>

<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;* Class Implementations&lt;/span&gt;</span>

<span class="k">CLASS</span> <span class="nv">screen_handler</span> <span class="k">IMPLEMENTATION</span><span class="p">.</span>

  <span class="k">METHOD</span> <span class="nf">create_screen</span><span class="p">.</span>
    <span class="k">IF</span> <span class="nv">screen</span> <span class="ow">IS INITIAL</span><span class="p">.</span>
      <span class="k">CREATE OBJECT</span> <span class="nv">screen</span><span class="p">.</span>
    <span class="k">ENDIF</span><span class="p">.</span>
  <span class="k">ENDMETHOD</span><span class="p">.</span>                    <span class="c1">&quot;create_screen</span>

  <span class="k">METHOD</span> <span class="nf">constructor</span><span class="p">.</span>
    <span class="k">DATA</span><span class="p">:</span> <span class="nv">l_event_tab</span>        <span class="k">TYPE </span><span class="nv">cntl_simple_events</span><span class="p">,</span>
          <span class="nv">l_event</span>            <span class="k">LIKE LINE OF</span> <span class="nv">l_event_tab</span><span class="p">,</span>
          <span class="nv">l_docking</span>          <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_docking_container</span><span class="p">,</span>
          <span class="nv">l_splitter</span>         <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_splitter_container</span><span class="p">,</span>
          <span class="nv">l_container_screen</span> <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_custom_container</span><span class="p">,</span>
          <span class="nv">l_container_top</span>    <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_container</span><span class="p">,</span>
          <span class="nv">l_container_bottom</span> <span class="k">TYPE REF TO</span> <span class="nv">cl_gui_container</span><span class="p">.</span>

    <span class="k">CREATE OBJECT</span> <span class="nv">container_html</span>
           <span class="k">EXPORTING</span> <span class="nv">container_name</span> <span class="o">=</span> <span class="s1">&#39;CUSTOM_CONTROL&#39;</span><span class="p">.</span>

    <span class="k">CREATE OBJECT</span> <span class="nv">l_docking</span>
           <span class="k">EXPORTING</span> <span class="nv">side</span> <span class="o">=</span> <span class="nv">cl_gui_docking_container</span><span class="o">=&gt;</span><span class="nv">dock_at_left</span>
                     <span class="nv">extension</span> <span class="o">=</span> <span class="mi">135</span><span class="p">.</span>

    <span class="k">CREATE OBJECT</span> <span class="nv">l_splitter</span>
           <span class="k">EXPORTING</span> <span class="nv">parent</span> <span class="o">=</span> <span class="nv">l_docking</span>
                     <span class="nv">rows</span> <span class="o">=</span> <span class="mi">2</span>
                     <span class="nv">columns</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span>

    <span class="nv">l_splitter</span><span class="o">-&gt;</span><span class="nf">set_border</span><span class="p">(</span>
         <span class="k">EXPORTING</span> <span class="nv">border</span> <span class="o">=</span> <span class="nv">cl_gui_cfw</span><span class="o">=&gt;</span><span class="nv">false</span> <span class="p">).</span>

    <span class="nv">l_splitter</span><span class="o">-&gt;</span><span class="nf">set_row_mode</span><span class="p">(</span>
         <span class="k">EXPORTING</span> <span class="nv">mode</span> <span class="o">=</span> <span class="nv">l_splitter</span><span class="o">-&gt;</span><span class="nv">mode_absolute</span> <span class="p">).</span>

    <span class="nv">l_splitter</span><span class="o">-&gt;</span><span class="nf">set_row_height</span><span class="p">(</span>
         <span class="k">EXPORTING</span> <span class="k">id</span> <span class="o">=</span> <span class="mi">1</span>
                   <span class="nv">height</span> <span class="o">=</span> <span class="mi">180</span> <span class="p">).</span>

    <span class="nv">l_container_top</span>    <span class="o">=</span>
      <span class="nv">l_splitter</span><span class="o">-&gt;</span><span class="nf">get_container</span><span class="p">(</span> <span class="nv">row</span> <span class="o">=</span> <span class="mi">1</span> <span class="nv">column</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">).</span>
    <span class="nv">l_container_bottom</span> <span class="o">=</span>
      <span class="nv">l_splitter</span><span class="o">-&gt;</span><span class="nf">get_container</span><span class="p">(</span> <span class="nv">row</span> <span class="o">=</span> <span class="mi">2</span> <span class="nv">column</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">).</span>

    <span class="k">CREATE OBJECT</span> <span class="nv">picture</span>
           <span class="k">EXPORTING</span> <span class="nv">parent</span> <span class="o">=</span> <span class="nv">l_container_top</span><span class="p">.</span>

    <span class="k">CREATE OBJECT</span> <span class="nv">tree</span>
           <span class="k">EXPORTING</span> <span class="nv">parent</span> <span class="o">=</span> <span class="nv">l_container_bottom</span>
                     <span class="nv">node_selection_mode</span> <span class="o">=</span>
                       <span class="nv">cl_gui_simple_tree</span><span class="o">=&gt;</span><span class="nv">node_sel_mode_single</span><span class="p">.</span>

    <span class="nv">l_event</span><span class="o">-</span><span class="nv">eventid</span> <span class="o">=</span> <span class="nv">cl_gui_simple_tree</span><span class="o">=&gt;</span><span class="nv">eventid_node_double_click</span><span class="p">.</span>
    <span class="nv">l_event</span><span class="o">-</span><span class="nv">appl_event</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">.</span>   <span class="c1">&quot;system event, does not trigger PAI</span>
    <span class="k">APPEND</span> <span class="nv">l_event</span> <span class="k">TO</span> <span class="nv">l_event_tab</span><span class="p">.</span>
    <span class="nv">tree</span><span class="o">-&gt;</span><span class="nf">set_registered_events</span><span class="p">(</span>
         <span class="k">EXPORTING</span> <span class="k">events</span> <span class="o">=</span> <span class="nv">l_event_tab</span> <span class="p">).</span>
    <span class="k">SET HANDLER</span> <span class="nv">me</span><span class="o">-&gt;</span><span class="nv">handle_node_double_click</span> <span class="k">FOR</span> <span class="nv">tree</span><span class="p">.</span>

    <span class="nv">me</span><span class="o">-&gt;</span><span class="nf">fill_picture</span><span class="p">(</span> <span class="p">).</span>
    <span class="nv">me</span><span class="o">-&gt;</span><span class="nf">fill_tree</span><span class="p">(</span> <span class="p">).</span>
  <span class="k">ENDMETHOD</span><span class="p">.</span>                    <span class="c1">&quot;constructor</span>

  <span class="k">METHOD</span> <span class="nf">fill_picture</span><span class="p">.</span>
    <span class="k">TYPES</span> <span class="nv">pict_line</span> <span class="k">TYPE </span><span class="nv">x</span> <span class="k">LENGTH</span> <span class="mi">1022</span><span class="p">.</span>
    <span class="k">DATA</span> <span class="nv">l_mime_api</span>   <span class="k">TYPE REF TO</span> <span class="nv">if_mr_api</span><span class="p">.</span>
    <span class="k">DATA</span> <span class="nv">l_pict_wa</span>    <span class="k">TYPE </span><span class="nv">xstring</span><span class="p">.</span>
    <span class="k">DATA</span> <span class="nv">l_pict_tab</span>   <span class="k">TYPE TABLE OF</span> <span class="nv">pict_line</span><span class="p">.</span>
    <span class="k">DATA</span> <span class="nv">l_length</span>     <span class="k">TYPE </span><span class="nv">i</span><span class="p">.</span>
    <span class="k">DATA</span> <span class="nv">l_url</span>        <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">255</span><span class="p">.</span>

    <span class="nv">l_mime_api</span> <span class="o">=</span> <span class="nv">cl_mime_repository_api</span><span class="o">=&gt;</span><span class="nf">get_api</span><span class="p">(</span> <span class="p">).</span>

    <span class="nv">l_mime_api</span><span class="o">-&gt;</span><span class="nf">get</span><span class="p">(</span>
      <span class="k">EXPORTING</span> <span class="nv">i_url</span> <span class="o">=</span> <span class="s1">&#39;/SAP/PUBLIC/BC/ABAP/Sources/PLANE.GIF&#39;</span>
      <span class="k">IMPORTING</span> <span class="nv">e_content</span> <span class="o">=</span> <span class="nv">l_pict_wa</span>
      <span class="k">EXCEPTIONS</span> <span class="k">OTHERS</span> <span class="o">=</span> <span class="mi">4</span> <span class="p">).</span>

    <span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">.</span>
      <span class="k">RETURN</span><span class="p">.</span>
    <span class="k">ENDIF</span><span class="p">.</span>

    <span class="nv">l_length</span> <span class="o">=</span> <span class="nv">XSTRLEN</span><span class="p">(</span> <span class="nv">l_pict_wa</span> <span class="p">).</span>
    <span class="k">WHILE</span> <span class="nv">l_length</span> <span class="o">&gt;=</span> <span class="mi">1022</span><span class="p">.</span>
      <span class="k">APPEND</span> <span class="nv">l_pict_wa</span><span class="p">(</span><span class="mi">1022</span><span class="p">)</span> <span class="k">TO</span> <span class="nv">l_pict_tab</span><span class="p">.</span>
      <span class="k">SHIFT</span> <span class="nv">l_pict_wa</span> <span class="nv">BY</span> <span class="mi">1022</span> <span class="nv">PLACES</span> <span class="nv">LEFT</span> <span class="k">IN BYTE MODE</span><span class="p">.</span>
      <span class="nv">l_length</span> <span class="o">=</span> <span class="nv">XSTRLEN</span><span class="p">(</span> <span class="nv">l_pict_wa</span> <span class="p">).</span>
    <span class="k">ENDWHILE</span><span class="p">.</span>
    <span class="k">IF</span> <span class="nv">l_length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">.</span>
      <span class="k">APPEND</span> <span class="nv">l_pict_wa</span> <span class="k">TO</span> <span class="nv">l_pict_tab</span><span class="p">.</span>
    <span class="k">ENDIF</span><span class="p">.</span>

    <span class="k">CALL FUNCTION</span> <span class="s1">&#39;DP_CREATE_URL&#39;</span>
      <span class="k">EXPORTING</span>
        <span class="nv">type</span>    <span class="o">=</span> <span class="s1">&#39;IMAGE&#39;</span>
        <span class="nv">subtype</span> <span class="o">=</span> <span class="s1">&#39;GIF&#39;</span>
      <span class="k">TABLES</span>
        <span class="k">data</span>    <span class="o">=</span> <span class="nv">l_pict_tab</span>
      <span class="k">CHANGING</span>
        <span class="nv">url</span>     <span class="o">=</span> <span class="nv">l_url</span><span class="p">.</span>

    <span class="nv">picture</span><span class="o">-&gt;</span><span class="nf">load_picture_from_url</span><span class="p">(</span>
         <span class="k">EXPORTING</span> <span class="nv">url</span> <span class="o">=</span> <span class="nv">l_url</span> <span class="p">).</span>
    <span class="nv">picture</span><span class="o">-&gt;</span><span class="nf">set_display_mode</span><span class="p">(</span>
         <span class="k">EXPORTING</span> <span class="nv">display_mode</span> <span class="o">=</span> <span class="nv">picture</span><span class="o">-&gt;</span><span class="nv">display_mode_stretch</span> <span class="p">).</span>
  <span class="k">ENDMETHOD</span><span class="p">.</span>                    <span class="c1">&quot;fill_picture</span>

  <span class="k">METHOD</span> <span class="nf">fill_tree</span><span class="p">.</span>
    <span class="k">DATA</span><span class="p">:</span> <span class="nv">l_node_table</span> <span class="k">TYPE TABLE OF</span> <span class="nv">abdemonode</span><span class="p">,</span>
          <span class="nv">l_node</span> <span class="k">TYPE </span><span class="nv">abdemonode</span><span class="p">,</span>
          <span class="k">BEGIN OF</span> <span class="nv">l_spfli</span><span class="p">,</span>
            <span class="nv">carrid</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span><span class="p">,</span>
            <span class="nv">connid</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">connid</span><span class="p">,</span>
          <span class="k">END OF</span> <span class="nv">l_spfli</span><span class="p">,</span>
          <span class="nv">l_spfli_tab</span> <span class="k">LIKE SORTED TABLE OF</span> <span class="nv">l_spfli</span>
                      <span class="k">WITH UNIQUE KEY</span> <span class="nv">carrid</span> <span class="nv">connid</span><span class="p">.</span>

    <span class="k">SELECT</span> <span class="nv">carrid</span> <span class="nv">connid</span>
      <span class="k">FROM</span> <span class="nv">spfli</span>
      <span class="k">INTO</span> <span class="k">CORRESPONDING FIELDS OF</span> <span class="k">TABLE</span> <span class="nv">l_spfli_tab</span><span class="p">.</span>

    <span class="nv">l_node</span><span class="o">-</span><span class="nv">hidden</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">.</span>               <span class="c1">&quot; All nodes are visible,</span>
    <span class="nv">l_node</span><span class="o">-</span><span class="nv">disabled</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">.</span>             <span class="c1">&quot; selectable,</span>
    <span class="nv">l_node</span><span class="o">-</span><span class="nv">isfolder</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">.</span>             <span class="c1">&quot; a folder,</span>
    <span class="nv">l_node</span><span class="o">-</span><span class="nv">expander</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">.</span>             <span class="c1">&quot; have no &#39;+&#39; sign for expansion.</span>

    <span class="k">LOOP AT </span><span class="nv">l_spfli_tab</span> <span class="k">INTO</span> <span class="nv">l_spfli</span><span class="p">.</span>
      <span class="k">AT NEW</span> <span class="nv">carrid</span><span class="p">.</span>
        <span class="nv">l_node</span><span class="o">-</span><span class="nv">node_key</span> <span class="o">=</span> <span class="nv">l_spfli</span><span class="o">-</span><span class="nv">carrid</span><span class="p">.</span>
        <span class="k">CLEAR</span> <span class="nv">l_node</span><span class="o">-</span><span class="nv">relatkey</span><span class="p">.</span>
        <span class="k">CLEAR</span> <span class="nv">l_node</span><span class="o">-</span><span class="nv">relatship</span><span class="p">.</span>
        <span class="nv">l_node</span><span class="o">-</span><span class="nv">text</span> <span class="o">=</span> <span class="nv">l_spfli</span><span class="o">-</span><span class="nv">carrid</span><span class="p">.</span>
        <span class="nv">l_node</span><span class="o">-</span><span class="nv">n_image</span> <span class="o">=</span>   <span class="s1">&#39; &#39;</span><span class="p">.</span>
        <span class="nv">l_node</span><span class="o">-</span><span class="nv">exp_image</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">.</span>
        <span class="k">APPEND</span> <span class="nv">l_node</span> <span class="k">TO</span> <span class="nv">l_node_table</span><span class="p">.</span>
      <span class="k">ENDAT</span><span class="p">.</span>
      <span class="k">AT NEW</span> <span class="nv">connid</span><span class="p">.</span>
        <span class="nv">l_node</span><span class="o">-</span><span class="nv">node_key</span> <span class="o">=</span> <span class="nv">l_spfli</span><span class="o">-</span><span class="nv">carrid</span> <span class="o">&amp;&amp;</span> <span class="nv">l_spfli</span><span class="o">-</span><span class="nv">connid</span><span class="p">.</span>
        <span class="nv">l_node</span><span class="o">-</span><span class="nv">relatkey</span> <span class="o">=</span> <span class="nv">l_spfli</span><span class="o">-</span><span class="nv">carrid</span><span class="p">.</span>
        <span class="nv">l_node</span><span class="o">-</span><span class="nv">relatship</span> <span class="o">=</span> <span class="nv">cl_gui_simple_tree</span><span class="o">=&gt;</span><span class="nv">relat_last_child</span><span class="p">.</span>
        <span class="nv">l_node</span><span class="o">-</span><span class="nv">text</span> <span class="o">=</span> <span class="nv">l_spfli</span><span class="o">-</span><span class="nv">connid</span><span class="p">.</span>
        <span class="nv">l_node</span><span class="o">-</span><span class="nv">n_image</span> <span class="o">=</span>   <span class="s1">&#39;@AV@&#39;</span><span class="p">.</span>     <span class="c1">&quot;AV is the internal code</span>
        <span class="nv">l_node</span><span class="o">-</span><span class="nv">exp_image</span> <span class="o">=</span> <span class="s1">&#39;@AV@&#39;</span><span class="p">.</span>     <span class="c1">&quot;for an airplane icon</span>
      <span class="k">ENDAT</span><span class="p">.</span>
      <span class="k">APPEND</span> <span class="nv">l_node</span> <span class="k">TO</span> <span class="nv">l_node_table</span><span class="p">.</span>
    <span class="k">ENDLOOP</span><span class="p">.</span>

    <span class="nv">tree</span><span class="o">-&gt;</span><span class="nf">add_nodes</span><span class="p">(</span>
         <span class="k">EXPORTING</span> <span class="nv">table_structure_name</span> <span class="o">=</span> <span class="s1">&#39;ABDEMONODE&#39;</span>
                   <span class="nv">node_table</span> <span class="o">=</span> <span class="nv">l_node_table</span> <span class="p">).</span>
  <span class="k">ENDMETHOD</span><span class="p">.</span>                    <span class="c1">&quot;fill_tree</span>

  <span class="k">METHOD</span> <span class="nf">handle_node_double_click</span><span class="p">.</span>
    <span class="k">DATA</span><span class="p">:</span> <span class="nv">l_carrid</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">carrid</span><span class="p">,</span>
          <span class="nv">l_connid</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">connid</span><span class="p">.</span>

    <span class="nv">l_carrid</span> <span class="o">=</span> <span class="nv">node_key</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span>
    <span class="nv">l_connid</span> <span class="o">=</span> <span class="nv">node_key</span><span class="o">+</span><span class="mi">2</span><span class="p">(</span><span class="mi">4</span><span class="p">).</span>
    <span class="k">IF</span> <span class="nv">l_connid</span> <span class="ow">IS INITIAL</span><span class="p">.</span>
      <span class="nv">fill_html</span><span class="p">(</span> <span class="k">EXPORTING</span> <span class="nv">i_carrid</span> <span class="o">=</span> <span class="nv">l_carrid</span> <span class="p">).</span>
    <span class="k">ELSE</span><span class="p">.</span>
      <span class="nv">fill_list</span><span class="p">(</span> <span class="k">EXPORTING</span> <span class="nv">i_carrid</span> <span class="o">=</span> <span class="nv">l_carrid</span>
                           <span class="nv">i_connid</span> <span class="o">=</span> <span class="nv">l_connid</span> <span class="p">).</span>
    <span class="k">ENDIF</span><span class="p">.</span>
  <span class="k">ENDMETHOD</span><span class="p">.</span>                    <span class="c1">&quot;handle_node_double_click</span>

  <span class="k">METHOD</span> <span class="nf">fill_html</span><span class="p">.</span>
    <span class="k">DATA</span> <span class="nv">l_url</span> <span class="k">TYPE </span><span class="nv">scarr</span><span class="o">-</span><span class="nv">url</span><span class="p">.</span>

    <span class="k">IF</span> <span class="nv">html_viewer</span> <span class="ow">IS INITIAL</span><span class="p">.</span>
      <span class="k">CREATE OBJECT</span> <span class="nv">html_viewer</span>
             <span class="k">EXPORTING</span> <span class="nv">parent</span> <span class="o">=</span> <span class="nv">container_html</span><span class="p">.</span>
    <span class="k">ENDIF</span><span class="p">.</span>

    <span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="nv">url</span>
    <span class="k">FROM</span>   <span class="nv">scarr</span>
    <span class="k">INTO</span>   <span class="nv">l_url</span>
    <span class="k">WHERE</span>  <span class="nv">carrid</span> <span class="o">=</span> <span class="nv">i_carrid</span><span class="p">.</span>

    <span class="nv">html_viewer</span><span class="o">-&gt;</span><span class="nf">show_url</span><span class="p">(</span>
         <span class="k">EXPORTING</span> <span class="nv">url</span> <span class="o">=</span> <span class="nv">l_url</span> <span class="p">).</span>
  <span class="k">ENDMETHOD</span><span class="p">.</span>                    <span class="c1">&quot;fill_html</span>

  <span class="k">METHOD</span> <span class="nf">fill_list</span><span class="p">.</span>
    <span class="k">DATA</span><span class="p">:</span> <span class="nv">l_flight_tab</span> <span class="k">TYPE TABLE OF</span> <span class="nv">demofli</span><span class="p">,</span>
          <span class="k">BEGIN OF</span> <span class="nv">l_flight_title</span><span class="p">,</span>
            <span class="nv">carrname</span> <span class="k">TYPE </span><span class="nv">scarr</span><span class="o">-</span><span class="nv">carrname</span><span class="p">,</span>
            <span class="nv">cityfrom</span> <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">cityfrom</span><span class="p">,</span>
            <span class="nv">cityto</span>   <span class="k">TYPE </span><span class="nv">spfli</span><span class="o">-</span><span class="nv">cityto</span><span class="p">,</span>
          <span class="k">END OF</span> <span class="nv">l_flight_title</span><span class="p">,</span>
          <span class="nv">l_list_layout</span> <span class="k">TYPE </span><span class="nv">lvc_s_layo</span><span class="p">.</span>

    <span class="k">IF</span> <span class="nv">container_box</span> <span class="ow">IS INITIAL</span><span class="p">.</span>
      <span class="k">CREATE OBJECT</span> <span class="nv">container_box</span>
             <span class="k">EXPORTING</span> <span class="k">width</span>  <span class="o">=</span> <span class="mi">250</span>
                       <span class="nv">height</span> <span class="o">=</span> <span class="mi">200</span>
                       <span class="nv">top</span>    <span class="o">=</span> <span class="mi">100</span>
                       <span class="nv">left</span>   <span class="o">=</span> <span class="mi">400</span>
                       <span class="nv">caption</span> <span class="o">=</span> <span class="s1">&#39;Flight List&#39;</span><span class="p">.</span>
      <span class="k">SET HANDLER</span> <span class="nv">close_box</span> <span class="k">FOR</span> <span class="nv">container_box</span><span class="p">.</span>
      <span class="k">CREATE OBJECT</span> <span class="nv">list_viewer</span>
             <span class="k">EXPORTING</span> <span class="nv">i_parent</span> <span class="o">=</span> <span class="nv">container_box</span><span class="p">.</span>
    <span class="k">ENDIF</span><span class="p">.</span>

    <span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="nv">c~carrname</span> <span class="nv">p~cityfrom</span> <span class="nv">p~cityto</span>
    <span class="k">INTO</span>   <span class="k">CORRESPONDING FIELDS OF</span> <span class="nv">l_flight_title</span>
    <span class="k">FROM</span>   <span class="p">(</span> <span class="nv">scarr</span> <span class="k">AS</span> <span class="nv">c</span>
             <span class="nv">INNER</span> <span class="k">JOIN</span> <span class="nv">spfli</span>   <span class="k">AS</span> <span class="nv">p</span> <span class="k">ON</span> <span class="nv">c~carrid</span> <span class="o">=</span> <span class="nv">p~carrid</span> <span class="p">)</span>
    <span class="k">WHERE</span>  <span class="nv">p~carrid</span> <span class="o">=</span> <span class="nv">i_carrid</span> <span class="ow">AND</span>
           <span class="nv">p~connid</span> <span class="o">=</span> <span class="nv">i_connid</span><span class="p">.</span>

    <span class="k">SELECT</span>   <span class="nv">fldate</span> <span class="nv">seatsmax</span> <span class="nv">seatsocc</span>
    <span class="k">INTO</span>     <span class="k">CORRESPONDING FIELDS OF</span> <span class="k">TABLE</span> <span class="nv">l_flight_tab</span>
    <span class="k">FROM</span>     <span class="nv">sflight</span>
    <span class="k">WHERE</span>    <span class="nv">carrid</span> <span class="o">=</span> <span class="nv">i_carrid</span> <span class="ow">AND</span> <span class="nv">connid</span> <span class="o">=</span> <span class="nv">i_connid</span>
    <span class="k">ORDER BY</span> <span class="nv">fldate</span><span class="p">.</span>

    <span class="nv">l_list_layout</span><span class="o">-</span><span class="nv">grid_title</span> <span class="o">=</span> <span class="nv">l_flight_title</span><span class="o">-</span><span class="nv">carrname</span> <span class="o">&amp;&amp;</span> <span class="s1">` `</span> <span class="o">&amp;&amp;</span>
                              <span class="nv">i_connid</span>                <span class="o">&amp;&amp;</span> <span class="s1">` `</span> <span class="o">&amp;&amp;</span>
                              <span class="nv">l_flight_title</span><span class="o">-</span><span class="nv">cityfrom</span> <span class="o">&amp;&amp;</span> <span class="s1">` `</span> <span class="o">&amp;&amp;</span>
                               <span class="nv">l_flight_title</span><span class="o">-</span><span class="nv">cityto</span><span class="p">.</span>

    <span class="nv">l_list_layout</span><span class="o">-</span><span class="nv">smalltitle</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">.</span>    <span class="c1">&quot;The list title has small fonts,</span>
    <span class="nv">l_list_layout</span><span class="o">-</span><span class="nv">cwidth_opt</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">.</span>    <span class="c1">&quot;the column width is adjusted,</span>
    <span class="nv">l_list_layout</span><span class="o">-</span><span class="nv">no_toolbar</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">.</span>    <span class="c1">&quot;the toolbar is suppressed.</span>

    <span class="nv">list_viewer</span><span class="o">-&gt;</span><span class="nf">set_table_for_first_display</span><span class="p">(</span>
         <span class="k">EXPORTING</span> <span class="nv">i_structure_name</span> <span class="o">=</span> <span class="s1">&#39;DEMOFLI&#39;</span>
                   <span class="nv">is_layout</span>        <span class="o">=</span> <span class="nv">l_list_layout</span>
         <span class="k">CHANGING</span>  <span class="nv">it_outtab</span>        <span class="o">=</span> <span class="nv">l_flight_tab</span> <span class="p">).</span>
  <span class="k">ENDMETHOD</span><span class="p">.</span>                    <span class="c1">&quot;fill_list</span>

  <span class="k">METHOD</span> <span class="nf">close_box</span><span class="p">.</span>
    <span class="nv">list_viewer</span><span class="o">-&gt;</span><span class="nf">free</span><span class="p">(</span> <span class="p">).</span>
    <span class="nv">container_box</span><span class="o">-&gt;</span><span class="nf">free</span><span class="p">(</span> <span class="p">).</span>
    <span class="k">CLEAR</span><span class="p">:</span> <span class="nv">list_viewer</span><span class="p">,</span>
           <span class="nv">container_box</span><span class="p">.</span>
  <span class="k">ENDMETHOD</span><span class="p">.</span>                    <span class="c1">&quot;close_box</span>

<span class="k">ENDCLASS</span><span class="p">.</span>                    <span class="c1">&quot;screen_handler IMPLEMENTATION</span>

<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;*&amp;---------------------------------------------------------------------*&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;*&amp; Processing Blocks called by the Runtime Environment                 *&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;*&amp;---------------------------------------------------------------------*&lt;/span&gt;</span>

<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;* Event Block START-OF-SELECTION&lt;/span&gt;</span>

<span class="k">START-OF-SELECTION</span><span class="p">.</span>
  <span class="k">CALL SCREEN</span> <span class="mi">100</span><span class="p">.</span>

<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;* Dialog Module PBO&lt;/span&gt;</span>

<span class="k">MODULE</span> <span class="nf">status_0100</span> <span class="k">OUTPUT</span><span class="p">.</span>
  <span class="k">SET PF-STATUS</span> <span class="s1">&#39;SCREEN_100&#39;</span><span class="p">.</span>
  <span class="k">SET TITLEBAR</span> <span class="s1">&#39;TIT_100&#39;</span><span class="p">.</span>
  <span class="nv">screen_handler</span><span class="o">=&gt;</span><span class="nf">create_screen</span><span class="p">(</span> <span class="p">).</span>
<span class="k">ENDMODULE</span><span class="p">.</span>                    <span class="c1">&quot;status_0100 OUTPUT</span>

<span class="o">&lt;</span><span class="nv">span</span> <span class="k">class</span><span class="o">=</span><span class="c1">&quot;blue&quot;&gt;* Dialog Module PAI&lt;/span&gt;</span>

<span class="k">MODULE</span> <span class="nf">cancel</span> <span class="k">INPUT</span><span class="p">.</span>
  <span class="k">LEAVE</span> <span class="k">PROGRAM</span><span class="p">.</span>
<span class="k">ENDMODULE</span><span class="p">.</span>                    <span class="c1">&quot;cancel INPUT</span>
</code></pre></div>

<h2 id="description">Description</h2>
<p>On the screen layout of screen 100 is a Custom Control named CUSTOM_CONTROL that covers the entire screen
area. In the flow logic, both dialog modules STATUS_0100 and CANCEL are called at which the addition <code style="display: inline;"><span class="qtext">AT EXIT-COMMAND</span></code> is used for PAI.</p>
<p>In GUI status SCREEN_100, the common symbols of the status bar are occupied with function codes of the
type <span class="qtext400">E</span>. The PAI module only serves to exit the program. The most important
action to PBO is calling the static method <code style="display: inline;"><span class="qtext">create_screen</span></code> of the local class <code style="display: inline;"><span class="qtext">screen_handler</span></code>, in which an object of this class is created.</p>
<p>The instance constructor of the class <code style="display: inline;"><span class="qtext">screen_handler</span></code> generates container controls for a Picture Control and a Tree Control and afterwards both application controls.</p>
<ul>

<li>First, a  Docking Control is created with the local reference variable <code style="display: inline;"><span class="qtext">l_docking</span></code>.
 By transferring the constant <code style="display: inline;"><span class="qtext">dock_at_left</span></code> of the class CL_GUI_DOCKING_CONTAINER
to the parameter <code style="display: inline;"><span class="qtext">side</span></code>, a new area is created on the left side of the screen with a width of 135 pixels.</li>

</ul>

<ul>

<li>This screen area is split into two horizontal areas. This is achieved via the local reference variable
<code style="display: inline;"><span class="qtext">l_splitter</span></code>, which creates an object of the class CL_GUI_SPLITTER_CONTAINER and transfers the reference to the Docking Control to the parameter <code style="display: inline;"><span class="qtext">parent</span></code>.</li>

</ul>

<ul>

<li>Using the functional method <code style="display: inline;"><span class="qtext">get_container</span></code>, the references to both areas
of the splitter-control are determined in the local reference variables <code style="display: inline;"><span class="qtext">l_container_top</span></code>
and <code style="display: inline;"><span class="qtext">l_container_bottom</span></code> . Afterwards, the application-controls Picture and
Tree are generated, at which the parameter <code style="display: inline;"><span class="qtext">parent</span></code> of each constructor receives one of the references to the areas of the splitter control.</li>

</ul>

<p>By calling the method <code style="display: inline;"><span class="qtext">set_registered_events</span></code>, the doubleclick event for the
nodes of the tree are activated as system event. The method <code style="display: inline;"><span class="qtext">handle_node_double_click</span></code> is registered as event handler.</p>
<p>When leaving the instance constructor, all reference variables are deleted. However, the control objects
generated in the constructor with local reference variables are not collected by the garbage collection, as they are maintained by references from the CFW.</p>
<p>The method <code style="display: inline;"><span class="qtext">fill_picture</span></code> imports an image file in GIF format from the MIME
Repository into a byte string <code style="display: inline;"><span class="qtext">l_pict_wa</span></code>, which is then filled into an internal
table <code style="display: inline;"><span class="qtext">l_pict_tab</span></code>. The function module <span class="lnkgrey">DP_CREATE_URL</span>
generates an URL address for this table in the local variable <code style="display: inline;"><span class="qtext">l_url</span></code>, which is passed to the method <code style="display: inline;"><span class="qtext">load_picture_from_url</span></code> of the Picture Control.</p>
<p>The method <code style="display: inline;"><span class="qtext">fill_tree</span></code> generates the tree structure of the tree control in
the internal table <code style="display: inline;"><span class="qtext">l_node_table</span></code> of the row structure <span class="lnkgrey">ABDEMONODE</span>.
Every row of the table describes a node of the tree structure and must have a unique node key <span class="qtext">
node_key</span> for it. The components <code style="display: inline;"><span class="qtext">relatkey</span></code> and <code style="display: inline;"><span class="qtext">relatship</span></code> describe the relationships among the nodes.</p>
<p>The node table is generated from the content of the database table SPFLI. At the subnodes, the standard icons for non-expanded and expanded nodes are replaced with aircraft icons.</p>
<p>The event handler method <code style="display: inline;"><span class="qtext">handle_node_double_click</span></code> imports the parameter <span class="qtext">
node_key</span> of the event <code style="display: inline;"><span class="qtext">node_double_click</span></code> of the class CL_GUI_SIMPLE_TREE,
which contains the key of the selected node. Depending on the content, the methods <code style="display: inline;"><span class="qtext">fill_html</span></code> or <code style="display: inline;"><span class="qtext">fill_list</span></code> are called.</p>
<p>When the method <code style="display: inline;"><span class="qtext">fill_html</span></code> is called for the first time, it generates an object
of the class CL_GUI_HTML_VIEWER and links the associated HTML control with the area of the container
control to which the reference in <code style="display: inline;"><span class="qtext">container_html</span></code> points (with the Custom
Control on the screen). According to the selected node, the web address of an airline is read and handed
over to the method <code style="display: inline;"><span class="qtext">show_url</span></code> of the HTML control, by which the Homepage of the airline is displayed.</p>
<p>The method <code style="display: inline;"><span class="qtext">fill_list</span></code> generates a dialog box container and an ALV Grid Control
that is displayed in the dialog box. The event handler <code style="display: inline;"><span class="qtext">close_box</span></code> is registered
for the dialog box container. Activation using the method <code style="display: inline;"><span class="qtext">set_registered_events</span></code>
is not necessary here, as the event is activated by the class itself as system event when the object
is generated. A list is generated for the selected nodes. By assigning values to some components of
the structure <code style="display: inline;"><span class="qtext">l_list_layout</span></code> of the type <code style="display: inline;"><span class="qtext">lvc_s_layo</span></code>,
it is determined that the list title in displayed in small format, and that the column width of the
list is optimized, and that the list should not have an application toolbar. By calling the method <code style="display: inline;"><span class="qtext">set_table_for_first_display</span></code> of the ALV Grid Control, the list is displayed in the dialog box.</p>
<p>You use the event handler method <code style="display: inline;"><span class="qtext">close_box</span></code> to close the dialog box. To do
this, you call the methods <code style="display: inline;"><span class="qtext">free</span></code> of the concerned controls one after another
and then initialize the respective reference variables. After that, if a node is selected to generate
a list, both controls are created again in the method <code style="display: inline;"><span class="qtext">fill_list</span></code>. All other controls of the program cannot be deleted by the user and will be available until the program ends.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>The class CL_SALV_TABLE and other classes with the prefix CL_SALV_ meanwhile offer more comfortable ways of displaying ALV Controls.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abendynpro_auto_check_abexa/" title="Screens, Automatic Input Checks" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Screens, Automatic Input Checks
              </div>
            </div>
          </a>
        
        
          <a href="../abendynpro_check_flow_abexa/" title="Screens, Input Checks in the Flow Logic" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Screens, Input Checks in the Flow Logic
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>