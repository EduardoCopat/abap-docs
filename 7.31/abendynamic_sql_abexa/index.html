


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>SELECT, Dynamic Token Specification - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#select-dynamic-token-specification" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              SELECT, Dynamic Token Specification
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="ABAP docs" class="md-nav__link">
      ABAP docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#source-code" class="md-nav__link">
    Source Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    Description
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.31/abendynamic_sql_abexa.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="select-dynamic-token-specification">SELECT, Dynamic Token Specification</h1>
<p>The example illustrates the dynamic Token specification in OpenSQL for the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement.</p>
<p><b>7.31</b> <a href="../abendynamic_sql_abexa">7.40</a> <a href="../abendynamic_sql_abexa">7.54</a></p>
<p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP - Database Accesses</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopensql" class="blue">Open SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopen_sql_reading" class="blue">Open SQL - Read Accesses</a>&#xA0;&#x2192;&#xA0;
<a href="../abapselect" class="blue">SELECT</a>&#xA0;</small></p>
<h2 id="source-code">Source Code</h2>
<div class="highlight"><pre><span></span><code>    <span class="k">CONSTANTS</span> <span class="nv">left</span> <span class="k">TYPE </span><span class="nv">tabname</span> <span class="k">VALUE</span> <span class="s1">&#39;SFLIGHT&#39;</span><span class="p">.</span>

    <span class="k">DATA</span><span class="p">:</span> <span class="k">right</span>         <span class="k">TYPE </span><span class="nv">tabname</span><span class="p">,</span>
          <span class="nv">struct_type</span>   <span class="k">TYPE REF TO</span> <span class="nv">cl_abap_structdescr</span><span class="p">,</span>
          <span class="nv">table_type</span>    <span class="k">TYPE REF TO</span> <span class="nv">cl_abap_tabledescr</span><span class="p">,</span>
          <span class="nv">comp_tab1</span>     <span class="k">TYPE </span><span class="nv">cl_abap_structdescr</span><span class="o">=&gt;</span><span class="nv">component_table</span><span class="p">,</span>
          <span class="nv">comp_tab2</span>     <span class="k">TYPE </span><span class="nv">cl_abap_structdescr</span><span class="o">=&gt;</span><span class="nv">component_table</span><span class="p">,</span>
          <span class="nv">comp1</span>         <span class="k">LIKE LINE OF</span> <span class="nv">comp_tab1</span><span class="p">,</span>
          <span class="nv">comp2</span>         <span class="k">LIKE LINE OF</span> <span class="nv">comp_tab2</span><span class="p">,</span>
          <span class="k">select</span>        <span class="k">TYPE TABLE OF</span> <span class="nv">edpline</span><span class="p">,</span>
          <span class="nv">sublist</span>       <span class="k">TYPE </span><span class="nv">edpline</span><span class="p">,</span>
          <span class="k">from</span>          <span class="k">TYPE </span><span class="nv">string</span><span class="p">,</span>
          <span class="nv">first_on</span>      <span class="k">TYPE </span><span class="nv">abap_bool</span> <span class="k">VALUE</span> <span class="nv">abap_true</span><span class="p">,</span>
          <span class="nv">tref</span>          <span class="k">TYPE REF TO</span> <span class="k">data</span><span class="p">,</span>
          <span class="nv">alv</span>           <span class="k">TYPE REF TO</span> <span class="nv">cl_salv_table</span><span class="p">.</span>

    <span class="k">FIELD-SYMBOLS</span> <span class="nv">&lt;itab&gt;</span> <span class="k">TYPE </span><span class="nv">STANDARD</span> <span class="k">TABLE</span><span class="p">.</span>

    <span class="k">IF</span> <span class="nv">spfli</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">.</span>
      <span class="k">right</span> <span class="o">=</span> <span class="s1">&#39;SPFLI&#39;</span><span class="p">.</span>
    <span class="k">ELSEIF</span>  <span class="nv">scarr</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">.</span>
      <span class="k">right</span> <span class="o">=</span> <span class="s1">&#39;SCARR&#39;</span><span class="p">.</span>
    <span class="k">ELSEIF</span> <span class="nv">saplane</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">.</span>
      <span class="k">right</span> <span class="o">=</span> <span class="s1">&#39;SAPLANE&#39;</span><span class="p">.</span>
    <span class="k">ENDIF</span><span class="p">.</span>

    <span class="nv">first_on</span> <span class="o">=</span> <span class="nv">abap_true</span><span class="p">.</span>
    <span class="k">CLEAR</span><span class="p">:</span> <span class="k">select</span><span class="p">,</span> <span class="nv">sublist</span><span class="p">,</span> <span class="k">from</span><span class="p">.</span>
    <span class="k">READ</span> <span class="nv">CURRENT</span> <span class="nv">LINE</span> <span class="nv">LINE</span> <span class="k">VALUE</span> <span class="k">INTO</span> <span class="k">right</span><span class="p">.</span>

    <span class="nv">struct_type</span> <span class="o">?=</span>
      <span class="nv">cl_abap_typedescr</span><span class="o">=&gt;</span><span class="nf">describe_by_name</span><span class="p">(</span> <span class="nv">left</span> <span class="p">).</span>
    <span class="nv">comp_tab1</span> <span class="o">=</span> <span class="nv">struct_type</span><span class="o">-&gt;</span><span class="nf">get_components</span><span class="p">(</span> <span class="p">).</span>

    <span class="nv">struct_type</span> <span class="o">?=</span>
      <span class="nv">cl_abap_typedescr</span><span class="o">=&gt;</span><span class="nf">describe_by_name</span><span class="p">(</span> <span class="k">right</span> <span class="p">).</span>
    <span class="nv">comp_tab2</span> <span class="o">=</span> <span class="nv">struct_type</span><span class="o">-&gt;</span><span class="nf">get_components</span><span class="p">(</span> <span class="p">).</span>

    <span class="k">from</span> <span class="o">=</span> <span class="nv">left</span> <span class="o">&amp;&amp;</span> <span class="s1">` join `</span> <span class="o">&amp;&amp;</span> <span class="k">right</span> <span class="o">&amp;&amp;</span> <span class="s1">` on `</span><span class="p">.</span>

    <span class="k">LOOP AT </span><span class="nv">comp_tab1</span> <span class="k">INTO</span> <span class="nv">comp1</span> <span class="k">WHERE</span> <span class="nv">name</span> <span class="ow">IS NOT INITIAL</span><span class="p">.</span>
      <span class="nv">sublist</span> <span class="o">=</span> <span class="nv">left</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;~&#39;</span> <span class="o">&amp;&amp;</span> <span class="nv">comp1</span><span class="o">-</span><span class="nv">name</span><span class="p">.</span>
      <span class="k">APPEND</span> <span class="nv">sublist</span> <span class="k">TO</span> <span class="k">select</span><span class="p">.</span>
    <span class="k">ENDLOOP</span><span class="p">.</span>

    <span class="k">LOOP AT </span><span class="nv">comp_tab2</span> <span class="k">INTO</span> <span class="nv">comp2</span> <span class="k">WHERE</span> <span class="nv">name</span> <span class="ow">IS NOT INITIAL</span><span class="p">.</span>
      <span class="k">READ</span> <span class="k">TABLE</span> <span class="nv">comp_tab1</span> <span class="k">INTO</span> <span class="nv">comp1</span>
        <span class="k">WITH</span> <span class="k">TABLE</span> <span class="k">KEY</span> <span class="nv">name</span> <span class="o">=</span> <span class="nv">comp2</span><span class="o">-</span><span class="nv">name</span><span class="p">.</span>
      <span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">.</span>
        <span class="k">APPEND</span> <span class="nv">comp2</span> <span class="k">TO</span> <span class="nv">comp_tab1</span><span class="p">.</span>
        <span class="nv">sublist</span> <span class="o">=</span> <span class="k">right</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;~&#39;</span> <span class="o">&amp;&amp;</span> <span class="nv">comp2</span><span class="o">-</span><span class="nv">name</span><span class="p">.</span>
        <span class="k">APPEND</span> <span class="nv">sublist</span> <span class="k">TO</span> <span class="k">select</span><span class="p">.</span>
      <span class="k">ELSE</span><span class="p">.</span>
        <span class="k">IF</span> <span class="nv">first_on</span> <span class="o">=</span> <span class="nv">abap_false</span><span class="p">.</span>
          <span class="k">from</span> <span class="o">=</span> <span class="k">from</span> <span class="o">&amp;&amp;</span> <span class="s1">` and `</span><span class="p">.</span>
        <span class="k">ELSE</span><span class="p">.</span>
          <span class="nv">first_on</span> <span class="o">=</span> <span class="nv">abap_false</span><span class="p">.</span>
        <span class="k">ENDIF</span><span class="p">.</span>
        <span class="k">from</span> <span class="o">=</span> <span class="k">from</span> <span class="o">&amp;&amp;</span> <span class="nv">left</span>  <span class="o">&amp;&amp;</span> <span class="s1">`~`</span> <span class="o">&amp;&amp;</span> <span class="nv">comp2</span><span class="o">-</span><span class="nv">name</span> <span class="o">&amp;&amp;</span>
              <span class="s1">` = `</span> <span class="o">&amp;&amp;</span> <span class="k">right</span> <span class="o">&amp;&amp;</span> <span class="s1">`~`</span> <span class="o">&amp;&amp;</span> <span class="nv">comp2</span><span class="o">-</span><span class="nv">name</span><span class="p">.</span>
      <span class="k">ENDIF</span><span class="p">.</span>
    <span class="k">ENDLOOP</span><span class="p">.</span>

    <span class="nv">struct_type</span> <span class="o">=</span> <span class="nv">cl_abap_structdescr</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="nv">comp_tab1</span> <span class="p">).</span>
    <span class="nv">table_type</span> <span class="o">=</span> <span class="nv">cl_abap_tabledescr</span><span class="o">=&gt;</span><span class="nf">create</span><span class="p">(</span> <span class="nv">struct_type</span> <span class="p">).</span>
    <span class="k">CREATE DATA</span> <span class="nv">tref</span> <span class="k">TYPE </span><span class="nv">HANDLE</span> <span class="nv">table_type</span><span class="p">.</span>
    <span class="k">ASSIGN</span> <span class="nv">tref-&gt;*</span> <span class="k">TO</span> <span class="nv">&lt;itab&gt;</span><span class="p">.</span>

    <span class="k">SELECT</span> <span class="p">(</span><span class="nv">select</span><span class="p">)</span> <span class="k">INTO</span> <span class="k">TABLE</span> <span class="nv">&lt;itab&gt;</span> <span class="k">FROM</span> <span class="p">(</span><span class="nv">from</span><span class="p">).</span>

    <span class="k">TRY</span><span class="p">.</span>
        <span class="nv">cl_salv_table</span><span class="o">=&gt;</span><span class="nf">factory</span><span class="p">(</span>
          <span class="k">IMPORTING</span> <span class="nv">r_salv_table</span> <span class="o">=</span> <span class="nv">alv</span>
          <span class="k">CHANGING</span>  <span class="nv">t_table</span>      <span class="o">=</span> <span class="nv">&lt;itab&gt;</span> <span class="p">).</span>
        <span class="nv">alv</span><span class="o">-&gt;</span><span class="nf">display</span><span class="p">(</span> <span class="p">).</span>
      <span class="k">CATCH</span> <span class="nv">cx_salv_msg</span><span class="p">.</span>
        <span class="k">MESSAGE</span> <span class="s1">&#39;ALV display not possible&#39;</span> <span class="nv">TYPE</span> <span class="s1">&#39;I&#39;</span>
                <span class="nv">DISPLAY</span> <span class="nv">LIKE</span> <span class="s1">&#39;E&#39;</span><span class="p">.</span>
    <span class="k">ENDTRY</span><span class="p">.</span>
</code></pre></div>

<h2 id="description">Description</h2>
<p>After the program is started, a selection screen with the names of the tables SPFLI, SCARR, and SAPLANE
is displayed. The user can select one of the tables, which is then linked to the table SFLIGHT in accordance
with its foreign key relationship. This assumes that all fields with the same name have a foreign key relationship with each other. The content of the joined tables is displayed in an ALV Grid Control.</p>
<p>The selected table name is assigned to the field <code style="display: inline;"><span class="qtext">right</span></code>. Initially, the RTTS
class CL_ABAP_TYPEDESCR is used to determine the type description for the columns in the left and right
table of the join. The method GET_COMPONENTS_SIMPLE is used to store these in two type description tables
<code style="display: inline;"><span class="qtext">comp_tab1</span></code> or <code style="display: inline;"><span class="qtext">comp_tab2</span></code>, which contain an entry for each column of the database table in question.</p>
<p>Then, a fragment of the <code style="display: inline;"><span class="qtext">FROM</span></code> clause is created, which contains the names
of the tables to be joined; the <code style="display: inline;"><span class="qtext">FROM</span></code> clause is later completed using the <code style="display: inline;"><span class="qtext">ON</span></code> conditions.</p>
<p>All columns of the left table should be entered in the <code style="display: inline;"><span class="qtext">SELECT</span></code> list, as well
as those columns of the right table for which no columns with the same name exist in the left table. The content of the type description tables is processed in loops.</p>
<p>Initially, the columns of the left table are processed. The current column is incorporated first into
the dynamic <code style="display: inline;"><span class="qtext">SELECT</span></code> list, which should be specified in the internal table
<code style="display: inline;"><span class="qtext">select</span></code>. The column name <code style="display: inline;"><span class="qtext">comp1-name</span></code> is prefixed
with the table name in <code style="display: inline;"><span class="qtext">left</span></code>, to ensure its uniqueness. The statement <span class="qtext">
MOVE-CORRESPONDING</span> is used to copy the column description from <code style="display: inline;"><span class="qtext">comp_tab1</span></code>
to an internal table <code style="display: inline;"><span class="qtext">comp_tab_join</span></code> whose type is suitable for creating the objects later.</p>
<p>The columns of the right table are searched in the left table. If the column <code style="display: inline;"><span class="qtext">comp2-name</span></code>
only exists in the right table, it is, for the time being, incorporated into the type description table
<code style="display: inline;"><span class="qtext">comp_tab_join</span></code>. After that, it is added to all columns of the left table of the <code style="display: inline;"><span class="qtext">SELECT</span></code> list <code style="display: inline;"><span class="qtext">select</span></code>, just like before.</p>
<p>If the column in <code style="display: inline;"><span class="qtext">comp2-name</span></code> exists in both tables, an <code style="display: inline;"><span class="qtext">ON</span></code>
condition that compares columns with the same name from the left and the right table, is added to the dynamic <code style="display: inline;"><span class="qtext">FROM</span></code> clause <code style="display: inline;"><span class="qtext">from</span></code>.</p>
<p>The type description table <code style="display: inline;"><span class="qtext">comp_tab_join</span></code> and the static method CREATE of
the class CL_ABAP_STRUCTDESCR can now be used to create a matching type object for the structure of
the target area of the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement. This type object could now be specified
after the addition <code style="display: inline;"><span class="qtext">TYPE HANDLE</span></code> of the statement <span class="qtext">CREATE
DATA</span> to create a structured work area. However, we go one step further and use the method CREATE
of the class CL_ABAP_TABLEDESCR to create a type object for an internal table of this row type and create
this with <code style="display: inline;"><span class="qtext">CREATE DATA</span></code>. By assigning the dynamically created internal tables
to a field symbol <code style="display: inline;"><span class="qtext">&lt;itab&gt;</span></code>, we create a name for the internal table that
is useable in the <code style="display: inline;"><span class="qtext">INTO</span></code> clause of the <code style="display: inline;"><span class="qtext">SELECT</span></code> statement.
Direct specification of a dereferencing <code style="display: inline;"><span class="qtext">tref-&gt;*</span></code> in statements other than
<code style="display: inline;"><span class="qtext">ASSIGN</span></code> is only possible if <code style="display: inline;"><span class="qtext">tref</span></code> is not generically
typed. However, in our example, <code style="display: inline;"><span class="qtext">tref</span></code> is generically typed with <code style="display: inline;"><span class="qtext">TYPE REF TO data</span></code>.</p>
<p>Subsequently, the data is read with a completely dynamic <code style="display: inline;"><span class="qtext">SELECT</span></code> statement.
The content of the internal table <code style="display: inline;"><span class="qtext">&lt;itab&gt;</span></code> is displayed dynamically using class CL_SALV_TABLE.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../abendynamic_selection_glosry/" title="Dynamic Selection" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Dynamic Selection
              </div>
            </div>
          </a>
        
        
          <a href="../abendynamic_type_glosry/" title="Dynamic type" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Dynamic type
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>