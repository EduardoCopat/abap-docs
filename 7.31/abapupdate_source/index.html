


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapupdate source - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#update-dbtab-source" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapupdate source
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternatives" class="md-nav__link">
    Alternatives
  </a>
  
    <nav class="md-nav" aria-label="Alternatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-1" class="md-nav__link">
    Alternative 1
  </a>
  
    <nav class="md-nav" aria-label="Alternative 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_1" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-2" class="md-nav__link">
    Alternative 2
  </a>
  
    <nav class="md-nav" aria-label="Alternative 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_2" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-3" class="md-nav__link">
    Alternative 3
  </a>
  
    <nav class="md-nav" aria-label="Alternative 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect_3" class="md-nav__link">
    Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.31/abapupdate_source.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_language_external_data" class="blue">Processing External Data</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_sql" class="blue">ABAP - Database Accesses</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopensql" class="blue">Open SQL</a>&#xA0;&#x2192;&#xA0;
<a href="../abenopen_sql_writing" class="blue">Open SQL - Write Accesses</a>&#xA0;&#x2192;&#xA0;
<a href="../abapupdate" class="blue">UPDATE dbtab</a>&#xA0;</small></p>
<h1 id="update-dbtab-source">UPDATE dbtab - source</h1>
<p><a href="../abapupdate_shortref" class="blue">Short Reference</a>  </p>
<p>Other versions: 
 <b>7.31</b> | <a href="../../7.40/abapupdate_source">7.40</a> | <a href="../../7.54/abapupdate_source">7.54</a></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">... { {SET <a href="../abapupdate_set_expression" class="blue">set_expression</a> [WHERE <a href="../abenwhere_logexp" class="blue">sql_cond</a>]}</span> <br>
<span class="qtext">&#xA0;&#xA0;&#xA0;&#xA0;| {FROM wa|{TABLE itab}} }.</span> 
</code></pre></p>
<h2 id="alternatives">Alternatives</h2>
<p><a href="#!ABAP_ALTERNATIVE_1@1@" class="blue"> 1. <code style="display: inline;"><span class="qtext">... SET set_expression [WHERE sql_cond]</span></code> </a> <br>
<br><a href="#!ABAP_ALTERNATIVE_2@2@" class="blue"> 2. <code style="display: inline;"><span class="qtext">... FROM wa</span></code> </a><br />
 <a href="#!ABAP_ALTERNATIVE_3@3@" class="blue"> 3. <code style="display: inline;"><span class="qtext">... FROM TABLE itab</span></code> </a>  </p>
<h3 id="effect">Effect</h3>
<p>The specifications in <code style="display: inline;"><span class="qtext">source</span></code> define which rows and columns are changed. Either
individual columns are changed using the addition <code style="display: inline;"><span class="qtext">SET</span></code>, or entire rows are overwritten using the addition <code style="display: inline;"><span class="qtext">FROM</span></code>.</p>
<p>A <code style="display: inline;"><span class="qtext">wa</span></code> data object that is not table-type or an <code style="display: inline;"><span class="qtext">itab</span></code>
internal table can be specified after <code style="display: inline;"><span class="qtext">FROM</span></code>. The content of these objects determines which rows are changed and which values are used to overwrite the row(s).  </p>
<p><a name="@@SET@@UPDATE dbtab@@"></a>
<a name="@@WHERE@@UPDATE dbtab@@"></a>
<a name="!ABAP_ALTERNATIVE_1@1@"></a></p>
<h2 id="alternative-1">Alternative 1</h2>
<p><code style="display: inline;"><span class="qtext">... SET set_expression [WHERE <a href="../abenwhere_logexp" class="blue">sql_cond</a>]</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_1">Effect</h3>
<p>After the <code style="display: inline;"><span class="qtext">SET</span></code> adddition, the changes are specified in a list of change expressions in <a href="../abapupdate_set_expression" class="blue"><code style="display: inline;"><span class="qtext">set_expression</span></code></a>.</p>
<p>The addition <code style="display: inline;"><span class="qtext">WHERE</span></code> uses a logical expression <code style="display: inline;"><span class="qtext">sql_cond</span></code>
to define in which rows of the database table the changes are executed. For the logical expression <a href="../abenwhere_logexp" class="blue">
<code style="display: inline;"><span class="qtext">sql_cond</span></code></a>, the same applies as for the <a href="../abapwhere" class="blue"><code style="display: inline;"><span class="qtext">WHERE</span></code>condition</a> of the statement <code style="display: inline;"><span class="qtext">SELECT</span></code>, with the exception that no
<a href="../abensubquery_glosry" class="grey" title="Glossary Entry">subqueries</a> are to be evaluated
in the database table to be changed. If no <code style="display: inline;"><span class="qtext">WHERE</span></code> condition is specified, all the rows in the database table are changed.</p>
<p>The content of primary key fields can only be changed if the respective database table is not linked with a search help and if
<a href="../abenpooled_table_glosry" class="grey" title="Glossary Entry">pool</a> and
<a href="../abencluster_table_glosry" class="grey" title="Glossary Entry">cluster tables</a> are not
accessed. If these changes would create a row which would cause double entries in the primary key or
a unique secondary index of the database table, then no rows are changed and <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is set to 4.  </p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Dynamic conversion of the content of an arbitrary column in an arbitrary database table of a previous currency in Euro.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">PARAMETERS</span><span class="p">:</span> <span class="k">table</span>    <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">30</span><span class="p">,</span> 
            <span class="nv">column</span>   <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">30</span><span class="p">,</span> 
            <span class="nv">old_curr</span> <span class="k">TYPE </span><span class="nv">sycurr</span><span class="p">.</span> 

<span class="k">DATA</span><span class="p">:</span> <span class="nv">set_expr</span>  <span class="k">TYPE </span><span class="nv">string</span><span class="p">,</span> 
      <span class="nv">condition</span> <span class="k">TYPE </span><span class="nv">string</span><span class="p">.</span> 

<span class="nv">set_expr</span> <span class="o">=</span> <span class="nv">column</span> <span class="o">&amp;&amp;</span> <span class="s1">` = &#39;EUR&#39;`</span><span class="p">.</span> 

<span class="nv">condition</span> <span class="o">=</span> <span class="nv">column</span> <span class="o">&amp;&amp;</span> <span class="s1">` = old_curr`</span><span class="p">.</span> 

<span class="k">TRY</span><span class="p">.</span> 
    <span class="k">UPDATE</span> <span class="p">(</span><span class="nv">table</span><span class="p">)</span> 
    <span class="nv">SET</span>    <span class="p">(</span><span class="nv">set_expr</span><span class="p">)</span> 
    <span class="k">WHERE</span>  <span class="p">(</span><span class="nv">condition</span><span class="p">).</span> 
  <span class="k">CATCH</span> <span class="nv">cx_sy_dynamic_osql_error</span><span class="p">.</span> 
    <span class="k">MESSAGE</span> <span class="s1">`Error in update!`</span> <span class="nv">TYPE</span> <span class="s1">&#39;I&#39;</span><span class="p">.</span> 
<span class="k">ENDTRY</span><span class="p">.</span> 
</code></pre></div>
<a name="@@FROM@@UPDATE dbtab@@"></a>
</div>
<a name="!ABAP_ALTERNATIVE_2@2@"></a></p>
<h2 id="alternative-2">Alternative 2</h2>
<p><code style="display: inline;"><span class="qtext">... FROM wa</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_2">Effect</h3>
<p>If you specify a non-table-type work area <code style="display: inline;"><span class="qtext">wa</span></code>, the system will search for
a row in the database table which has the same content in its primary key as the corresponding beginning part of the work area. The work area must fulfill the
<a href="../abenopen_sql_wa" class="blue">prerequisites</a> for use in Open SQL statements.</p>
<ul>

<li>
If you specify a work area which does not contain any reference variables for
<a href="../abenlob_handle_glosry" class="grey" title="Glossary Entry">LOB handles</a>, the content
of the work area is interpreted without being converted and follows the structure of the database table
or the view. The content of the work area is assigned to the rows found. The assignment takes place without conversion, from left to right following the structure of the database table or the view.
</li>
<li>
When you specify a <a href="../abenlob_handle_structure_glosry" class="grey" title="Glossary Entry">LOB handle structure</a>, it must be constructed (in accordance with the
<a href="../abenopen_sql_wa" class="blue">prerequisites</a>) exactly like the structure of the database table. Work area components that are not
<a href="../abenlob_handle_component_glosry" class="grey" title="Glossary Entry">LOB handle components</a>
are assigned directly to the corresponding column of the row found. In the case of a LOB handle component
of a read stream type, this type is created. In this case of a type for a locator: this must exist and is used as a source. For details, see <a href="../abeninsert_update_modify_lob" class="blue">LOB handles</a>.
<br></li>

</ul>

<p>If there is no row with the same content for the primary key in the database or if the change would
lead to a double entry in a unique secondary index, the row is not changed and <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is set to 4.</p>
<p>By default, an automatic client handling is performed, which means that a
<a href="../abenclient_identifier_glosry" class="grey" title="Glossary Entry">client identifier</a>
specified in <code style="display: inline;"><span class="qtext">wa</span></code> is not considered, but the current client is used instead.
The content of <code style="display: inline;"><span class="qtext">wa</span></code> is not affected. You can switch off automatic client handling using the addition <a href="../abapupdate_target" class="blue"><code style="display: inline;"><span class="qtext">CLIENT SPECIFIED</span></code></a>.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The work area <code style="display: inline;"><span class="qtext">wa</span></code> should always be declared in relation to the database table or the view in the ABAP Dictionary. For the derivation of
<a href="../abenlob_handle_structure_glosry" class="grey" title="Glossary Entry">LOB handle structures</a>, there are special
<a href="../abaptypes_lob_handle" class="blue">additions</a> to the statements <code style="display: inline;"><span class="qtext">TYPES</span></code> and <code style="display: inline;"><span class="qtext">[CLASS-]DATA</span></code>.
</li>

<li>
If you have a static specification of the database table or the view, a
<a href="../abapupdate_obsolete" class="blue">short form</a> of the specification outside of classes
is possible. This means that the specification of the work area using <code style="display: inline;"><span class="qtext">FROM</span></code> wa can be omitted. The prerequisite is that a
<a href="../abentable_work_area_glosry" class="grey" title="Glossary Entry">table work area</a> <span class="qtext">
dbtab</span> for the respective database table or the view is declared using the statement <code style="display: inline;"><span class="qtext">TABLES</span></code>.
The system expands the <code style="display: inline;"><span class="qtext">UPDATE</span></code> statement implicitly to include the addition <code style="display: inline;"><span class="qtext">FROM dbtab</span></code>.
<br></li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Change the discount rate of customer with customer number &apos;00017777&apos; (in the current client) to 3 per cent.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">DATA</span> <span class="nv">wa</span> <span class="k">TYPE </span><span class="nv">scustom</span><span class="p">.</span> 

<span class="k">SELECT</span> <span class="k">SINGLE</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="nv">scustom</span> 
       <span class="k">INTO</span> <span class="nv">wa</span> 
       <span class="k">WHERE</span> <span class="k">id</span> <span class="o">=</span> <span class="s1">&#39;00017777&#39;</span><span class="p">.</span> 

<span class="nv">wa</span><span class="o">-</span><span class="nv">discount</span> <span class="o">=</span> <span class="s1">&#39;003&#39;</span><span class="p">.</span> 
<span class="k">UPDATE</span> <span class="nv">scustom</span> <span class="k">FROM</span> <span class="nv">wa</span><span class="p">.</span> 
</code></pre></div>
<a name="@@FROM TABLE@@UPDATE dbtab@@"></a>
</div>
<a name="!ABAP_ALTERNATIVE_3@3@"></a></p>
<h2 id="alternative-3">Alternative 3</h2>
<p><code style="display: inline;"><span class="qtext">... FROM TABLE itab</span></code><br />
 <br><!-- /A --></p>
<h3 id="effect_3">Effect</h3>
<p>If an internal table <code style="display: inline;"><span class="qtext">itab</span></code> is specified, the system processes all the rows
of the internal table in accordance with the rules for the work area <code style="display: inline;"><span class="qtext">wa</span></code>, with the exception that when specifying an internal table,
<a href="../abenlocator_glosry" class="grey" title="Glossary Entry">locators</a> are used as a source but
<a href="../abenwriter_stream_glosry" class="grey" title="Glossary Entry">read streams</a> cannot be created.</p>
<p>The row type of the internal table must fulfill the <a href="../abenopen_sql_wa" class="blue">prerequisites</a> for use in Open SQLstatements.</p>
<p>If there is no row with the same content of the <a href="../abenprimary_key_glosry" class="grey" title="Glossary Entry">
primary key</a> in the database (for a row of the internal table) or if the change would lead to a double
entry in a unique secondary index, the row is not changed and <code style="display: inline;"><span class="qtext">sy-subrc</span></code> is
set to 4. If the internal table is empty, no rows are changed. However <code style="display: inline;"><span class="qtext">sy-subrc</span></code>
is still set to 0. The system field <code style="display: inline;"><span class="qtext">sy-dbcnt</span></code> is set to the number of rows that are inserted.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>When an internal table is used, package by package processing leads to a read access (running in parallel
to an <code style="display: inline;"><span class="qtext">UPDATE</span></code> on the same rows) that partially shows the new status and partially shows the old status.</p>
<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>Reduction of the flight cost for all of today&apos;s flights of an airline carrier in the database table
<span class="lnkgrey">SFLIGHT</span> by the percentage <code style="display: inline;"><span class="qtext">percent</span></code>. The calculation
of the new price is always carried out in an internal table <code style="display: inline;"><span class="qtext">sflight_tab</span></code> and the database table is changed accordingly.</p>
<div class="highlight"><pre><span></span><code><span class="k">PARAMETERS</span><span class="p">:</span> <span class="nv">p_carrid</span> <span class="k">TYPE </span><span class="nv">sflight</span><span class="o">-</span><span class="nv">carrid</span><span class="p">,</span> 
            <span class="nv">percent</span>  <span class="k">TYPE </span><span class="nv">p</span> <span class="k">LENGTH</span> <span class="mi">1</span> <span class="k">DECIMALS</span> <span class="mi">0</span><span class="p">.</span> 

<span class="k">DATA</span> <span class="nv">sflight_tab</span> <span class="k">TYPE TABLE OF</span> <span class="nv">sflight</span><span class="p">.</span> 
<span class="k">FIELD-SYMBOLS</span> <span class="nv">&lt;sflight&gt;</span> <span class="k">TYPE </span><span class="nv">sflight</span><span class="p">.</span> 

<span class="k">SELECT</span> <span class="o">*</span> 
       <span class="k">FROM</span> <span class="nv">sflight</span> 
       <span class="k">INTO</span> <span class="k">TABLE</span> <span class="nv">sflight_tab</span> 
       <span class="k">WHERE</span> <span class="nv">carrid</span> <span class="o">=</span> <span class="nv">p_carrid</span> <span class="ow">AND</span> 
             <span class="nv">fldate</span> <span class="o">=</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">datum</span><span class="p">.</span> 

<span class="k">IF</span> <span class="nv">sy</span><span class="o">-</span><span class="nv">subrc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span> 
  <span class="k">LOOP AT </span><span class="nv">sflight_tab</span> <span class="k">ASSIGNING</span> <span class="nv">&lt;sflight&gt;</span><span class="p">.</span> 
    <span class="nv">&lt;sflight&gt;</span><span class="o">-</span><span class="nv">price</span> <span class="o">=</span> 
      <span class="nv">&lt;sflight&gt;</span><span class="o">-</span><span class="nv">price</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="nv">percent</span> <span class="p">/</span> <span class="mi">100</span> <span class="p">).</span> 
  <span class="k">ENDLOOP</span><span class="p">.</span> 
<span class="k">ENDIF</span><span class="p">.</span> 

<span class="k">UPDATE</span> <span class="nv">sflight</span> <span class="k">FROM</span> <span class="k">TABLE</span> <span class="nv">sflight_tab</span><span class="p">.</span> 
</code></pre></div>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>