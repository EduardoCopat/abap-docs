


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenintern extern proc call guidl - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#internal-and-external-procedure-calls" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenintern extern proc call guidl
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rule" class="md-nav__link">
    Rule
  </a>
  
    <nav class="md-nav" aria-label="Rule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#only-call-suitable-procedures-externally" class="md-nav__link">
    Only call suitable procedures externally
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#details" class="md-nav__link">
    Details
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.31/abenintern_extern_proc_call_guidl.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_pgl" class="blue">ABAP Programming Guidelines</a>&#xA0;&#x2192;&#xA0;
<a href="../abenrobust_abap_guidl" class="blue">Robust ABAP</a>&#xA0;&#x2192;&#xA0;
<a href="../abenmodularization_unit_guidl" class="blue">Modularization units</a>&#xA0;</small></p>
<h1 id="internal-and-external-procedure-calls">Internal and External Procedure Calls</h1>
<p>Other versions: 
 <b>7.31</b> | <a href="../../7.40/abenintern_extern_proc_call_guidl">7.40</a> | <a href="../../7.54/abenintern_extern_proc_call_guidl">7.54</a></p>
<h2 id="background">Background</h2>
<p>When a procedure is called, a distinction is made between <span class="italic">internal</span> and <span class="italic">
external</span> procedure calls. An internal call calls a procedure of the same program, whereas an
external call calls a procedure of a different program. The major difference between internal and external
procedure calls is that the program might have to be loaded first for an external call. With internal calls, the program is already loaded. Possible external calls, where a program might have to be loaded, include:</p>
<ul>

<li>Methods of global classes in class pools</li>

</ul>

<ul>

<li>Function modules in function groups</li>

</ul>

<ul>

<li>Subroutines in all programs that can contain subroutines (<code style="display: inline;"><span class="qtext">PERFORM...IN PROGRAM</span></code>)</li>

</ul>

<ul>

<li>Methods of local classes, where the name of the class is dynamically specified using an absolute type name (\PROGRAM= ... \CLASS=...\)</li>

</ul>

<p>The programs loaded within an internal session are grouped into <span class="italic">program groups</span>.
There is always a <span class="italic">main program group</span> and possibly multiple <span class="italic">additional
program groups</span>. Each program group contains a main program and possibly several additional programs
(loaded due to external use). The loaded programs are not always the result of a call. The reason could
also have to do with other references to components of external programs, such as a reference to a visible
data type of a global class. The loaded programs are not always the result of a call. The reason could
also have to do with other references to components of external programs, such as a reference to a visible data type of a global class.</p>
<p>If shared resources of the program group are accessed in an externally called procedure, the information
about which program group the program was loaded into is very important. Whether a program creates a
separate program group when loaded or whether it is loaded into an existing program group, largely depends on the program type:</p>
<ul>

<li>Class pools and function groups (and external calls of global class methods or function modules) always create a new program group when loaded.</li>

</ul>

<ul>

<li>If subroutines or methods of local classes of other program types (not class pools and function groups) are called externally, the programs are loaded into the program group of the calling program.</li>

</ul>

<h2 id="rule">Rule</h2>
<h3 id="only-call-suitable-procedures-externally">Only call suitable procedures externally</h3>
<p>Only call procedures externally that are intended for external calls. The methods of global classes
and function modules are intended for external calls. Subroutines and the methods of local classes are not designed for external calls.</p>
<h2 id="details">Details</h2>
<p>The only procedures designed for external calls are the visible methods of global classes and function
modules. The framework programs of these procedures are always main programs of their program groups and the procedure always works with the resources of this program group.</p>
<p>However, external calls of subroutines and dynamic calls of methods in local classes of other programs
are problematic. Usually, subroutines and local classes are intended for internal use within their program.
External calls are not anticipated during the development phase. (On the other hand, no problems occur
when an already loaded program deliberately passes a reference to an object of a local class to another
program). Therefore, these subroutines and local classes should always be treated as private components of the program, even though they are technically public.</p>
<p>In addition, an assignment to a particular program group is not statically defined. Because the call
sequence can depend on user actions or data contents, the program of the called procedure can belong
to the main program group in one instance and can belong to an additional program group in another instance. This does not define which program group the shared resources belong to. The shared resources are:</p>
<ul>

<li><span class="bold">Classical dynpros (including selection screens and classical lists) and GUI status</span></li>

</ul>

<dd>
The classical dynpros and GUI status are always shared within a program group (the classical dynpro
and GUI status of the main program in this program group). For example, the <span class="qtext">CALL
SCREEN</span> statement in an externally called procedure always calls a dynpro of the main program
of the program group and not a dynpro of the main program of the procedure. The response to user actions in the dynpro (called as described above) is also handled in the main program of the program group.
</dd>

<ul>

<li><span class="bold">Interface Work Areas</span></li>

</ul>

<dd>
Interface work areas are defined as table work areas using the <code style="display: inline;"><span class="qtext">TABLES</span></code> and
<code style="display: inline;"><span class="qtext">NODES</span></code> statements or using the obsolete statement <span class="qtext">DATA
... COMMON PART</span>. They are only created once for each program group and are shared by the main program and the loaded additional programs.
</dd>

<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>Except for the warning regarding dynamic calls of methods of local classes from other programs, this
rule is basically intended to raise the awareness of problems when using existing programs. In new programs, the creation of new subroutines and the use of
<a href="../abentable_work_area_guidl" class="lnkpurple" title="Guideline">shared resources</a> are
largely obsolete anyway. The problems mentioned above can only occur if classical dynpros or selection screens (and therefore GUI status and table work areas) are used.</p>
<p></div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following source code demonstrates how to assign interface work areas to program groups, in the
case of external subroutine calls. The table work area <code style="display: inline;"><span class="qtext">dbtab</span></code> declared in
<code style="display: inline;"><span class="qtext">sapssubr</span></code> is shared either with <code style="display: inline;"><span class="qtext">sapmprog</span></code> or with
<code style="display: inline;"><span class="qtext">saplfugr</span></code>. If <code style="display: inline;"><span class="qtext">share</span></code> has the value &apos;FUGR&apos;, <span class="qtext">
saplfugr</span> and<code style="display: inline;"><span class="qtext">sapssubr</span></code> share the table work area. Otherwise it is shared
by <code style="display: inline;"><span class="qtext">sapmprog</span></code> and <code style="display: inline;"><span class="qtext">sapssubr</span></code>. You cannot rely on a specific assignment.</p>
<dd>
<span class="qtext">*********************************** <br>PROGRAM sapmprog. <br>TABLES dbtab. <br>... <br>
IF share = &apos;FUGR&apos;. <br>&#xA0;&#xA0;CALL FUNCTION &apos;FUNC&apos;. <br>ENDIF. <br>... <br>PERFORM sub IN PROGRAM sapssubr. <br>***********************************</span>
</dd>

<dd>
<span class="qtext">*********************************** <br>FUNCTION-POOL saplfugr. <br>TABLES dbtab. <br>
... <br>FUNCTION func. <br>&#xA0;&#xA0;PERFORM sub IN PROGRAM sapssubr. <br>ENDFUNCTION. <br>***********************************</span>
</dd>

<dd>
<code style="display: inline;"><span class="qtext">*********************************** <br>PROGRAM sapssubr. <br>TABLES dbtab. <br>... <br>FORM sub. <br>&#xA0;&#xA0;... <br>ENDFORM. <br>***********************************</span></code>
</dd>

</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>