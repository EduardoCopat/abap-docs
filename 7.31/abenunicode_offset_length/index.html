


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abenunicode offset length - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#offset-and-length-specifications-in-unicode-programs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abenunicode offset length
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#offsetlength-specifications-for-elementary-data-objects" class="md-nav__link">
    Offset/Length Specifications for Elementary Data Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#offsetlength-specifications-for-structures" class="md-nav__link">
    Offset/Length Specifications for Structures
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#offsetlength-specifications-for-actual-parameters" class="md-nav__link">
    Offset/Length Specifications for Actual Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#offsetlength-specification-for-field-symbols" class="md-nav__link">
    Offset/Length Specification for Field Symbols
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.31/abenunicode_offset_length.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_oview" class="blue">ABAP Overview</a>&#xA0;&#x2192;&#xA0;
<a href="../abenunicode" class="blue">ABAP and Unicode</a>&#xA0;&#x2192;&#xA0;
<a href="../abenunicode_restrictions" class="blue">Differences between Unicode and Non-Unicode Programs</a>&#xA0;</small></p>
<h1 id="offset-and-length-specifications-in-unicode-programs">Offset and Length Specifications in Unicode Programs</h1>
<p><a href="../abenoffset_length" class="blue">Offset/length specifications</a> are made by appending <code style="display: inline;"><span class="qtext">[+off][(len)]</span></code> to the name of a
<a href="../abenoperands_data_objects" class="blue">data object in operand position</a>, and the specifications
are used to access subareas of a data object. This type of programming is no longer completely possible
in Unicode systems because, for example when accessing structures with components of different data
types, it is not possible to define whether offset and length should be specified in characters or bytes. Furthermore, restrictions have been introduced that forbid access to memory areas outside of flat data objects.</p>
<p>Other versions: 
 <b>7.31</b> | <s><i>7.40</i></s> | <s><i>7.54</i></s></p>
<h2 id="offsetlength-specifications-for-elementary-data-objects">Offset/Length Specifications for Elementary Data Objects</h2>
<p>Offset/length specifications are permitted for <a href="../abencharlike_data_object_glosry" class="grey" title="Glossary Entry">character-like data objects</a> and
<a href="../abenbyte_like_data_object_glosry" class="grey" title="Glossary Entry">byte-like data objects</a>.
The specification of offset and length is interpreted either as a number of characters or as a number
of bytes. The rules that determine which data objects in Unicode programs count as character-like or byte-like objects do not allow for offset/length specifications for data objects of numeric data types.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>The method of using data objects of type <code style="display: inline;"><span class="qtext">c</span></code> as containers for storing structures
of different types, which are often not known until runtime, in which components are accessed using
offset/length access, is no longer possible in Unicode programs. Instead of these containers, the statement
<a href="../abapcreate_data" class="blue"><code style="display: inline;"><span class="qtext">CREATE DATA</span></code></a> can be used to
generate data objects of any structure. To enable access to existing containers, these can be assigned
to a field symbol using the <a href="../abapassign_casting" class="blue"><code style="display: inline;"><span class="qtext">CASTING</span></code></a>
addition of the statement <a href="../abapassign" class="blue"><code style="display: inline;"><span class="qtext">ASSIGN</span></code></a>.
The <a href="../abapassign_mem_area" class="blue"><code style="display: inline;"><span class="qtext">COMPONENT</span></code></a> addition can then be used to access components.</p>
</div>

<h2 id="offsetlength-specifications-for-structures">Offset/Length Specifications for Structures</h2>
<p>An offset/length specification for a structure is only permitted in Unicode systems if the structure is either</p>
<ul>

<li><a href="../abencharlike_data_object_glosry" class="grey" title="Glossary Entry">character-like</a> (meaning it only contains flat character-like components), or it is</li>

</ul>

<ul>

<li><a href="../abenflat_glosry" class="grey" title="Glossary Entry">flat</a>, has a character-like initial fragment according to the
<a href="../abenunicode_fragment_view_glosry" class="grey" title="Glossary Entry">Unicode fragment view</a>, and the offset/length specification accesses this initial fragment.</li>

</ul>

<p>In both cases, the specification of offset and length is interpreted as a number of characters.</p>
<p><br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>The following structure has both character-like and non-character-like components:</p>
<div class="highlight"><pre><span></span><code><span class="k">DATA</span><span class="p">:</span> 
  <span class="k">BEGIN OF</span> <span class="nv">struc</span><span class="p">,</span> 
    <span class="nv">a</span> <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">3</span><span class="p">,</span>    <span class="c1">&quot;Length 3 characters </span>
    <span class="nv">b</span> <span class="k">TYPE </span><span class="nv">n</span> <span class="k">LENGTH</span> <span class="mi">4</span><span class="p">,</span>    <span class="c1">&quot;Length 4 characters </span>
   <span class="nv">c</span> <span class="k">TYPE </span><span class="nv">d</span><span class="p">,</span>             <span class="c1">&quot;Length 8 characters </span>
    <span class="nv">d</span> <span class="k">TYPE </span><span class="nv">t</span><span class="p">,</span>             <span class="c1">&quot;Length 6 characters </span>
    <span class="nv">e</span> <span class="k">TYPE </span><span class="nv">decfloat16</span><span class="p">,</span>    <span class="c1">&quot;Length 8 bytes </span>
    <span class="nv">f</span> <span class="k">TYPE </span><span class="nv">c</span> <span class="k">LENGTH</span> <span class="mi">28</span><span class="p">,</span>   <span class="c1">&quot;Length 28 characters </span>
    <span class="nv">g</span> <span class="k">TYPE </span><span class="nv">x</span> <span class="k">LENGTH</span> <span class="mi">2</span><span class="p">,</span>    <span class="c1">&quot;Length 2 bytes </span>
  <span class="k">END OF</span> <span class="nv">struc</span><span class="p">.</span>
</code></pre></div>

<p>The <a href="../abenunicode_fragment_view_glosry" class="grey" title="Glossary Entry">Unicode fragment view</a> splits the structure into five areas, F1 - F5.</p>
<p><span class="qtext400"> [ aaa | bbbb | cccccccc | ddd | AAA | eeee | fffffffffffff | gg ] <br>[&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;F1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;F2 |&#xA0;&#xA0;F3&#xA0;&#xA0;|&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; F4&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;| F5 ]</span></p>
<p>Offset/length access is only possible for the character-like initial fragment <span class="qtext400">F1</span>.
Specifications such as <code style="display: inline;"><span class="qtext">struc(21)</span></code> or <code style="display: inline;"><span class="qtext">struc+7(14)</span></code>
are accepted and are handled as a single field of type <code style="display: inline;"><span class="qtext">c</span></code>. An access such as <code style="display: inline;"><span class="qtext">struc+57(2)</span></code>, for example, is not permitted in Unicode systems.</p>
</div>

<h2 id="offsetlength-specifications-for-actual-parameters">Offset/Length Specifications for Actual Parameters</h2>
<p>For <a href="../abapperform_parameters" class="blue">actual parameters</a> specified in <a href="../abapperform" class="blue">
<code style="display: inline;"><span class="qtext">PERFORM</span></code></a>, in Unicode programs, it is not possible to specify a memory
area outside of the actual parameter using offset/length specifications. In particular, it is no longer possible to specify an offset without a length, as this would implicitly set the length of the actual parameter.</p>
<h2 id="offsetlength-specification-for-field-symbols">Offset/Length Specification for Field Symbols</h2>
<p>When assigning a <a href="../abapassign_mem_area" class="blue">memory area</a> to a field symbol using
the <a href="../abapassign" class="blue"><code style="display: inline;"><span class="qtext">ASSIGN</span></code></a> statement, in Unicode
programs it is now only possible to use offset/length specifications to access the memory within the
data object. The addition <a href="../abapassign_range" class="blue"><code style="display: inline;"><span class="qtext">RANGE</span></code></a> defines the data object.</p>
<p>Field symbols themselves are also allocated an assignable memory area. This is effective if a field symbol is used as a source in the <a href="../abapassign" class="blue"><code style="display: inline;"><span class="qtext">ASSIGN</span></code></a> statement.</p>
<p>In <a href="../abennon_unicode_program_glosry" class="grey" title="Glossary Entry">non-Unicode programs</a>, the assignable area is defined by the
<a href="../abendata_area_glosry" class="grey" title="Glossary Entry">data area</a> of the current program, which can lead to references being overwritten.</p>
<p>If a data object is entered as a source in <code style="display: inline;"><span class="qtext">ASSIGN</span></code>, no offset can be specified
without a length unless the explicit <code style="display: inline;"><span class="qtext">RANGE</span></code> addition is specified. Otherwise,
this would implicitly set the length of the data object. If the name of a field symbol is specified, its data type in Unicode programs must be
<a href="../abenflat_glosry" class="grey" title="Glossary Entry">flat</a> and elementary if an offset is specified without a length.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Note</p></p>
<p>Previously, cross-field offset/length accesses could be usefully implemented in the <code style="display: inline;"><span class="qtext">ASSIGN</span></code>
statement for processing repeating groups in structures. In order to enable this in Unicode systems,
the <code style="display: inline;"><span class="qtext">ASSIGN</span></code> statement has been enhanced with the additions <a href="../abapassign_range" class="blue">
<code style="display: inline;"><span class="qtext">RANGE</span></code></a> and <a href="../abapassign_mem_area" class="blue"><code style="display: inline;"><span class="qtext">INCREMENT</span></code></a>.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>