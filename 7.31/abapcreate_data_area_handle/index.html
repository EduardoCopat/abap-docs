


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Abapcreate data area handle - ABAP docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.83bccb1f.min.css">
      
      
        
        
        <meta name="theme-color" content="#4051b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://raw.githubusercontent.com/highlightjs/highlight.js/master/src/styles/github.css">
    
      <link rel="stylesheet" href="../../css/abap-docs.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#create-data-area-handle" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="ABAP docs" class="md-header-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ABAP docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Abapcreate data area handle
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABAP docs" class="md-nav__button md-logo" aria-label="ABAP docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ABAP docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eduardocopat/abap-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eduardocopat/abap-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../abapdata_options/" title="7.31" class="md-nav__link">
      7.31
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav" aria-label="Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#effect" class="md-nav__link">
    Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restrictions" class="md-nav__link">
    Restrictions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#continue" class="md-nav__link">
    Continue
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardocopat/abap-docs/edit/master/docs/7.31/abapcreate_data_area_handle.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <p><small>
<a href="../abenabap" class="blue">ABAP Keyword Documentation</a>&#xA0;&#x2192;&#xA0;
<a href="../abenabap_reference" class="blue">ABAP - Reference</a>&#xA0;&#x2192;&#xA0;
<a href="../abencreate_objects" class="blue">Creating Objects</a>&#xA0;&#x2192;&#xA0;
<a href="../abapcreate_data" class="blue">CREATE DATA</a>&#xA0;</small></p>
<h1 id="create-data-area-handle">CREATE DATA - AREA HANDLE</h1>
<p><a href="../abapcreate_data_shortref" class="blue">Short Reference</a>  </p>
<p><a name="@@AREA HANDLE@@CREATE DATA@@"></a>
Other versions: 
 <b>7.31</b> | <a href="../../7.40/abapcreate_data_area_handle">7.40</a> | <a href="../../7.54/abapcreate_data_area_handle">7.54</a></p>
<h2 id="syntax">Syntax</h2>
<p><pre><code class="hljs abap abap-docs-syntax-block">
<span class="qtext">CREATE DATA dref AREA HANDLE handle ... .</span> 
</code></pre></p>
<h3 id="effect">Effect</h3>
<p>This statement creates an anonymous data object as a
<a href="../abenshared_object_glosry" class="grey" title="Glossary Entry">shared object</a> in the
<a href="../abenarea_instance_version_glosry" class="grey" title="Glossary Entry">area instance version</a> of the
<a href="../abenshared_memory_glosry" class="grey" title="Glossary Entry">shared memory</a>, which is bound to the
<a href="../abenarea_handle_glosry" class="grey" title="Glossary Entry">area handle</a> referenced by <code style="display: inline;"><span class="qtext">handle</span></code>.</p>
<p><code style="display: inline;"><span class="qtext">handle</span></code> expects an object reference variable whose static type is <span class="lnkgrey">CL_ABAP_MEMORY_AREA</span> or one of its subclasses
(<a href="../abenarea_class_glosry" class="grey" title="Glossary Entry">area class</a>). When the statement is executed, <code style="display: inline;"><span class="qtext">handle</span></code> must refer to an
<a href="../abenarea_handle_glosry" class="grey" title="Glossary Entry">area handle</a> and the area
handle must be associated to an area instance version with a change lock. To create such a reference, you can do either of the following:</p>
<ul>

<li>
Inherit the return value of the methods ATTACH_FOR_WRITE or ATTACH_FOR_UPDATE of an area class created using transaction <span class="lnkgrey">SHMA</span>. 
</li>
<li>
Inherit the return value of the GET_HANDLE_BY_OREF method of any area class. 
</li>
<li>
Inheritthe return value of the method GET_IMODE_HANDLE of the predefined class <span class="lnkgrey">CL_IMODE_AREA</span>.
<br></li>

</ul>

<p>The latter is a reference to an area handle for the current
<a href="../abeninternal_session_glosry" class="grey" title="Glossary Entry">internal mode</a> and
the statement <code style="display: inline;"><span class="qtext">CREATE DATA</span></code> acts like without the addition <code style="display: inline;"><span class="qtext">AREA HANDLE</span></code>.</p>
<h3 id="restrictions">Restrictions</h3>
<p>The creation of anonymous data objects as shared objects is subject to the following restrictions for data references in the shared objects memory: The storage of data references in closed
<a href="../abenarea_instance_version_glosry" class="grey" title="Glossary Entry">area instance versions</a> of the shared objects memory is restricted to such
<a href="../abendynamic_type_glosry" class="grey" title="Glossary Entry">dynamic types</a> that are known when loading a program into an internal mode.</p>
<p>Therefore, the following data types cannot be used to create anonymous data objects in the shared object memory, if these are to be preserved in a closed area instance version:</p>
<li>
All data types that are created in a temporary subroutine pool created with <a href="../abapgenerate_shortref" class="blue"><code style="display: inline;"><span class="qtext">GENERATE SUBROUTINE POOL</span></code></a>.
<br></li>

<li>
Data types created dynamically at runtime with methods of the <a href="../abenrttc_glosry" class="grey" title="Glossary Entry">RTTC</a>.
<br></li>

<li>
Bound data types of anonymous data objects that were created at program runtime and to which a dynamic length was assigned when they were created with <code style="display: inline;"><span class="qtext">CREATE DATA</span></code>.
<br></li>

<li>
Bound data types of anonymous data objects that were created at program runtime and to which a dynamic
type requiring length definition was assigned when the data objects were created with <code style="display: inline;"><span class="qtext">CREATE DATA</span></code>.
<br></li>

<p>Points 3 and 4 include the statement <code style="display: inline;"><span class="qtext">CREATE DATA</span></code> with the addition <code style="display: inline;"><span class="qtext">AREA HANDLE</span></code> itself. Exceptions to the restrictions listed under points 2 to 4 are:</p>
<ul>

<li>
The restrictions are not valid for data type <code style="display: inline;"><span class="qtext">p</span></code>.
</li>
<li>
The restrictions are not valid for data types <code style="display: inline;"><span class="qtext">c</span></code>, <code style="display: inline;"><span class="qtext">n</span></code>, and <code style="display: inline;"><span class="qtext">x</span></code> as long as the storage requirements do not exceed 100 bytes.
<br></li>

</ul>

<p>If a data reference variable that is stored in the shared objects memory refers to an anonymous data
object of a dynamic type that is subject to the restrictions, the exception of the class CX_SHM_EXTERNAL_TYPE is raised when the DETACH_COMMIT method is executed.</p>
<p>The following can be used without restriction:</p>
<ul>

<li>
All visible data types of global interfaces and classes.
</li>
<li>
Data elements, structures, and database tables and table types from ABAP Dictionary.
</li>
<li>
Data types from type groups.
</li>
<li>
Bound data types of anonymous data objects created at program runtime to which a static type with a static length was assigned when they were created with <code style="display: inline;"><span class="qtext">CREATE DATA</span></code>.
</li>
<li>
Bound data types of anonymous data objects created at program runtime to which a fully specified dynamic type was assigned when they were created with <code style="display: inline;"><span class="qtext">CREATE DATA</span></code>.
</li>
<li>
All data types that were created statically in the same program with declarative statements. However, you should note that you can no longer access existing area instances once you changed the creating program.
<br></li>

</ul>

<p>The additions <a href="../abapcreate_data_reference" class="blue"><code style="display: inline;"><span class="qtext">REF TO</span></code></a>
and <a href="../abapcreate_data_itab" class="blue"><code style="display: inline;"><span class="qtext">TABLE OF</span></code></a> can be used
until the specified types fulfill above requirements. This also applies for the addition <a href="../abapcreate_data_handle" class="blue">
<code style="display: inline;"><span class="qtext">HANDLE</span></code></a>, that means the type object must have been created with methods of the <a href="../abenrtti_glosry" class="grey" title="Glossary Entry">RTTI</a> from allowed types.</p>
<p><br style="display: block">
<div markdown="span" class="admonition note">
<p class="admonition-title">Notes</p>
<ul></p>
<li>
The only shared object that can be addressed directly from an ABAP program after a connection to an area instance version is the instance of the
<a href="../abenroot_data_class_glosry" class="grey" title="Glossary Entry">area root class</a>. All
other objects have to be referenced in this instance. In particular, there is no direct access to anonymous
data objects possible. Instead, the instance of the area root class must contain references to these anonymous data objects, which can also be indirect.
</li>

<li>
We recommend that you only use global data types with <code style="display: inline;"><span class="qtext">AREA HANDLE</span></code>. As an
occasional replacement for the direct reference to data elements and table types from ABAP Dictionary, you can create the respective types in global interfaces, classes, or even type groups. <br>
</li>

<p></ul>
</div>
<br style="display: block">
<div markdown="span" class="admonition example">
<p class="admonition-title">Example</p></p>
<p>See <a href="../abencreate_shared_data_objct_abexa" class="blue">Creating a Data Object as a Shared Object</a>  </p>
</div>

<h3 id="continue">Continue</h3>
<p><a href="../abencreate_shared_data_objct_abexa" class="blue">Creating a Data Object as a Shared Object</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
      
        <script src="../../javascript/hljs.js"></script>
      
    
  </body>
</html>